--
-- PostgreSQL database dump
--

-- Dumped from database version 10.11
-- Dumped by pg_dump version 13.1

-- Started on 2022-10-04 21:40:40

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 12 (class 2615 OID 16537)
-- Name: financiero; Type: SCHEMA; Schema: -; Owner: postgres
--

CREATE SCHEMA financiero;


ALTER SCHEMA financiero OWNER TO postgres;

--
-- TOC entry 3094 (class 0 OID 0)
-- Dependencies: 12
-- Name: SCHEMA financiero; Type: COMMENT; Schema: -; Owner: postgres
--

COMMENT ON SCHEMA financiero IS 'Contiene todos los datos referentes a los movimientos financieros';


--
-- TOC entry 6 (class 2615 OID 16394)
-- Name: general; Type: SCHEMA; Schema: -; Owner: postgres
--

CREATE SCHEMA general;


ALTER SCHEMA general OWNER TO postgres;

--
-- TOC entry 3095 (class 0 OID 0)
-- Dependencies: 6
-- Name: SCHEMA general; Type: COMMENT; Schema: -; Owner: postgres
--

COMMENT ON SCHEMA general IS 'Esquema que contine tablas de uso general para otros esquemas
y toda la aplicacion';


--
-- TOC entry 10 (class 2615 OID 16495)
-- Name: inventario; Type: SCHEMA; Schema: -; Owner: postgres
--

CREATE SCHEMA inventario;


ALTER SCHEMA inventario OWNER TO postgres;

--
-- TOC entry 5 (class 2615 OID 16408)
-- Name: seguridad; Type: SCHEMA; Schema: -; Owner: postgres
--

CREATE SCHEMA seguridad;


ALTER SCHEMA seguridad OWNER TO postgres;

--
-- TOC entry 3096 (class 0 OID 0)
-- Dependencies: 5
-- Name: SCHEMA seguridad; Type: COMMENT; Schema: -; Owner: postgres
--

COMMENT ON SCHEMA seguridad IS 'Tablas para la gestion de la seguridad de la aplicacion.';


--
-- TOC entry 11 (class 2615 OID 16458)
-- Name: ventas; Type: SCHEMA; Schema: -; Owner: postgres
--

CREATE SCHEMA ventas;


ALTER SCHEMA ventas OWNER TO postgres;

--
-- TOC entry 3097 (class 0 OID 0)
-- Dependencies: 11
-- Name: SCHEMA ventas; Type: COMMENT; Schema: -; Owner: postgres
--

COMMENT ON SCHEMA ventas IS 'Esquema que contiene las tablas para gestionar todo lo relacionado con ventas';


SET default_tablespace = '';

--
-- TOC entry 222 (class 1259 OID 24791)
-- Name: fin_det_factura; Type: TABLE; Schema: financiero; Owner: postgres
--

CREATE TABLE financiero.fin_det_factura (
    id_det_factura bigint NOT NULL,
    id_factura bigint NOT NULL,
    cantidad numeric(6,2) NOT NULL,
    detalle character varying(250) NOT NULL,
    sub_total numeric(20,2) NOT NULL,
    descuento smallint DEFAULT 0 NOT NULL,
    vr_descuento numeric(20,2) DEFAULT 0 NOT NULL,
    vr_transporte numeric(20,2) DEFAULT 0 NOT NULL,
    vr_antes_iva numeric(20,2) NOT NULL,
    iva smallint DEFAULT 0 NOT NULL,
    vr_iva numeric(20,2) DEFAULT 0 NOT NULL,
    total numeric(20,2) NOT NULL,
    id_inventario bigint NOT NULL
);
ALTER TABLE ONLY financiero.fin_det_factura ALTER COLUMN id_det_factura SET STATISTICS 0;
ALTER TABLE ONLY financiero.fin_det_factura ALTER COLUMN id_factura SET STATISTICS 0;
ALTER TABLE ONLY financiero.fin_det_factura ALTER COLUMN cantidad SET STATISTICS 0;
ALTER TABLE ONLY financiero.fin_det_factura ALTER COLUMN detalle SET STATISTICS 0;


ALTER TABLE financiero.fin_det_factura OWNER TO postgres;

--
-- TOC entry 3098 (class 0 OID 0)
-- Dependencies: 222
-- Name: TABLE fin_det_factura; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON TABLE financiero.fin_det_factura IS 'Tabla que contiene los items relacionados a una factura.';


--
-- TOC entry 3099 (class 0 OID 0)
-- Dependencies: 222
-- Name: COLUMN fin_det_factura.id_det_factura; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_det_factura.id_det_factura IS 'Identificador de la tabla.';


--
-- TOC entry 3100 (class 0 OID 0)
-- Dependencies: 222
-- Name: COLUMN fin_det_factura.id_factura; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_det_factura.id_factura IS 'Llave foranea que relaciona el detalle del movimiento con el movimiento.';


--
-- TOC entry 3101 (class 0 OID 0)
-- Dependencies: 222
-- Name: COLUMN fin_det_factura.cantidad; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_det_factura.cantidad IS 'CANTIDAD DE INVENTARIO QUE SE RELACIONA EN EL DETALLE DE LA FACTURA.';


--
-- TOC entry 3102 (class 0 OID 0)
-- Dependencies: 222
-- Name: COLUMN fin_det_factura.detalle; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_det_factura.detalle IS 'Caampo donde se describe los detalles dle moviemiento.';


--
-- TOC entry 3103 (class 0 OID 0)
-- Dependencies: 222
-- Name: COLUMN fin_det_factura.sub_total; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_det_factura.sub_total IS 'subtotal del item antes de descuento.';


--
-- TOC entry 3104 (class 0 OID 0)
-- Dependencies: 222
-- Name: COLUMN fin_det_factura.descuento; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_det_factura.descuento IS 'Porcentaje de descuento del movimiento.';


--
-- TOC entry 3105 (class 0 OID 0)
-- Dependencies: 222
-- Name: COLUMN fin_det_factura.vr_descuento; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_det_factura.vr_descuento IS 'Valor del descuento del detalle movimiento.';


--
-- TOC entry 3106 (class 0 OID 0)
-- Dependencies: 222
-- Name: COLUMN fin_det_factura.vr_transporte; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_det_factura.vr_transporte IS 'Valor del trasporte del item.';


--
-- TOC entry 3107 (class 0 OID 0)
-- Dependencies: 222
-- Name: COLUMN fin_det_factura.vr_antes_iva; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_det_factura.vr_antes_iva IS 'Valor del item restado los descuentos y sumado otros costos ejemplo: transporte.';


--
-- TOC entry 3108 (class 0 OID 0)
-- Dependencies: 222
-- Name: COLUMN fin_det_factura.iva; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_det_factura.iva IS 'porcentaje de iva del item.';


--
-- TOC entry 3109 (class 0 OID 0)
-- Dependencies: 222
-- Name: COLUMN fin_det_factura.vr_iva; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_det_factura.vr_iva IS 'Valor del iva del item.';


--
-- TOC entry 3110 (class 0 OID 0)
-- Dependencies: 222
-- Name: COLUMN fin_det_factura.total; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_det_factura.total IS 'Valor total del movimiento.';


--
-- TOC entry 3111 (class 0 OID 0)
-- Dependencies: 222
-- Name: COLUMN fin_det_factura.id_inventario; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_det_factura.id_inventario IS 'llave foranea que relaciona el item con un inventario (con un producto).';


--
-- TOC entry 221 (class 1259 OID 24789)
-- Name: detalle_movimiento_id_detalle_movimiento_seq; Type: SEQUENCE; Schema: financiero; Owner: postgres
--

CREATE SEQUENCE financiero.detalle_movimiento_id_detalle_movimiento_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE financiero.detalle_movimiento_id_detalle_movimiento_seq OWNER TO postgres;

--
-- TOC entry 3112 (class 0 OID 0)
-- Dependencies: 221
-- Name: detalle_movimiento_id_detalle_movimiento_seq; Type: SEQUENCE OWNED BY; Schema: financiero; Owner: postgres
--

ALTER SEQUENCE financiero.detalle_movimiento_id_detalle_movimiento_seq OWNED BY financiero.fin_det_factura.id_det_factura;


--
-- TOC entry 223 (class 1259 OID 24806)
-- Name: detalle_movimiento_id_inventario_seq; Type: SEQUENCE; Schema: financiero; Owner: postgres
--

CREATE SEQUENCE financiero.detalle_movimiento_id_inventario_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE financiero.detalle_movimiento_id_inventario_seq OWNER TO postgres;

--
-- TOC entry 3113 (class 0 OID 0)
-- Dependencies: 223
-- Name: detalle_movimiento_id_inventario_seq; Type: SEQUENCE OWNED BY; Schema: financiero; Owner: postgres
--

ALTER SEQUENCE financiero.detalle_movimiento_id_inventario_seq OWNED BY financiero.fin_det_factura.id_inventario;


--
-- TOC entry 242 (class 1259 OID 25597)
-- Name: fin_abo_fac; Type: TABLE; Schema: financiero; Owner: postgres
--

CREATE TABLE financiero.fin_abo_fac (
    id_abo_fac bigint NOT NULL,
    id_factura bigint NOT NULL,
    id_movimiento bigint,
    abono numeric(20,2) NOT NULL,
    fec_abono timestamp(0) with time zone DEFAULT now() NOT NULL,
    pago numeric(20,2),
    regreso numeric(20,2),
    saldo numeric(20,2)
);
ALTER TABLE ONLY financiero.fin_abo_fac ALTER COLUMN id_abo_fac SET STATISTICS 0;
ALTER TABLE ONLY financiero.fin_abo_fac ALTER COLUMN id_factura SET STATISTICS 0;
ALTER TABLE ONLY financiero.fin_abo_fac ALTER COLUMN id_movimiento SET STATISTICS 0;


ALTER TABLE financiero.fin_abo_fac OWNER TO postgres;

--
-- TOC entry 3114 (class 0 OID 0)
-- Dependencies: 242
-- Name: COLUMN fin_abo_fac.id_abo_fac; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_abo_fac.id_abo_fac IS 'IDENTIFICADOR ÃšNICO DEL ABONO DE FACTURA.';


--
-- TOC entry 3115 (class 0 OID 0)
-- Dependencies: 242
-- Name: COLUMN fin_abo_fac.id_factura; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_abo_fac.id_factura IS 'LLAVE FORANEA QUE IDENTIFICA A QUE FACTURA PERTENECE EL ABONO.';


--
-- TOC entry 3116 (class 0 OID 0)
-- Dependencies: 242
-- Name: COLUMN fin_abo_fac.id_movimiento; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_abo_fac.id_movimiento IS 'LLAVE FORANEA QUE IDENTIFICA EL MOVIMIENTO QUE REGISTRO EL ABONO.';


--
-- TOC entry 3117 (class 0 OID 0)
-- Dependencies: 242
-- Name: COLUMN fin_abo_fac.abono; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_abo_fac.abono IS 'ABONO QUE SE REALIZA A LA FACTURA.';


--
-- TOC entry 3118 (class 0 OID 0)
-- Dependencies: 242
-- Name: COLUMN fin_abo_fac.fec_abono; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_abo_fac.fec_abono IS 'FECHA EN LA QUE SE REALIZA EL ABONO A UNA FACTURA.';


--
-- TOC entry 3119 (class 0 OID 0)
-- Dependencies: 242
-- Name: COLUMN fin_abo_fac.pago; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_abo_fac.pago IS 'VALOR DEL PAGO.';


--
-- TOC entry 3120 (class 0 OID 0)
-- Dependencies: 242
-- Name: COLUMN fin_abo_fac.regreso; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_abo_fac.regreso IS 'VALOR DEL REGRESO DADO.';


--
-- TOC entry 3121 (class 0 OID 0)
-- Dependencies: 242
-- Name: COLUMN fin_abo_fac.saldo; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_abo_fac.saldo IS 'SALDO RESULTANTE DESPUES DEL ABONO.';


--
-- TOC entry 241 (class 1259 OID 25595)
-- Name: fin_abo_fac_id_abo_fac_seq; Type: SEQUENCE; Schema: financiero; Owner: postgres
--

CREATE SEQUENCE financiero.fin_abo_fac_id_abo_fac_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE financiero.fin_abo_fac_id_abo_fac_seq OWNER TO postgres;

--
-- TOC entry 3122 (class 0 OID 0)
-- Dependencies: 241
-- Name: fin_abo_fac_id_abo_fac_seq; Type: SEQUENCE OWNED BY; Schema: financiero; Owner: postgres
--

ALTER SEQUENCE financiero.fin_abo_fac_id_abo_fac_seq OWNED BY financiero.fin_abo_fac.id_abo_fac;


--
-- TOC entry 226 (class 1259 OID 24817)
-- Name: fin_fac_par; Type: TABLE; Schema: financiero; Owner: postgres
--

CREATE TABLE financiero.fin_fac_par (
    id_fac_par bigint NOT NULL,
    id_det_factura bigint NOT NULL,
    parametros json NOT NULL
);
ALTER TABLE ONLY financiero.fin_fac_par ALTER COLUMN id_fac_par SET STATISTICS 0;
ALTER TABLE ONLY financiero.fin_fac_par ALTER COLUMN id_det_factura SET STATISTICS 0;


ALTER TABLE financiero.fin_fac_par OWNER TO postgres;

--
-- TOC entry 3123 (class 0 OID 0)
-- Dependencies: 226
-- Name: TABLE fin_fac_par; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON TABLE financiero.fin_fac_par IS 'Contiene datos adicionales si el item lo requiere
ejemplo un vidrio tiene medidas que usan para el calculo 
del area del vidrio.';


--
-- TOC entry 3124 (class 0 OID 0)
-- Dependencies: 226
-- Name: COLUMN fin_fac_par.id_fac_par; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_fac_par.id_fac_par IS 'IDENTIFICADOR UNICO DE LA TABLA FACTURA PARAMETRO.';


--
-- TOC entry 3125 (class 0 OID 0)
-- Dependencies: 226
-- Name: COLUMN fin_fac_par.id_det_factura; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_fac_par.id_det_factura IS 'LLAVE FORANEA QUE IDENTIFICA A QUE DETALLE FACTURA PERTENECE EL PARAMETRO.';


--
-- TOC entry 3126 (class 0 OID 0)
-- Dependencies: 226
-- Name: COLUMN fin_fac_par.parametros; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_fac_par.parametros IS 'PARAMETROS ADICIONALES DEL ITEM.';


--
-- TOC entry 224 (class 1259 OID 24813)
-- Name: fin_fac_item_id_fac_item_seq; Type: SEQUENCE; Schema: financiero; Owner: postgres
--

CREATE SEQUENCE financiero.fin_fac_item_id_fac_item_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE financiero.fin_fac_item_id_fac_item_seq OWNER TO postgres;

--
-- TOC entry 3127 (class 0 OID 0)
-- Dependencies: 224
-- Name: fin_fac_item_id_fac_item_seq; Type: SEQUENCE OWNED BY; Schema: financiero; Owner: postgres
--

ALTER SEQUENCE financiero.fin_fac_item_id_fac_item_seq OWNED BY financiero.fin_fac_par.id_fac_par;


--
-- TOC entry 225 (class 1259 OID 24815)
-- Name: fin_fac_item_id_factura_seq; Type: SEQUENCE; Schema: financiero; Owner: postgres
--

CREATE SEQUENCE financiero.fin_fac_item_id_factura_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE financiero.fin_fac_item_id_factura_seq OWNER TO postgres;

--
-- TOC entry 3128 (class 0 OID 0)
-- Dependencies: 225
-- Name: fin_fac_item_id_factura_seq; Type: SEQUENCE OWNED BY; Schema: financiero; Owner: postgres
--

ALTER SEQUENCE financiero.fin_fac_item_id_factura_seq OWNED BY financiero.fin_fac_par.id_det_factura;


--
-- TOC entry 229 (class 1259 OID 24832)
-- Name: fin_factura; Type: TABLE; Schema: financiero; Owner: postgres
--

CREATE TABLE financiero.fin_factura (
    id_factura bigint NOT NULL,
    id_cliente bigint NOT NULL,
    id_estado smallint NOT NULL,
    totales json NOT NULL,
    items json NOT NULL,
    total numeric(20,2) NOT NULL,
    saldo numeric(20,2) NOT NULL,
    transporte numeric(20,2) NOT NULL,
    descuento numeric(3,1) NOT NULL,
    id_movimiento bigint,
    fec_factura timestamp(0) with time zone DEFAULT now() NOT NULL,
    num_factura character varying(50) DEFAULT 'NA'::character varying NOT NULL
);
ALTER TABLE ONLY financiero.fin_factura ALTER COLUMN id_factura SET STATISTICS 0;
ALTER TABLE ONLY financiero.fin_factura ALTER COLUMN id_cliente SET STATISTICS 0;
ALTER TABLE ONLY financiero.fin_factura ALTER COLUMN id_estado SET STATISTICS 0;


ALTER TABLE financiero.fin_factura OWNER TO postgres;

--
-- TOC entry 3129 (class 0 OID 0)
-- Dependencies: 229
-- Name: TABLE fin_factura; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON TABLE financiero.fin_factura IS 'Tabla para manejar los detalles genetales de una factura esta tabla se extiende de movimiento';


--
-- TOC entry 3130 (class 0 OID 0)
-- Dependencies: 229
-- Name: COLUMN fin_factura.id_factura; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_factura.id_factura IS 'Identificador unico de la tabla.';


--
-- TOC entry 3131 (class 0 OID 0)
-- Dependencies: 229
-- Name: COLUMN fin_factura.id_cliente; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_factura.id_cliente IS 'llave foranea que relaciona la tabla factura con el cliente relacionado a esta.';


--
-- TOC entry 3132 (class 0 OID 0)
-- Dependencies: 229
-- Name: COLUMN fin_factura.id_estado; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_factura.id_estado IS 'llave foranea que relaciona la factura con el estado en el que se encuentra ejemplo: abono, cancelado, eliminado.';


--
-- TOC entry 3133 (class 0 OID 0)
-- Dependencies: 229
-- Name: COLUMN fin_factura.totales; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_factura.totales IS 'OBJETO JSON QUE CONTIENE LOS TOTALES DE LA FACTURA.';


--
-- TOC entry 3134 (class 0 OID 0)
-- Dependencies: 229
-- Name: COLUMN fin_factura.items; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_factura.items IS 'ARRAY DE OBJETOS JSON QUE CONTIENE LOS ITEMS DE LA FACTURA.';


--
-- TOC entry 3135 (class 0 OID 0)
-- Dependencies: 229
-- Name: COLUMN fin_factura.total; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_factura.total IS 'VALOR TOTAL DE LA FACTURA';


--
-- TOC entry 3136 (class 0 OID 0)
-- Dependencies: 229
-- Name: COLUMN fin_factura.saldo; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_factura.saldo IS 'SALDO PENDIENTE DE PAGO DE LA FACTURA';


--
-- TOC entry 3137 (class 0 OID 0)
-- Dependencies: 229
-- Name: COLUMN fin_factura.transporte; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_factura.transporte IS 'VALOR DEL TRANSPORTE.';


--
-- TOC entry 3138 (class 0 OID 0)
-- Dependencies: 229
-- Name: COLUMN fin_factura.descuento; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_factura.descuento IS 'PORCENTAJE DE DESCUENTO DE LA FACTURA.';


--
-- TOC entry 3139 (class 0 OID 0)
-- Dependencies: 229
-- Name: COLUMN fin_factura.id_movimiento; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_factura.id_movimiento IS 'LLAVE FORANEA QUE IDENTIFICA LOS MOVIMIENTOS CONTABLES A LOS QUE PERTENESE LA FACTURA.';


--
-- TOC entry 3140 (class 0 OID 0)
-- Dependencies: 229
-- Name: COLUMN fin_factura.fec_factura; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_factura.fec_factura IS 'FECHA EN LA QUE SE GENERA LA FACTURA.';


--
-- TOC entry 3141 (class 0 OID 0)
-- Dependencies: 229
-- Name: COLUMN fin_factura.num_factura; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_factura.num_factura IS 'SECUENCIAL QUE IDENTIFICA LA FACTURA.';


--
-- TOC entry 228 (class 1259 OID 24830)
-- Name: fin_factura_id_cliente_seq; Type: SEQUENCE; Schema: financiero; Owner: postgres
--

CREATE SEQUENCE financiero.fin_factura_id_cliente_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE financiero.fin_factura_id_cliente_seq OWNER TO postgres;

--
-- TOC entry 3142 (class 0 OID 0)
-- Dependencies: 228
-- Name: fin_factura_id_cliente_seq; Type: SEQUENCE OWNED BY; Schema: financiero; Owner: postgres
--

ALTER SEQUENCE financiero.fin_factura_id_cliente_seq OWNED BY financiero.fin_factura.id_cliente;


--
-- TOC entry 227 (class 1259 OID 24826)
-- Name: fin_factura_id_factura_seq; Type: SEQUENCE; Schema: financiero; Owner: postgres
--

CREATE SEQUENCE financiero.fin_factura_id_factura_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE financiero.fin_factura_id_factura_seq OWNER TO postgres;

--
-- TOC entry 3143 (class 0 OID 0)
-- Dependencies: 227
-- Name: fin_factura_id_factura_seq; Type: SEQUENCE OWNED BY; Schema: financiero; Owner: postgres
--

ALTER SEQUENCE financiero.fin_factura_id_factura_seq OWNED BY financiero.fin_factura.id_factura;


--
-- TOC entry 237 (class 1259 OID 25539)
-- Name: fin_fondo; Type: TABLE; Schema: financiero; Owner: postgres
--

CREATE TABLE financiero.fin_fondo (
    fondo character varying(20) NOT NULL,
    id_fondo smallint NOT NULL
);
ALTER TABLE ONLY financiero.fin_fondo ALTER COLUMN fondo SET STATISTICS 0;


ALTER TABLE financiero.fin_fondo OWNER TO postgres;

--
-- TOC entry 3144 (class 0 OID 0)
-- Dependencies: 237
-- Name: TABLE fin_fondo; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON TABLE financiero.fin_fondo IS 'TABLA PERSONALIZADA QUE CONTIENE LOS FONDOS DE LA EMPRESA (PARTICULARIDAD VICTOR H)';


--
-- TOC entry 3145 (class 0 OID 0)
-- Dependencies: 237
-- Name: COLUMN fin_fondo.fondo; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_fondo.fondo IS 'DESCRIPCIÃ“N CORTA DEL FONDO.';


--
-- TOC entry 3146 (class 0 OID 0)
-- Dependencies: 237
-- Name: COLUMN fin_fondo.id_fondo; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_fondo.id_fondo IS 'IDENTIFICADOR ÃšNICO DEL FONDO.';


--
-- TOC entry 238 (class 1259 OID 25546)
-- Name: fin_fondo_id_fondo_seq; Type: SEQUENCE; Schema: financiero; Owner: postgres
--

CREATE SEQUENCE financiero.fin_fondo_id_fondo_seq
    AS smallint
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE financiero.fin_fondo_id_fondo_seq OWNER TO postgres;

--
-- TOC entry 3147 (class 0 OID 0)
-- Dependencies: 238
-- Name: fin_fondo_id_fondo_seq; Type: SEQUENCE OWNED BY; Schema: financiero; Owner: postgres
--

ALTER SEQUENCE financiero.fin_fondo_id_fondo_seq OWNED BY financiero.fin_fondo.id_fondo;


--
-- TOC entry 217 (class 1259 OID 16538)
-- Name: fin_movimiento; Type: TABLE; Schema: financiero; Owner: postgres
--

CREATE TABLE financiero.fin_movimiento (
    id_movimiento bigint NOT NULL,
    id_sucursal smallint,
    id_tipo_movimiento smallint NOT NULL,
    fecha timestamp with time zone DEFAULT now() NOT NULL,
    observacion text DEFAULT 'NA'::text NOT NULL,
    id_estado smallint NOT NULL
);
ALTER TABLE ONLY financiero.fin_movimiento ALTER COLUMN id_movimiento SET STATISTICS 0;
ALTER TABLE ONLY financiero.fin_movimiento ALTER COLUMN id_sucursal SET STATISTICS 0;
ALTER TABLE ONLY financiero.fin_movimiento ALTER COLUMN id_tipo_movimiento SET STATISTICS 0;
ALTER TABLE ONLY financiero.fin_movimiento ALTER COLUMN fecha SET STATISTICS 0;
ALTER TABLE ONLY financiero.fin_movimiento ALTER COLUMN observacion SET STATISTICS 0;


ALTER TABLE financiero.fin_movimiento OWNER TO postgres;

--
-- TOC entry 3148 (class 0 OID 0)
-- Dependencies: 217
-- Name: COLUMN fin_movimiento.id_movimiento; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_movimiento.id_movimiento IS 'Identificador Ãºnico del movimiento.';


--
-- TOC entry 3149 (class 0 OID 0)
-- Dependencies: 217
-- Name: COLUMN fin_movimiento.id_sucursal; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_movimiento.id_sucursal IS 'llave foranea a la sucursal que esta haciendo el moviemiento.';


--
-- TOC entry 3150 (class 0 OID 0)
-- Dependencies: 217
-- Name: COLUMN fin_movimiento.id_tipo_movimiento; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_movimiento.id_tipo_movimiento IS 'llave foranea a la tabla tipo de movimiento.';


--
-- TOC entry 3151 (class 0 OID 0)
-- Dependencies: 217
-- Name: COLUMN fin_movimiento.fecha; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_movimiento.fecha IS 'Fecha en la que se realiza la factura.';


--
-- TOC entry 3152 (class 0 OID 0)
-- Dependencies: 217
-- Name: COLUMN fin_movimiento.observacion; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_movimiento.observacion IS 'Observaciones del movimiento.';


--
-- TOC entry 3153 (class 0 OID 0)
-- Dependencies: 217
-- Name: COLUMN fin_movimiento.id_estado; Type: COMMENT; Schema: financiero; Owner: postgres
--

COMMENT ON COLUMN financiero.fin_movimiento.id_estado IS 'LLave foranea que relaciona el movimiento con el estado en que se encuentra ejemplo: abierto, cerrado, eliminado.';


--
-- TOC entry 231 (class 1259 OID 24842)
-- Name: gen_estado; Type: TABLE; Schema: general; Owner: postgres
--

CREATE TABLE general.gen_estado (
    id_estado smallint NOT NULL,
    descripcion character varying(20) NOT NULL,
    clase character varying(20) NOT NULL
);
ALTER TABLE ONLY general.gen_estado ALTER COLUMN id_estado SET STATISTICS 0;
ALTER TABLE ONLY general.gen_estado ALTER COLUMN descripcion SET STATISTICS 0;
ALTER TABLE ONLY general.gen_estado ALTER COLUMN clase SET STATISTICS 0;


ALTER TABLE general.gen_estado OWNER TO postgres;

--
-- TOC entry 3154 (class 0 OID 0)
-- Dependencies: 231
-- Name: COLUMN gen_estado.id_estado; Type: COMMENT; Schema: general; Owner: postgres
--

COMMENT ON COLUMN general.gen_estado.id_estado IS 'Identificador unÃ­co de la tabla.';


--
-- TOC entry 3155 (class 0 OID 0)
-- Dependencies: 231
-- Name: COLUMN gen_estado.descripcion; Type: COMMENT; Schema: general; Owner: postgres
--

COMMENT ON COLUMN general.gen_estado.descripcion IS 'Descripcion del estado.';


--
-- TOC entry 3156 (class 0 OID 0)
-- Dependencies: 231
-- Name: COLUMN gen_estado.clase; Type: COMMENT; Schema: general; Owner: postgres
--

COMMENT ON COLUMN general.gen_estado.clase IS 'Clase del estado ejemplo : error, warning, succes, info.';


--
-- TOC entry 230 (class 1259 OID 24840)
-- Name: gen_estado_id_estado_seq; Type: SEQUENCE; Schema: general; Owner: postgres
--

CREATE SEQUENCE general.gen_estado_id_estado_seq
    AS smallint
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE general.gen_estado_id_estado_seq OWNER TO postgres;

--
-- TOC entry 3157 (class 0 OID 0)
-- Dependencies: 230
-- Name: gen_estado_id_estado_seq; Type: SEQUENCE OWNED BY; Schema: general; Owner: postgres
--

ALTER SEQUENCE general.gen_estado_id_estado_seq OWNED BY general.gen_estado.id_estado;


--
-- TOC entry 202 (class 1259 OID 16397)
-- Name: gen_persona; Type: TABLE; Schema: general; Owner: postgres
--

CREATE TABLE general.gen_persona (
    id_persona bigint NOT NULL,
    identificacion character varying(20) DEFAULT NULL::character varying,
    nombre character varying(250) NOT NULL
);
ALTER TABLE ONLY general.gen_persona ALTER COLUMN id_persona SET STATISTICS 0;
ALTER TABLE ONLY general.gen_persona ALTER COLUMN identificacion SET STATISTICS 0;
ALTER TABLE ONLY general.gen_persona ALTER COLUMN nombre SET STATISTICS 0;


ALTER TABLE general.gen_persona OWNER TO postgres;

--
-- TOC entry 3158 (class 0 OID 0)
-- Dependencies: 202
-- Name: COLUMN gen_persona.id_persona; Type: COMMENT; Schema: general; Owner: postgres
--

COMMENT ON COLUMN general.gen_persona.id_persona IS 'Identificador unÃ­co de la tabla persona.';


--
-- TOC entry 3159 (class 0 OID 0)
-- Dependencies: 202
-- Name: COLUMN gen_persona.identificacion; Type: COMMENT; Schema: general; Owner: postgres
--

COMMENT ON COLUMN general.gen_persona.identificacion IS 'Numero de identificacÃ³n de la persona.';


--
-- TOC entry 3160 (class 0 OID 0)
-- Dependencies: 202
-- Name: COLUMN gen_persona.nombre; Type: COMMENT; Schema: general; Owner: postgres
--

COMMENT ON COLUMN general.gen_persona.nombre IS 'Nombre completo de la persona';


--
-- TOC entry 201 (class 1259 OID 16395)
-- Name: gen_persona_id_persona_seq; Type: SEQUENCE; Schema: general; Owner: postgres
--

CREATE SEQUENCE general.gen_persona_id_persona_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE general.gen_persona_id_persona_seq OWNER TO postgres;

--
-- TOC entry 3161 (class 0 OID 0)
-- Dependencies: 201
-- Name: gen_persona_id_persona_seq; Type: SEQUENCE OWNED BY; Schema: general; Owner: postgres
--

ALTER SEQUENCE general.gen_persona_id_persona_seq OWNED BY general.gen_persona.id_persona;


--
-- TOC entry 244 (class 1259 OID 25641)
-- Name: gen_secuencial; Type: TABLE; Schema: general; Owner: postgres
--

CREATE TABLE general.gen_secuencial (
    id_secuencial smallint NOT NULL,
    descripcion character varying(50) NOT NULL,
    secuencial bigint NOT NULL
);
ALTER TABLE ONLY general.gen_secuencial ALTER COLUMN id_secuencial SET STATISTICS 0;
ALTER TABLE ONLY general.gen_secuencial ALTER COLUMN descripcion SET STATISTICS 0;
ALTER TABLE ONLY general.gen_secuencial ALTER COLUMN secuencial SET STATISTICS 0;


ALTER TABLE general.gen_secuencial OWNER TO postgres;

--
-- TOC entry 3162 (class 0 OID 0)
-- Dependencies: 244
-- Name: COLUMN gen_secuencial.id_secuencial; Type: COMMENT; Schema: general; Owner: postgres
--

COMMENT ON COLUMN general.gen_secuencial.id_secuencial IS 'IDENTIFICADOR ÃšNICO DEL SECUENCIAL.';


--
-- TOC entry 3163 (class 0 OID 0)
-- Dependencies: 244
-- Name: COLUMN gen_secuencial.descripcion; Type: COMMENT; Schema: general; Owner: postgres
--

COMMENT ON COLUMN general.gen_secuencial.descripcion IS 'DESCRIPCION CORTA DEL SECUENCIAL';


--
-- TOC entry 3164 (class 0 OID 0)
-- Dependencies: 244
-- Name: COLUMN gen_secuencial.secuencial; Type: COMMENT; Schema: general; Owner: postgres
--

COMMENT ON COLUMN general.gen_secuencial.secuencial IS 'NUMERO EN EL QUE VA LA SECUENCIA.';


--
-- TOC entry 243 (class 1259 OID 25639)
-- Name: gen_secuencial_id_secuencial_seq; Type: SEQUENCE; Schema: general; Owner: postgres
--

CREATE SEQUENCE general.gen_secuencial_id_secuencial_seq
    AS smallint
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE general.gen_secuencial_id_secuencial_seq OWNER TO postgres;

--
-- TOC entry 3165 (class 0 OID 0)
-- Dependencies: 243
-- Name: gen_secuencial_id_secuencial_seq; Type: SEQUENCE OWNED BY; Schema: general; Owner: postgres
--

ALTER SEQUENCE general.gen_secuencial_id_secuencial_seq OWNED BY general.gen_secuencial.id_secuencial;


--
-- TOC entry 214 (class 1259 OID 16506)
-- Name: gen_sucursal; Type: TABLE; Schema: general; Owner: postgres
--

CREATE TABLE general.gen_sucursal (
    id_sucursal bigint NOT NULL,
    nombre character varying(250) NOT NULL,
    telefono character varying(20) NOT NULL,
    direccion character varying(100) NOT NULL
);
ALTER TABLE ONLY general.gen_sucursal ALTER COLUMN id_sucursal SET STATISTICS 0;
ALTER TABLE ONLY general.gen_sucursal ALTER COLUMN nombre SET STATISTICS 0;
ALTER TABLE ONLY general.gen_sucursal ALTER COLUMN telefono SET STATISTICS 0;
ALTER TABLE ONLY general.gen_sucursal ALTER COLUMN direccion SET STATISTICS 0;


ALTER TABLE general.gen_sucursal OWNER TO postgres;

--
-- TOC entry 3166 (class 0 OID 0)
-- Dependencies: 214
-- Name: TABLE gen_sucursal; Type: COMMENT; Schema: general; Owner: postgres
--

COMMENT ON TABLE general.gen_sucursal IS 'Tabla para el manejo de los datos generales de una sucursal';


--
-- TOC entry 3167 (class 0 OID 0)
-- Dependencies: 214
-- Name: COLUMN gen_sucursal.id_sucursal; Type: COMMENT; Schema: general; Owner: postgres
--

COMMENT ON COLUMN general.gen_sucursal.id_sucursal IS 'Identificador Ãºnico de la tabla.';


--
-- TOC entry 3168 (class 0 OID 0)
-- Dependencies: 214
-- Name: COLUMN gen_sucursal.nombre; Type: COMMENT; Schema: general; Owner: postgres
--

COMMENT ON COLUMN general.gen_sucursal.nombre IS 'Nombre de la sucursal.';


--
-- TOC entry 3169 (class 0 OID 0)
-- Dependencies: 214
-- Name: COLUMN gen_sucursal.telefono; Type: COMMENT; Schema: general; Owner: postgres
--

COMMENT ON COLUMN general.gen_sucursal.telefono IS 'Telefono de la sucursal.';


--
-- TOC entry 3170 (class 0 OID 0)
-- Dependencies: 214
-- Name: COLUMN gen_sucursal.direccion; Type: COMMENT; Schema: general; Owner: postgres
--

COMMENT ON COLUMN general.gen_sucursal.direccion IS 'Direccion de la sucursal';


--
-- TOC entry 213 (class 1259 OID 16504)
-- Name: gen_sucursal_id_sucursal_seq; Type: SEQUENCE; Schema: general; Owner: postgres
--

CREATE SEQUENCE general.gen_sucursal_id_sucursal_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE general.gen_sucursal_id_sucursal_seq OWNER TO postgres;

--
-- TOC entry 3171 (class 0 OID 0)
-- Dependencies: 213
-- Name: gen_sucursal_id_sucursal_seq; Type: SEQUENCE OWNED BY; Schema: general; Owner: postgres
--

ALTER SEQUENCE general.gen_sucursal_id_sucursal_seq OWNED BY general.gen_sucursal.id_sucursal;


--
-- TOC entry 220 (class 1259 OID 16566)
-- Name: gen_tip_unidad; Type: TABLE; Schema: general; Owner: postgres
--

CREATE TABLE general.gen_tip_unidad (
    id_tip_unidad bigint NOT NULL,
    descripcion character varying(20) NOT NULL
);
ALTER TABLE ONLY general.gen_tip_unidad ALTER COLUMN id_tip_unidad SET STATISTICS 0;
ALTER TABLE ONLY general.gen_tip_unidad ALTER COLUMN descripcion SET STATISTICS 0;


ALTER TABLE general.gen_tip_unidad OWNER TO postgres;

--
-- TOC entry 3172 (class 0 OID 0)
-- Dependencies: 220
-- Name: TABLE gen_tip_unidad; Type: COMMENT; Schema: general; Owner: postgres
--

COMMENT ON TABLE general.gen_tip_unidad IS 'Tabla que contiene los tipos de unidades de medida.';


--
-- TOC entry 3173 (class 0 OID 0)
-- Dependencies: 220
-- Name: COLUMN gen_tip_unidad.id_tip_unidad; Type: COMMENT; Schema: general; Owner: postgres
--

COMMENT ON COLUMN general.gen_tip_unidad.id_tip_unidad IS 'IDENTIFICADOR UNICO DE LA TABLA.';


--
-- TOC entry 3174 (class 0 OID 0)
-- Dependencies: 220
-- Name: COLUMN gen_tip_unidad.descripcion; Type: COMMENT; Schema: general; Owner: postgres
--

COMMENT ON COLUMN general.gen_tip_unidad.descripcion IS 'DESCRIPCION EXACTA DE LO QUE LA UNIDAD DE MEDIDA MIDE EJEMPLO LONGITUD, AREA, POTENCIA.';


--
-- TOC entry 219 (class 1259 OID 16564)
-- Name: gen_tipo_unidad_id_tipo_unidad_seq; Type: SEQUENCE; Schema: general; Owner: postgres
--

CREATE SEQUENCE general.gen_tipo_unidad_id_tipo_unidad_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE general.gen_tipo_unidad_id_tipo_unidad_seq OWNER TO postgres;

--
-- TOC entry 3175 (class 0 OID 0)
-- Dependencies: 219
-- Name: gen_tipo_unidad_id_tipo_unidad_seq; Type: SEQUENCE OWNED BY; Schema: general; Owner: postgres
--

ALTER SEQUENCE general.gen_tipo_unidad_id_tipo_unidad_seq OWNED BY general.gen_tip_unidad.id_tip_unidad;


--
-- TOC entry 218 (class 1259 OID 16559)
-- Name: gen_uni_medida; Type: TABLE; Schema: general; Owner: postgres
--

CREATE TABLE general.gen_uni_medida (
    id_uni_medida bigint DEFAULT nextval(('general.gen_uni_medida_id_uni_medida_seq'::text)::regclass) NOT NULL,
    id_tip_unidad smallint NOT NULL,
    unidad character varying(20) NOT NULL,
    n_parametros smallint NOT NULL
);
ALTER TABLE ONLY general.gen_uni_medida ALTER COLUMN id_uni_medida SET STATISTICS 0;
ALTER TABLE ONLY general.gen_uni_medida ALTER COLUMN id_tip_unidad SET STATISTICS 0;
ALTER TABLE ONLY general.gen_uni_medida ALTER COLUMN unidad SET STATISTICS 0;


ALTER TABLE general.gen_uni_medida OWNER TO postgres;

--
-- TOC entry 3176 (class 0 OID 0)
-- Dependencies: 218
-- Name: TABLE gen_uni_medida; Type: COMMENT; Schema: general; Owner: postgres
--

COMMENT ON TABLE general.gen_uni_medida IS 'Tabla general para el manejo de la unidad de medida.';


--
-- TOC entry 3177 (class 0 OID 0)
-- Dependencies: 218
-- Name: COLUMN gen_uni_medida.id_uni_medida; Type: COMMENT; Schema: general; Owner: postgres
--

COMMENT ON COLUMN general.gen_uni_medida.id_uni_medida IS 'IDENTICADOR ÃšNICO DE LA UNIDAD DE MEDIDA.';


--
-- TOC entry 3178 (class 0 OID 0)
-- Dependencies: 218
-- Name: COLUMN gen_uni_medida.id_tip_unidad; Type: COMMENT; Schema: general; Owner: postgres
--

COMMENT ON COLUMN general.gen_uni_medida.id_tip_unidad IS 'LLAVE FORANEA QUE IDENTIFICA EL TIPO DE UNIDAD DE LA UNIDAD DE MEDIDA EJEMPLO: AREA,POTENCIA.';


--
-- TOC entry 3179 (class 0 OID 0)
-- Dependencies: 218
-- Name: COLUMN gen_uni_medida.unidad; Type: COMMENT; Schema: general; Owner: postgres
--

COMMENT ON COLUMN general.gen_uni_medida.unidad IS 'DESCRIPCIÃ“N DE LA UNIDAD DE MEDIDA EJEMPLO MT2, WATTS, M, cm.';


--
-- TOC entry 3180 (class 0 OID 0)
-- Dependencies: 218
-- Name: COLUMN gen_uni_medida.n_parametros; Type: COMMENT; Schema: general; Owner: postgres
--

COMMENT ON COLUMN general.gen_uni_medida.n_parametros IS 'NUMERO DE PARAMETROS NECESARIOS PARA CALCULAR LA UNIDAD DE MEDIDA.';


--
-- TOC entry 232 (class 1259 OID 25476)
-- Name: gen_uni_medida_id_uni_medida_seq; Type: SEQUENCE; Schema: general; Owner: postgres
--

CREATE SEQUENCE general.gen_uni_medida_id_uni_medida_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE general.gen_uni_medida_id_uni_medida_seq OWNER TO postgres;

--
-- TOC entry 234 (class 1259 OID 25488)
-- Name: par_formula; Type: TABLE; Schema: general; Owner: postgres
--

CREATE TABLE general.par_formula (
    id_formula smallint NOT NULL,
    formula text NOT NULL,
    descripcion character varying(100) NOT NULL
);
ALTER TABLE ONLY general.par_formula ALTER COLUMN id_formula SET STATISTICS 0;
ALTER TABLE ONLY general.par_formula ALTER COLUMN formula SET STATISTICS 0;
ALTER TABLE ONLY general.par_formula ALTER COLUMN descripcion SET STATISTICS 0;


ALTER TABLE general.par_formula OWNER TO postgres;

--
-- TOC entry 3181 (class 0 OID 0)
-- Dependencies: 234
-- Name: TABLE par_formula; Type: COMMENT; Schema: general; Owner: postgres
--

COMMENT ON TABLE general.par_formula IS 'TABLA QUE CONTIENE LAS FORMULAS UTILIZADAS DENTRO DE LA APLICACION EN CODIGO JAVASCRIPT';


--
-- TOC entry 3182 (class 0 OID 0)
-- Dependencies: 234
-- Name: COLUMN par_formula.id_formula; Type: COMMENT; Schema: general; Owner: postgres
--

COMMENT ON COLUMN general.par_formula.id_formula IS 'IDENTIFICADOR ÃšNICO DE LA FORMULA.';


--
-- TOC entry 3183 (class 0 OID 0)
-- Dependencies: 234
-- Name: COLUMN par_formula.formula; Type: COMMENT; Schema: general; Owner: postgres
--

COMMENT ON COLUMN general.par_formula.formula IS 'FORMULA EN CODIGO JAVASCRIPT.';


--
-- TOC entry 3184 (class 0 OID 0)
-- Dependencies: 234
-- Name: COLUMN par_formula.descripcion; Type: COMMENT; Schema: general; Owner: postgres
--

COMMENT ON COLUMN general.par_formula.descripcion IS 'DESCRIPCION CORTA DE LA FORMULA.';


--
-- TOC entry 233 (class 1259 OID 25486)
-- Name: par_formula_id_formula_seq; Type: SEQUENCE; Schema: general; Owner: postgres
--

CREATE SEQUENCE general.par_formula_id_formula_seq
    AS smallint
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE general.par_formula_id_formula_seq OWNER TO postgres;

--
-- TOC entry 3185 (class 0 OID 0)
-- Dependencies: 233
-- Name: par_formula_id_formula_seq; Type: SEQUENCE OWNED BY; Schema: general; Owner: postgres
--

ALTER SEQUENCE general.par_formula_id_formula_seq OWNED BY general.par_formula.id_formula;


--
-- TOC entry 236 (class 1259 OID 25525)
-- Name: inv_grupo; Type: TABLE; Schema: inventario; Owner: postgres
--

CREATE TABLE inventario.inv_grupo (
    id_grupo smallint NOT NULL,
    grupo character varying(50) NOT NULL,
    cambio character(1) DEFAULT 'N'::bpchar NOT NULL
);
ALTER TABLE ONLY inventario.inv_grupo ALTER COLUMN id_grupo SET STATISTICS 0;
ALTER TABLE ONLY inventario.inv_grupo ALTER COLUMN grupo SET STATISTICS 0;


ALTER TABLE inventario.inv_grupo OWNER TO postgres;

--
-- TOC entry 3186 (class 0 OID 0)
-- Dependencies: 236
-- Name: TABLE inv_grupo; Type: COMMENT; Schema: inventario; Owner: postgres
--

COMMENT ON TABLE inventario.inv_grupo IS 'TABLA QUE CONTIENE LOS GRUPOS DE INVENTARIO.';


--
-- TOC entry 3187 (class 0 OID 0)
-- Dependencies: 236
-- Name: COLUMN inv_grupo.id_grupo; Type: COMMENT; Schema: inventario; Owner: postgres
--

COMMENT ON COLUMN inventario.inv_grupo.id_grupo IS 'IDENTIFICADOR ÃšNICO DEL GRUPO.';


--
-- TOC entry 3188 (class 0 OID 0)
-- Dependencies: 236
-- Name: COLUMN inv_grupo.grupo; Type: COMMENT; Schema: inventario; Owner: postgres
--

COMMENT ON COLUMN inventario.inv_grupo.grupo IS 'DESCRIPCION CORTA DEL GRUPO.';


--
-- TOC entry 3189 (class 0 OID 0)
-- Dependencies: 236
-- Name: COLUMN inv_grupo.cambio; Type: COMMENT; Schema: inventario; Owner: postgres
--

COMMENT ON COLUMN inventario.inv_grupo.cambio IS 'CAMPO PARA IDENTIFICAR SI EL GRUPO PERMITE INTERCAMBIAR ENTRE INVENTARIO QUE PERTENCE AL MISMO GRUPO.';


--
-- TOC entry 235 (class 1259 OID 25523)
-- Name: inv_grupo_id_grupo_seq; Type: SEQUENCE; Schema: inventario; Owner: postgres
--

CREATE SEQUENCE inventario.inv_grupo_id_grupo_seq
    AS smallint
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE inventario.inv_grupo_id_grupo_seq OWNER TO postgres;

--
-- TOC entry 3190 (class 0 OID 0)
-- Dependencies: 235
-- Name: inv_grupo_id_grupo_seq; Type: SEQUENCE OWNED BY; Schema: inventario; Owner: postgres
--

ALTER SEQUENCE inventario.inv_grupo_id_grupo_seq OWNED BY inventario.inv_grupo.id_grupo;


--
-- TOC entry 240 (class 1259 OID 25584)
-- Name: inv_inv_com; Type: TABLE; Schema: inventario; Owner: postgres
--

CREATE TABLE inventario.inv_inv_com (
    id_inv_com smallint NOT NULL,
    id_inventario smallint NOT NULL,
    id_componente smallint NOT NULL,
    seleccionar character(1) DEFAULT 'N'::bpchar NOT NULL,
    detalle character varying(50) DEFAULT 'detalle'::character varying NOT NULL,
    seleccionado boolean DEFAULT true NOT NULL
);
ALTER TABLE ONLY inventario.inv_inv_com ALTER COLUMN id_inv_com SET STATISTICS 0;
ALTER TABLE ONLY inventario.inv_inv_com ALTER COLUMN id_inventario SET STATISTICS 0;
ALTER TABLE ONLY inventario.inv_inv_com ALTER COLUMN id_componente SET STATISTICS 0;


ALTER TABLE inventario.inv_inv_com OWNER TO postgres;

--
-- TOC entry 3191 (class 0 OID 0)
-- Dependencies: 240
-- Name: TABLE inv_inv_com; Type: COMMENT; Schema: inventario; Owner: postgres
--

COMMENT ON TABLE inventario.inv_inv_com IS 'TABLA QUE CONDITNE LOS COMPONENTES(INVENTARIO) POR LOS QUE ESTA CONFORMADO UN INVENTARIO.';


--
-- TOC entry 3192 (class 0 OID 0)
-- Dependencies: 240
-- Name: COLUMN inv_inv_com.id_inv_com; Type: COMMENT; Schema: inventario; Owner: postgres
--

COMMENT ON COLUMN inventario.inv_inv_com.id_inv_com IS 'IDENTIFICADOR ÃšNICO DEL OCMPONENTE.';


--
-- TOC entry 3193 (class 0 OID 0)
-- Dependencies: 240
-- Name: COLUMN inv_inv_com.id_inventario; Type: COMMENT; Schema: inventario; Owner: postgres
--

COMMENT ON COLUMN inventario.inv_inv_com.id_inventario IS 'LLAVE FORANEA AL INVENTARIO QUE CORRESPONDE EL COMPONENTE.';


--
-- TOC entry 3194 (class 0 OID 0)
-- Dependencies: 240
-- Name: COLUMN inv_inv_com.id_componente; Type: COMMENT; Schema: inventario; Owner: postgres
--

COMMENT ON COLUMN inventario.inv_inv_com.id_componente IS 'LLAVE FORANEA A INVENTARIO QUE IDENTIFICA AL COMPONENTE.';


--
-- TOC entry 3195 (class 0 OID 0)
-- Dependencies: 240
-- Name: COLUMN inv_inv_com.seleccionar; Type: COMMENT; Schema: inventario; Owner: postgres
--

COMMENT ON COLUMN inventario.inv_inv_com.seleccionar IS 'IDENTIFICA SI EL COMPONENTE DEBE SER SELECCIONADO POR EL USUARIO.';


--
-- TOC entry 3196 (class 0 OID 0)
-- Dependencies: 240
-- Name: COLUMN inv_inv_com.detalle; Type: COMMENT; Schema: inventario; Owner: postgres
--

COMMENT ON COLUMN inventario.inv_inv_com.detalle IS 'DETALLE DEL COMPONENTE.';


--
-- TOC entry 3197 (class 0 OID 0)
-- Dependencies: 240
-- Name: COLUMN inv_inv_com.seleccionado; Type: COMMENT; Schema: inventario; Owner: postgres
--

COMMENT ON COLUMN inventario.inv_inv_com.seleccionado IS 'INDICA SI EL COMPONENTE ES SELECCIONADO PARA CALCULAR EL PRECIO DEL ITEM.';


--
-- TOC entry 239 (class 1259 OID 25582)
-- Name: inv_inv_com_id_com_inv_seq; Type: SEQUENCE; Schema: inventario; Owner: postgres
--

CREATE SEQUENCE inventario.inv_inv_com_id_com_inv_seq
    AS smallint
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE inventario.inv_inv_com_id_com_inv_seq OWNER TO postgres;

--
-- TOC entry 3198 (class 0 OID 0)
-- Dependencies: 239
-- Name: inv_inv_com_id_com_inv_seq; Type: SEQUENCE OWNED BY; Schema: inventario; Owner: postgres
--

ALTER SEQUENCE inventario.inv_inv_com_id_com_inv_seq OWNED BY inventario.inv_inv_com.id_inv_com;


--
-- TOC entry 216 (class 1259 OID 16514)
-- Name: inv_inv_suc; Type: TABLE; Schema: inventario; Owner: postgres
--

CREATE TABLE inventario.inv_inv_suc (
    id_inv_suc bigint NOT NULL,
    id_inventario bigint NOT NULL,
    id_sucursal smallint NOT NULL,
    cantidad numeric(6,2) DEFAULT 0 NOT NULL,
    costo_promedio numeric(20,2) DEFAULT 0 NOT NULL,
    vr_venta_local numeric(20,2) DEFAULT 0 NOT NULL,
    vr_venta_domicilio numeric(20,2) DEFAULT 0 NOT NULL
);
ALTER TABLE ONLY inventario.inv_inv_suc ALTER COLUMN id_inv_suc SET STATISTICS 0;
ALTER TABLE ONLY inventario.inv_inv_suc ALTER COLUMN id_inventario SET STATISTICS 0;
ALTER TABLE ONLY inventario.inv_inv_suc ALTER COLUMN id_sucursal SET STATISTICS 0;
ALTER TABLE ONLY inventario.inv_inv_suc ALTER COLUMN cantidad SET STATISTICS 0;
ALTER TABLE ONLY inventario.inv_inv_suc ALTER COLUMN costo_promedio SET STATISTICS 0;


ALTER TABLE inventario.inv_inv_suc OWNER TO postgres;

--
-- TOC entry 3199 (class 0 OID 0)
-- Dependencies: 216
-- Name: TABLE inv_inv_suc; Type: COMMENT; Schema: inventario; Owner: postgres
--

COMMENT ON TABLE inventario.inv_inv_suc IS 'Tabla intermedia entre la tabla inventario y la tabla sucursal.';


--
-- TOC entry 3200 (class 0 OID 0)
-- Dependencies: 216
-- Name: COLUMN inv_inv_suc.id_inv_suc; Type: COMMENT; Schema: inventario; Owner: postgres
--

COMMENT ON COLUMN inventario.inv_inv_suc.id_inv_suc IS 'Identificador Ãºnico de la tabla.';


--
-- TOC entry 3201 (class 0 OID 0)
-- Dependencies: 216
-- Name: COLUMN inv_inv_suc.id_inventario; Type: COMMENT; Schema: inventario; Owner: postgres
--

COMMENT ON COLUMN inventario.inv_inv_suc.id_inventario IS 'llave foranea a la tabla inventario';


--
-- TOC entry 3202 (class 0 OID 0)
-- Dependencies: 216
-- Name: COLUMN inv_inv_suc.id_sucursal; Type: COMMENT; Schema: inventario; Owner: postgres
--

COMMENT ON COLUMN inventario.inv_inv_suc.id_sucursal IS 'llave foranea a la tabla sucursal.';


--
-- TOC entry 3203 (class 0 OID 0)
-- Dependencies: 216
-- Name: COLUMN inv_inv_suc.cantidad; Type: COMMENT; Schema: inventario; Owner: postgres
--

COMMENT ON COLUMN inventario.inv_inv_suc.cantidad IS 'Cantidad de determinado inventario en la sucursal.';


--
-- TOC entry 3204 (class 0 OID 0)
-- Dependencies: 216
-- Name: COLUMN inv_inv_suc.costo_promedio; Type: COMMENT; Schema: inventario; Owner: postgres
--

COMMENT ON COLUMN inventario.inv_inv_suc.costo_promedio IS 'Costo promedio del inventario.';


--
-- TOC entry 3205 (class 0 OID 0)
-- Dependencies: 216
-- Name: COLUMN inv_inv_suc.vr_venta_local; Type: COMMENT; Schema: inventario; Owner: postgres
--

COMMENT ON COLUMN inventario.inv_inv_suc.vr_venta_local IS 'Valor de venta del inventario en el local.';


--
-- TOC entry 3206 (class 0 OID 0)
-- Dependencies: 216
-- Name: COLUMN inv_inv_suc.vr_venta_domicilio; Type: COMMENT; Schema: inventario; Owner: postgres
--

COMMENT ON COLUMN inventario.inv_inv_suc.vr_venta_domicilio IS 'Valor de venta del producto si se entrega instalado en el domicilio.';


--
-- TOC entry 215 (class 1259 OID 16512)
-- Name: inv_inv_sur_id_inv_suc_seq; Type: SEQUENCE; Schema: inventario; Owner: postgres
--

CREATE SEQUENCE inventario.inv_inv_sur_id_inv_suc_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE inventario.inv_inv_sur_id_inv_suc_seq OWNER TO postgres;

--
-- TOC entry 3207 (class 0 OID 0)
-- Dependencies: 215
-- Name: inv_inv_sur_id_inv_suc_seq; Type: SEQUENCE OWNED BY; Schema: inventario; Owner: postgres
--

ALTER SEQUENCE inventario.inv_inv_sur_id_inv_suc_seq OWNED BY inventario.inv_inv_suc.id_inv_suc;


--
-- TOC entry 212 (class 1259 OID 16498)
-- Name: inv_inventario; Type: TABLE; Schema: inventario; Owner: postgres
--

CREATE TABLE inventario.inv_inventario (
    id_inventario bigint NOT NULL,
    id_referencia smallint,
    descripcion character varying(100) NOT NULL,
    id_uni_medida smallint NOT NULL,
    id_formula smallint NOT NULL,
    nesecita_p character(1) NOT NULL,
    codigo character varying(30) NOT NULL,
    maximos_p json DEFAULT '{}'::json NOT NULL,
    id_grupo smallint NOT NULL,
    id_fondo smallint DEFAULT 1 NOT NULL,
    iva numeric(3,1) DEFAULT 0 NOT NULL,
    descuento numeric(3,1) DEFAULT 0 NOT NULL,
    CONSTRAINT inv_inventario_chk CHECK (((nesecita_p = 'S'::bpchar) OR (nesecita_p = 'N'::bpchar)))
);
ALTER TABLE ONLY inventario.inv_inventario ALTER COLUMN id_inventario SET STATISTICS 0;
ALTER TABLE ONLY inventario.inv_inventario ALTER COLUMN id_referencia SET STATISTICS 0;
ALTER TABLE ONLY inventario.inv_inventario ALTER COLUMN descripcion SET STATISTICS 0;


ALTER TABLE inventario.inv_inventario OWNER TO postgres;

--
-- TOC entry 3208 (class 0 OID 0)
-- Dependencies: 212
-- Name: COLUMN inv_inventario.id_inventario; Type: COMMENT; Schema: inventario; Owner: postgres
--

COMMENT ON COLUMN inventario.inv_inventario.id_inventario IS 'IDENTIFICADOR ÃšNICO DEL INVENTARIO.';


--
-- TOC entry 3209 (class 0 OID 0)
-- Dependencies: 212
-- Name: COLUMN inv_inventario.id_referencia; Type: COMMENT; Schema: inventario; Owner: postgres
--

COMMENT ON COLUMN inventario.inv_inventario.id_referencia IS 'REFERENCIA CODIGO INTERNACIONAL UNSPSC.';


--
-- TOC entry 3210 (class 0 OID 0)
-- Dependencies: 212
-- Name: COLUMN inv_inventario.descripcion; Type: COMMENT; Schema: inventario; Owner: postgres
--

COMMENT ON COLUMN inventario.inv_inventario.descripcion IS 'DESCRIPCIÃ“N CORTA DEL INVENTARIO.';


--
-- TOC entry 3211 (class 0 OID 0)
-- Dependencies: 212
-- Name: COLUMN inv_inventario.id_uni_medida; Type: COMMENT; Schema: inventario; Owner: postgres
--

COMMENT ON COLUMN inventario.inv_inventario.id_uni_medida IS 'LLAVE FORANEA QUE IDENTIFICA LA UNIDAD DE MEDIDA QUE TIENE EL INVENTARIO';


--
-- TOC entry 3212 (class 0 OID 0)
-- Dependencies: 212
-- Name: COLUMN inv_inventario.id_formula; Type: COMMENT; Schema: inventario; Owner: postgres
--

COMMENT ON COLUMN inventario.inv_inventario.id_formula IS 'LLAVE FORANEA A LA FORMULA PARA CALCULAR EL AREA O VOLUMEN O CANTIDAD DEL INVENTARIO.';


--
-- TOC entry 3213 (class 0 OID 0)
-- Dependencies: 212
-- Name: COLUMN inv_inventario.nesecita_p; Type: COMMENT; Schema: inventario; Owner: postgres
--

COMMENT ON COLUMN inventario.inv_inventario.nesecita_p IS 'INDICA SI EL INVENTARIO NESECITA PEDIR LOS PARAMETROS PARA EL CALCULO DE LAS CANTIDADES A ENTRAR O SALIR.';


--
-- TOC entry 3214 (class 0 OID 0)
-- Dependencies: 212
-- Name: COLUMN inv_inventario.codigo; Type: COMMENT; Schema: inventario; Owner: postgres
--

COMMENT ON COLUMN inventario.inv_inventario.codigo IS 'CODIGO UNICO O CODIGO DE BARRAS QUE IDENTIFICA AL INVENTARIO.';


--
-- TOC entry 3215 (class 0 OID 0)
-- Dependencies: 212
-- Name: COLUMN inv_inventario.maximos_p; Type: COMMENT; Schema: inventario; Owner: postgres
--

COMMENT ON COLUMN inventario.inv_inventario.maximos_p IS 'VALOR MAXIMO VALIDO PARA LOS PARAMETROS.';


--
-- TOC entry 3216 (class 0 OID 0)
-- Dependencies: 212
-- Name: COLUMN inv_inventario.id_grupo; Type: COMMENT; Schema: inventario; Owner: postgres
--

COMMENT ON COLUMN inventario.inv_inventario.id_grupo IS 'LLAVE FORANEA QUE IDENTIFICA AL GRUPO AL QUE PERTENECE EL INVENTARIO.';


--
-- TOC entry 3217 (class 0 OID 0)
-- Dependencies: 212
-- Name: COLUMN inv_inventario.id_fondo; Type: COMMENT; Schema: inventario; Owner: postgres
--

COMMENT ON COLUMN inventario.inv_inventario.id_fondo IS 'LLAVE FORANEA QUE IDENTIFICA A QUE FONDO PERTENECE DETERMINADO INVENTARIO. PARTICULARIDAD DE VICTO H.';


--
-- TOC entry 3218 (class 0 OID 0)
-- Dependencies: 212
-- Name: COLUMN inv_inventario.iva; Type: COMMENT; Schema: inventario; Owner: postgres
--

COMMENT ON COLUMN inventario.inv_inventario.iva IS 'PORCENTAJE DEL IVA DE DETERMINADO INVENTARIO PARA LAS VENTAS.';


--
-- TOC entry 3219 (class 0 OID 0)
-- Dependencies: 212
-- Name: COLUMN inv_inventario.descuento; Type: COMMENT; Schema: inventario; Owner: postgres
--

COMMENT ON COLUMN inventario.inv_inventario.descuento IS 'PORCENTAJE DE DESCUENTO DE DETERMINADO INVENTARIO PARA LA VENTA.';


--
-- TOC entry 211 (class 1259 OID 16496)
-- Name: inventario_id_inventario_seq; Type: SEQUENCE; Schema: inventario; Owner: postgres
--

CREATE SEQUENCE inventario.inventario_id_inventario_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE inventario.inventario_id_inventario_seq OWNER TO postgres;

--
-- TOC entry 3220 (class 0 OID 0)
-- Dependencies: 211
-- Name: inventario_id_inventario_seq; Type: SEQUENCE OWNED BY; Schema: inventario; Owner: postgres
--

ALTER SEQUENCE inventario.inventario_id_inventario_seq OWNED BY inventario.inv_inventario.id_inventario;


--
-- TOC entry 206 (class 1259 OID 16423)
-- Name: seg_role; Type: TABLE; Schema: seguridad; Owner: postgres
--

CREATE TABLE seguridad.seg_role (
    id_role bigint NOT NULL,
    descripcion character varying(20) NOT NULL
);
ALTER TABLE ONLY seguridad.seg_role ALTER COLUMN id_role SET STATISTICS 0;
ALTER TABLE ONLY seguridad.seg_role ALTER COLUMN descripcion SET STATISTICS 0;


ALTER TABLE seguridad.seg_role OWNER TO postgres;

--
-- TOC entry 3221 (class 0 OID 0)
-- Dependencies: 206
-- Name: COLUMN seg_role.id_role; Type: COMMENT; Schema: seguridad; Owner: postgres
--

COMMENT ON COLUMN seguridad.seg_role.id_role IS 'Identificador unÃ­co de la tabla rol.';


--
-- TOC entry 3222 (class 0 OID 0)
-- Dependencies: 206
-- Name: COLUMN seg_role.descripcion; Type: COMMENT; Schema: seguridad; Owner: postgres
--

COMMENT ON COLUMN seguridad.seg_role.descripcion IS 'DescripciÃ³n del rol.';


--
-- TOC entry 205 (class 1259 OID 16421)
-- Name: seg_role_id_role_seq; Type: SEQUENCE; Schema: seguridad; Owner: postgres
--

CREATE SEQUENCE seguridad.seg_role_id_role_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE seguridad.seg_role_id_role_seq OWNER TO postgres;

--
-- TOC entry 3223 (class 0 OID 0)
-- Dependencies: 205
-- Name: seg_role_id_role_seq; Type: SEQUENCE OWNED BY; Schema: seguridad; Owner: postgres
--

ALTER SEQUENCE seguridad.seg_role_id_role_seq OWNED BY seguridad.seg_role.id_role;


--
-- TOC entry 208 (class 1259 OID 16431)
-- Name: seg_role_usuario; Type: TABLE; Schema: seguridad; Owner: postgres
--

CREATE TABLE seguridad.seg_role_usuario (
    id_role_usuario bigint NOT NULL,
    id_role bigint NOT NULL,
    id_usuario bigint NOT NULL
);
ALTER TABLE ONLY seguridad.seg_role_usuario ALTER COLUMN id_role_usuario SET STATISTICS 0;
ALTER TABLE ONLY seguridad.seg_role_usuario ALTER COLUMN id_role SET STATISTICS 0;
ALTER TABLE ONLY seguridad.seg_role_usuario ALTER COLUMN id_usuario SET STATISTICS 0;


ALTER TABLE seguridad.seg_role_usuario OWNER TO postgres;

--
-- TOC entry 3224 (class 0 OID 0)
-- Dependencies: 208
-- Name: COLUMN seg_role_usuario.id_role_usuario; Type: COMMENT; Schema: seguridad; Owner: postgres
--

COMMENT ON COLUMN seguridad.seg_role_usuario.id_role_usuario IS 'Identificador unÃ­co de la tabla rol_usuario.';


--
-- TOC entry 3225 (class 0 OID 0)
-- Dependencies: 208
-- Name: COLUMN seg_role_usuario.id_role; Type: COMMENT; Schema: seguridad; Owner: postgres
--

COMMENT ON COLUMN seguridad.seg_role_usuario.id_role IS 'llave foranea que enlaza la tabla rol usuario con la tabla rol.';


--
-- TOC entry 3226 (class 0 OID 0)
-- Dependencies: 208
-- Name: COLUMN seg_role_usuario.id_usuario; Type: COMMENT; Schema: seguridad; Owner: postgres
--

COMMENT ON COLUMN seguridad.seg_role_usuario.id_usuario IS 'llave foranea que enlaza la tabla rol_uauario
con la tabla usuario.';


--
-- TOC entry 207 (class 1259 OID 16429)
-- Name: seg_role_usuario_id_role_usuario_seq; Type: SEQUENCE; Schema: seguridad; Owner: postgres
--

CREATE SEQUENCE seguridad.seg_role_usuario_id_role_usuario_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE seguridad.seg_role_usuario_id_role_usuario_seq OWNER TO postgres;

--
-- TOC entry 3227 (class 0 OID 0)
-- Dependencies: 207
-- Name: seg_role_usuario_id_role_usuario_seq; Type: SEQUENCE OWNED BY; Schema: seguridad; Owner: postgres
--

ALTER SEQUENCE seguridad.seg_role_usuario_id_role_usuario_seq OWNED BY seguridad.seg_role_usuario.id_role_usuario;


--
-- TOC entry 204 (class 1259 OID 16411)
-- Name: seg_usuario; Type: TABLE; Schema: seguridad; Owner: postgres
--

CREATE TABLE seguridad.seg_usuario (
    id_usuario bigint NOT NULL,
    id_persona bigint NOT NULL,
    email character varying(100) NOT NULL,
    password character varying(250) NOT NULL,
    img character varying(500) NOT NULL,
    google boolean DEFAULT false NOT NULL,
    estado character(1) DEFAULT 'A'::bpchar NOT NULL,
    id_sucursal smallint DEFAULT 1 NOT NULL
);
ALTER TABLE ONLY seguridad.seg_usuario ALTER COLUMN id_usuario SET STATISTICS 0;
ALTER TABLE ONLY seguridad.seg_usuario ALTER COLUMN id_persona SET STATISTICS 0;
ALTER TABLE ONLY seguridad.seg_usuario ALTER COLUMN email SET STATISTICS 0;
ALTER TABLE ONLY seguridad.seg_usuario ALTER COLUMN password SET STATISTICS 0;
ALTER TABLE ONLY seguridad.seg_usuario ALTER COLUMN img SET STATISTICS 0;
ALTER TABLE ONLY seguridad.seg_usuario ALTER COLUMN google SET STATISTICS 0;


ALTER TABLE seguridad.seg_usuario OWNER TO postgres;

--
-- TOC entry 3228 (class 0 OID 0)
-- Dependencies: 204
-- Name: COLUMN seg_usuario.id_usuario; Type: COMMENT; Schema: seguridad; Owner: postgres
--

COMMENT ON COLUMN seguridad.seg_usuario.id_usuario IS 'Idemtificador unÃ­co de la tabla usuario.';


--
-- TOC entry 3229 (class 0 OID 0)
-- Dependencies: 204
-- Name: COLUMN seg_usuario.id_persona; Type: COMMENT; Schema: seguridad; Owner: postgres
--

COMMENT ON COLUMN seguridad.seg_usuario.id_persona IS 'llave foranea a la tabla persona para identificar a que persona pertenece el usuario.';


--
-- TOC entry 3230 (class 0 OID 0)
-- Dependencies: 204
-- Name: COLUMN seg_usuario.email; Type: COMMENT; Schema: seguridad; Owner: postgres
--

COMMENT ON COLUMN seguridad.seg_usuario.email IS 'Email del usuario.';


--
-- TOC entry 3231 (class 0 OID 0)
-- Dependencies: 204
-- Name: COLUMN seg_usuario.password; Type: COMMENT; Schema: seguridad; Owner: postgres
--

COMMENT ON COLUMN seguridad.seg_usuario.password IS 'Contrasena del usuario.';


--
-- TOC entry 3232 (class 0 OID 0)
-- Dependencies: 204
-- Name: COLUMN seg_usuario.img; Type: COMMENT; Schema: seguridad; Owner: postgres
--

COMMENT ON COLUMN seguridad.seg_usuario.img IS 'url de la imagen del usuario.';


--
-- TOC entry 3233 (class 0 OID 0)
-- Dependencies: 204
-- Name: COLUMN seg_usuario.google; Type: COMMENT; Schema: seguridad; Owner: postgres
--

COMMENT ON COLUMN seguridad.seg_usuario.google IS 'Identifica si el usuario esta logueado con una cuenta de google.';


--
-- TOC entry 3234 (class 0 OID 0)
-- Dependencies: 204
-- Name: COLUMN seg_usuario.estado; Type: COMMENT; Schema: seguridad; Owner: postgres
--

COMMENT ON COLUMN seguridad.seg_usuario.estado IS 'Estado del usuario del sistema.';


--
-- TOC entry 3235 (class 0 OID 0)
-- Dependencies: 204
-- Name: COLUMN seg_usuario.id_sucursal; Type: COMMENT; Schema: seguridad; Owner: postgres
--

COMMENT ON COLUMN seguridad.seg_usuario.id_sucursal IS 'LLAVE FORANEA QUE IDENTIFICA A QUE SUCURSAL PERTENECE EL USUARIO.';


--
-- TOC entry 203 (class 1259 OID 16409)
-- Name: seg_usuario_id_usuario_seq; Type: SEQUENCE; Schema: seguridad; Owner: postgres
--

CREATE SEQUENCE seguridad.seg_usuario_id_usuario_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE seguridad.seg_usuario_id_usuario_seq OWNER TO postgres;

--
-- TOC entry 3236 (class 0 OID 0)
-- Dependencies: 203
-- Name: seg_usuario_id_usuario_seq; Type: SEQUENCE OWNED BY; Schema: seguridad; Owner: postgres
--

ALTER SEQUENCE seguridad.seg_usuario_id_usuario_seq OWNED BY seguridad.seg_usuario.id_usuario;


--
-- TOC entry 210 (class 1259 OID 16463)
-- Name: cli_cliente; Type: TABLE; Schema: ventas; Owner: postgres
--

CREATE TABLE ventas.cli_cliente (
    id_cliente bigint NOT NULL,
    id_persona bigint NOT NULL,
    direccion character varying(250),
    email character varying(140),
    celular character varying(20),
    telefono character varying(20),
    img character varying(500)
);
ALTER TABLE ONLY ventas.cli_cliente ALTER COLUMN id_cliente SET STATISTICS 0;
ALTER TABLE ONLY ventas.cli_cliente ALTER COLUMN id_persona SET STATISTICS 0;
ALTER TABLE ONLY ventas.cli_cliente ALTER COLUMN direccion SET STATISTICS 0;
ALTER TABLE ONLY ventas.cli_cliente ALTER COLUMN email SET STATISTICS 0;
ALTER TABLE ONLY ventas.cli_cliente ALTER COLUMN celular SET STATISTICS 0;
ALTER TABLE ONLY ventas.cli_cliente ALTER COLUMN telefono SET STATISTICS 0;


ALTER TABLE ventas.cli_cliente OWNER TO postgres;

--
-- TOC entry 3237 (class 0 OID 0)
-- Dependencies: 210
-- Name: TABLE cli_cliente; Type: COMMENT; Schema: ventas; Owner: postgres
--

COMMENT ON TABLE ventas.cli_cliente IS 'Tabla que contiene los datos generales de un cliente.';


--
-- TOC entry 3238 (class 0 OID 0)
-- Dependencies: 210
-- Name: COLUMN cli_cliente.id_cliente; Type: COMMENT; Schema: ventas; Owner: postgres
--

COMMENT ON COLUMN ventas.cli_cliente.id_cliente IS 'Identificador unÃ­co de la tabla clientes.';


--
-- TOC entry 3239 (class 0 OID 0)
-- Dependencies: 210
-- Name: COLUMN cli_cliente.id_persona; Type: COMMENT; Schema: ventas; Owner: postgres
--

COMMENT ON COLUMN ventas.cli_cliente.id_persona IS 'Llave foranea que identifica a que persona pertenece el cliente.';


--
-- TOC entry 3240 (class 0 OID 0)
-- Dependencies: 210
-- Name: COLUMN cli_cliente.direccion; Type: COMMENT; Schema: ventas; Owner: postgres
--

COMMENT ON COLUMN ventas.cli_cliente.direccion IS 'Direccion del cliente.';


--
-- TOC entry 3241 (class 0 OID 0)
-- Dependencies: 210
-- Name: COLUMN cli_cliente.email; Type: COMMENT; Schema: ventas; Owner: postgres
--

COMMENT ON COLUMN ventas.cli_cliente.email IS 'Correo electronico del cliente.';


--
-- TOC entry 3242 (class 0 OID 0)
-- Dependencies: 210
-- Name: COLUMN cli_cliente.celular; Type: COMMENT; Schema: ventas; Owner: postgres
--

COMMENT ON COLUMN ventas.cli_cliente.celular IS 'Celular del cliente.';


--
-- TOC entry 3243 (class 0 OID 0)
-- Dependencies: 210
-- Name: COLUMN cli_cliente.telefono; Type: COMMENT; Schema: ventas; Owner: postgres
--

COMMENT ON COLUMN ventas.cli_cliente.telefono IS 'telefono del cliente';


--
-- TOC entry 3244 (class 0 OID 0)
-- Dependencies: 210
-- Name: COLUMN cli_cliente.img; Type: COMMENT; Schema: ventas; Owner: postgres
--

COMMENT ON COLUMN ventas.cli_cliente.img IS 'contiene el path de la imagen del cliente.';


--
-- TOC entry 209 (class 1259 OID 16459)
-- Name: cli_cliente_cli_cliente_seq; Type: SEQUENCE; Schema: ventas; Owner: postgres
--

CREATE SEQUENCE ventas.cli_cliente_cli_cliente_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE ventas.cli_cliente_cli_cliente_seq OWNER TO postgres;

--
-- TOC entry 3245 (class 0 OID 0)
-- Dependencies: 209
-- Name: cli_cliente_cli_cliente_seq; Type: SEQUENCE OWNED BY; Schema: ventas; Owner: postgres
--

ALTER SEQUENCE ventas.cli_cliente_cli_cliente_seq OWNED BY ventas.cli_cliente.id_cliente;


--
-- TOC entry 2852 (class 2604 OID 25600)
-- Name: fin_abo_fac id_abo_fac; Type: DEFAULT; Schema: financiero; Owner: postgres
--

ALTER TABLE ONLY financiero.fin_abo_fac ALTER COLUMN id_abo_fac SET DEFAULT nextval('financiero.fin_abo_fac_id_abo_fac_seq'::regclass);


--
-- TOC entry 2832 (class 2604 OID 24794)
-- Name: fin_det_factura id_det_factura; Type: DEFAULT; Schema: financiero; Owner: postgres
--

ALTER TABLE ONLY financiero.fin_det_factura ALTER COLUMN id_det_factura SET DEFAULT nextval('financiero.detalle_movimiento_id_detalle_movimiento_seq'::regclass);


--
-- TOC entry 2838 (class 2604 OID 24808)
-- Name: fin_det_factura id_inventario; Type: DEFAULT; Schema: financiero; Owner: postgres
--

ALTER TABLE ONLY financiero.fin_det_factura ALTER COLUMN id_inventario SET DEFAULT nextval('financiero.detalle_movimiento_id_inventario_seq'::regclass);


--
-- TOC entry 2839 (class 2604 OID 24820)
-- Name: fin_fac_par id_fac_par; Type: DEFAULT; Schema: financiero; Owner: postgres
--

ALTER TABLE ONLY financiero.fin_fac_par ALTER COLUMN id_fac_par SET DEFAULT nextval('financiero.fin_fac_item_id_fac_item_seq'::regclass);


--
-- TOC entry 2840 (class 2604 OID 24835)
-- Name: fin_factura id_factura; Type: DEFAULT; Schema: financiero; Owner: postgres
--

ALTER TABLE ONLY financiero.fin_factura ALTER COLUMN id_factura SET DEFAULT nextval('financiero.fin_factura_id_factura_seq'::regclass);


--
-- TOC entry 2847 (class 2604 OID 25548)
-- Name: fin_fondo id_fondo; Type: DEFAULT; Schema: financiero; Owner: postgres
--

ALTER TABLE ONLY financiero.fin_fondo ALTER COLUMN id_fondo SET DEFAULT nextval('financiero.fin_fondo_id_fondo_seq'::regclass);


--
-- TOC entry 2843 (class 2604 OID 24845)
-- Name: gen_estado id_estado; Type: DEFAULT; Schema: general; Owner: postgres
--

ALTER TABLE ONLY general.gen_estado ALTER COLUMN id_estado SET DEFAULT nextval('general.gen_estado_id_estado_seq'::regclass);


--
-- TOC entry 2807 (class 2604 OID 16400)
-- Name: gen_persona id_persona; Type: DEFAULT; Schema: general; Owner: postgres
--

ALTER TABLE ONLY general.gen_persona ALTER COLUMN id_persona SET DEFAULT nextval('general.gen_persona_id_persona_seq'::regclass);


--
-- TOC entry 2854 (class 2604 OID 25644)
-- Name: gen_secuencial id_secuencial; Type: DEFAULT; Schema: general; Owner: postgres
--

ALTER TABLE ONLY general.gen_secuencial ALTER COLUMN id_secuencial SET DEFAULT nextval('general.gen_secuencial_id_secuencial_seq'::regclass);


--
-- TOC entry 2822 (class 2604 OID 16509)
-- Name: gen_sucursal id_sucursal; Type: DEFAULT; Schema: general; Owner: postgres
--

ALTER TABLE ONLY general.gen_sucursal ALTER COLUMN id_sucursal SET DEFAULT nextval('general.gen_sucursal_id_sucursal_seq'::regclass);


--
-- TOC entry 2831 (class 2604 OID 16569)
-- Name: gen_tip_unidad id_tip_unidad; Type: DEFAULT; Schema: general; Owner: postgres
--

ALTER TABLE ONLY general.gen_tip_unidad ALTER COLUMN id_tip_unidad SET DEFAULT nextval('general.gen_tipo_unidad_id_tipo_unidad_seq'::regclass);


--
-- TOC entry 2844 (class 2604 OID 25491)
-- Name: par_formula id_formula; Type: DEFAULT; Schema: general; Owner: postgres
--

ALTER TABLE ONLY general.par_formula ALTER COLUMN id_formula SET DEFAULT nextval('general.par_formula_id_formula_seq'::regclass);


--
-- TOC entry 2845 (class 2604 OID 25528)
-- Name: inv_grupo id_grupo; Type: DEFAULT; Schema: inventario; Owner: postgres
--

ALTER TABLE ONLY inventario.inv_grupo ALTER COLUMN id_grupo SET DEFAULT nextval('inventario.inv_grupo_id_grupo_seq'::regclass);


--
-- TOC entry 2848 (class 2604 OID 25587)
-- Name: inv_inv_com id_inv_com; Type: DEFAULT; Schema: inventario; Owner: postgres
--

ALTER TABLE ONLY inventario.inv_inv_com ALTER COLUMN id_inv_com SET DEFAULT nextval('inventario.inv_inv_com_id_com_inv_seq'::regclass);


--
-- TOC entry 2823 (class 2604 OID 16517)
-- Name: inv_inv_suc id_inv_suc; Type: DEFAULT; Schema: inventario; Owner: postgres
--

ALTER TABLE ONLY inventario.inv_inv_suc ALTER COLUMN id_inv_suc SET DEFAULT nextval('inventario.inv_inv_sur_id_inv_suc_seq'::regclass);


--
-- TOC entry 2816 (class 2604 OID 16501)
-- Name: inv_inventario id_inventario; Type: DEFAULT; Schema: inventario; Owner: postgres
--

ALTER TABLE ONLY inventario.inv_inventario ALTER COLUMN id_inventario SET DEFAULT nextval('inventario.inventario_id_inventario_seq'::regclass);


--
-- TOC entry 2813 (class 2604 OID 16426)
-- Name: seg_role id_role; Type: DEFAULT; Schema: seguridad; Owner: postgres
--

ALTER TABLE ONLY seguridad.seg_role ALTER COLUMN id_role SET DEFAULT nextval('seguridad.seg_role_id_role_seq'::regclass);


--
-- TOC entry 2814 (class 2604 OID 16434)
-- Name: seg_role_usuario id_role_usuario; Type: DEFAULT; Schema: seguridad; Owner: postgres
--

ALTER TABLE ONLY seguridad.seg_role_usuario ALTER COLUMN id_role_usuario SET DEFAULT nextval('seguridad.seg_role_usuario_id_role_usuario_seq'::regclass);


--
-- TOC entry 2809 (class 2604 OID 16414)
-- Name: seg_usuario id_usuario; Type: DEFAULT; Schema: seguridad; Owner: postgres
--

ALTER TABLE ONLY seguridad.seg_usuario ALTER COLUMN id_usuario SET DEFAULT nextval('seguridad.seg_usuario_id_usuario_seq'::regclass);


--
-- TOC entry 2815 (class 2604 OID 16466)
-- Name: cli_cliente id_cliente; Type: DEFAULT; Schema: ventas; Owner: postgres
--

ALTER TABLE ONLY ventas.cli_cliente ALTER COLUMN id_cliente SET DEFAULT nextval('ventas.cli_cliente_cli_cliente_seq'::regclass);


--
-- TOC entry 3086 (class 0 OID 25597)
-- Dependencies: 242
-- Data for Name: fin_abo_fac; Type: TABLE DATA; Schema: financiero; Owner: postgres
--

COPY financiero.fin_abo_fac (id_abo_fac, id_factura, id_movimiento, abono, fec_abono, pago, regreso, saldo) FROM stdin;
1	18	\N	10000.00	2020-06-20 13:53:32-05	10000.00	0.00	\N
2	19	\N	10000.00	2020-06-20 13:55:03-05	10000.00	0.00	26000.00
3	20	\N	10000.00	2020-06-20 14:01:09-05	10000.00	0.00	26000.00
4	21	\N	10550.00	2020-06-20 14:01:35-05	10550.00	0.00	25450.00
5	22	\N	36000.00	2020-06-20 14:02:04-05	100000.00	64000.00	0.00
6	23	\N	0.00	2020-06-22 15:38:42-05	0.00	0.00	22000.00
7	24	\N	0.00	2020-06-22 15:39:20-05	0.00	0.00	22000.00
8	25	\N	0.00	2020-06-22 15:40:31-05	0.00	0.00	8500.00
9	26	\N	0.00	2020-06-22 15:42:40-05	0.00	0.00	3200.00
10	27	\N	0.00	2020-06-22 16:46:47-05	0.00	0.00	7800.00
11	28	\N	0.00	2020-06-23 15:02:36-05	0.00	0.00	1700.00
12	29	\N	1700.00	2020-06-23 15:04:38-05	10000.00	8300.00	0.00
13	30	\N	0.00	2020-06-23 16:20:10-05	0.00	0.00	2600.00
14	31	\N	0.00	2020-06-23 16:39:30-05	0.00	0.00	3200.00
15	32	\N	0.00	2020-06-23 16:41:48-05	0.00	0.00	3200.00
16	33	\N	0.00	2020-06-23 16:54:18-05	0.00	0.00	11500.00
17	34	\N	0.00	2020-06-23 17:14:36-05	0.00	0.00	19800.00
18	35	\N	0.00	2020-06-23 17:16:23-05	0.00	0.00	20800.00
19	36	\N	0.00	2020-06-23 17:17:50-05	0.00	0.00	23300.00
20	37	\N	3200.00	2020-06-24 15:29:41-05	20000.00	16800.00	0.00
21	38	\N	3200.00	2020-06-24 16:06:29-05	3200.00	0.00	2600.00
22	39	\N	0.00	2020-06-25 16:02:18-05	0.00	0.00	16600.00
23	40	\N	0.00	2020-06-25 16:24:58-05	0.00	0.00	16600.00
24	41	\N	1000.00	2020-06-25 16:43:49-05	1000.00	0.00	15600.00
25	42	\N	1000.00	2020-06-25 16:44:02-05	1000.00	0.00	15600.00
26	43	\N	0.00	2020-06-30 15:46:33-05	0.00	0.00	135100.00
27	44	\N	44400.00	2020-06-30 16:29:50-05	50000.00	5600.00	0.00
28	45	\N	0.00	2020-06-30 16:30:35-05	0.00	0.00	44400.00
29	47	\N	43800.00	2020-06-30 16:39:40-05	50000.00	6200.00	0.00
30	50	\N	2600.00	2020-07-03 16:01:31-05	10000.00	7400.00	0.00
31	52	\N	1000.00	2020-07-03 16:08:58-05	1000.00	0.00	1600.00
32	54	\N	1000.00	2020-07-03 16:11:44-05	1000.00	0.00	1600.00
33	56	\N	1000.00	2020-07-03 16:13:19-05	1000.00	0.00	1200.00
34	57	\N	1000.00	2020-07-03 16:14:48-05	1000.00	0.00	3800.00
46	72	\N	10000.00	2020-07-06 15:13:30-05	10000.00	0.00	9200.00
47	73	\N	10000.00	2020-07-06 15:14:23-05	10000.00	0.00	11800.00
48	74	\N	10000.00	2020-07-06 15:15:20-05	10000.00	0.00	14400.00
49	75	\N	10900.00	2020-07-06 15:46:09-05	11000.00	100.00	0.00
50	76	\N	10900.00	2020-07-06 15:47:52-05	10900.00	0.00	2600.00
51	77	\N	10900.00	2020-07-06 16:23:59-05	10900.00	0.00	5200.00
52	78	\N	10900.00	2020-07-06 16:25:38-05	10900.00	0.00	7800.00
53	79	\N	10900.00	2020-07-06 16:26:17-05	10900.00	0.00	7800.00
54	80	\N	10900.00	2020-07-06 16:28:43-05	10900.00	0.00	10400.00
55	81	\N	10900.00	2020-07-06 16:29:39-05	10900.00	0.00	13000.00
56	82	\N	10900.00	2020-07-06 16:30:35-05	10900.00	0.00	15600.00
57	83	\N	10900.00	2020-07-06 16:31:01-05	10900.00	0.00	18200.00
58	84	\N	10900.00	2020-07-06 16:37:03-05	10900.00	0.00	20800.00
59	85	\N	10900.00	2020-07-06 16:37:28-05	10900.00	0.00	23400.00
60	87	\N	10000.00	2020-07-08 16:58:36-05	10000.00	0.00	900.00
61	88	\N	10000.00	2020-07-08 17:08:45-05	10000.00	0.00	2000.00
62	89	\N	10000.00	2020-07-08 18:17:42-05	10000.00	0.00	2000.00
66	93	\N	10000.00	2020-07-09 15:39:16-05	10000.00	0.00	30900.00
67	94	\N	10000.00	2020-07-09 15:46:09-05	10000.00	0.00	33500.00
68	95	\N	10000.00	2020-07-09 16:00:27-05	10000.00	0.00	36800.00
69	96	\N	10000.00	2020-07-09 16:08:49-05	10000.00	0.00	33500.00
70	97	\N	10000.00	2020-07-09 16:12:29-05	10000.00	0.00	33700.00
71	98	\N	5000.00	2020-07-14 14:51:08-05	5000.00	0.00	7600.00
72	99	\N	8300.00	2020-07-14 14:55:37-05	10000.00	1700.00	0.00
73	101	\N	1000.00	2020-07-14 14:56:19-05	1000.00	0.00	7300.00
74	103	\N	5000.00	2020-07-14 14:57:16-05	5000.00	0.00	6500.00
77	103	\N	1000.00	2020-07-14 16:20:26-05	2000.00	1000.00	5500.00
78	103	\N	500.00	2020-07-14 16:23:32-05	2000.00	1500.00	5000.00
79	103	\N	300.00	2020-07-14 16:27:48-05	1000.00	700.00	4700.00
80	104	\N	50000.00	2020-07-15 15:54:43-05	50000.00	0.00	236700.00
81	104	\N	236700.00	2020-07-15 15:56:57-05	60000.00	0.00	0.00
82	106	\N	10000.00	2020-07-17 14:42:11-05	10000.00	0.00	126300.00
83	107	\N	10000.00	2020-07-17 14:45:05-05	10000.00	0.00	55000.00
84	107	\N	55000.00	2020-07-17 15:22:09-05	80000.00	25000.00	0.00
85	109	\N	2000.00	2020-07-18 16:59:51-05	2000.00	0.00	3200.00
86	109	\N	1000.00	2020-07-18 17:00:22-05	2000.00	1000.00	2200.00
87	110	\N	6400.00	2020-07-18 17:18:40-05	10000.00	3600.00	0.00
88	111	\N	6400.00	2020-07-18 17:19:12-05	6400.00	0.00	7900.00
89	111	\N	1000.00	2020-07-18 17:19:26-05	3000.00	2000.00	6900.00
90	112	\N	5000.00	2020-07-21 15:23:57-05	5000.00	0.00	6615.00
91	112	\N	3000.00	2020-07-21 15:24:20-05	5000.00	2000.00	3615.00
92	112	\N	3615.00	2020-07-21 15:25:05-05	5000.00	1385.00	0.00
93	114	\N	1000.00	2020-07-21 15:26:55-05	1000.00	0.00	700.00
94	114	\N	200.00	2020-07-21 15:27:28-05	20000.00	19800.00	500.00
95	114	\N	500.00	2020-07-21 15:27:45-05	50000.00	49500.00	0.00
96	117	\N	5000.00	2020-07-21 16:00:02-05	5000.00	0.00	6530.00
97	118	\N	10000.00	2020-08-03 15:52:52-05	10000.00	0.00	73600.00
98	118	\N	27200.00	2020-08-03 15:53:47-05	30000.00	2800.00	46400.00
99	118	\N	1000.00	2020-08-20 17:32:38-05	5000.00	4000.00	45400.00
100	119	\N	100000.00	2020-09-04 16:54:58-05	100000.00	0.00	103100.00
101	120	\N	10000.00	2020-09-18 00:36:43-05	10000.00	0.00	8360.00
102	121	\N	8800.00	2020-09-18 13:20:11-05	10000.00	1200.00	0.00
103	119	\N	10000.00	2020-09-18 13:20:43-05	20000.00	10000.00	93100.00
\.


--
-- TOC entry 3066 (class 0 OID 24791)
-- Dependencies: 222
-- Data for Name: fin_det_factura; Type: TABLE DATA; Schema: financiero; Owner: postgres
--

COPY financiero.fin_det_factura (id_det_factura, id_factura, cantidad, detalle, sub_total, descuento, vr_descuento, vr_transporte, vr_antes_iva, iva, vr_iva, total, id_inventario) FROM stdin;
2	6	1.00	CUADRO SIN FONDO	34100.00	0	0.00	0.00	34100.00	0	0.00	34100.00	8
3	7	1.00	CUADRO SIN FONDO	34100.00	0	682.00	10000.00	43418.00	0	0.00	43418.00	8
4	8	10.00	CADENA	26000.00	0	0.00	10000.00	36000.00	0	0.00	36000.00	13
5	9	10.00	CADENA	26000.00	0	0.00	10000.00	36000.00	0	0.00	36000.00	13
13	18	10.00	CADENA	26000.00	0	0.00	10000.00	36000.00	0	0.00	36000.00	13
14	19	10.00	CADENA	26000.00	0	0.00	10000.00	36000.00	0	0.00	36000.00	13
15	20	10.00	CADENA	26000.00	0	0.00	10000.00	36000.00	0	0.00	36000.00	13
16	21	10.00	CADENA	26000.00	0	0.00	10000.00	36000.00	0	0.00	36000.00	13
17	22	10.00	CADENA	26000.00	0	0.00	10000.00	36000.00	0	0.00	36000.00	13
18	23	20.00	EMPAQUE DIVICION	22000.00	0	0.00	0.00	22000.00	0	0.00	22000.00	32
19	24	20.00	EMPAQUE DIVICION	22000.00	0	0.00	0.00	22000.00	0	0.00	22000.00	32
20	25	1.00	CUADRO SIN FONDO	8500.00	0	0.00	0.00	8500.00	0	0.00	8500.00	8
21	26	0.09	VIDRIO ANTIREFLEJO	3200.00	0	0.00	0.00	3200.00	0	0.00	3200.00	18
22	27	3.00	CADENA	7800.00	0	0.00	0.00	7800.00	0	0.00	7800.00	13
23	28	0.09	VIDRIO CLARO 3 MM	1700.00	0	0.00	0.00	1700.00	0	0.00	1700.00	2
24	29	0.09	VIDRIO CLARO 3 MM	1700.00	0	0.00	0.00	1700.00	0	0.00	1700.00	2
25	30	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
26	31	0.09	VIDRIO ANTIREFLEJO	3200.00	0	0.00	0.00	3200.00	0	0.00	3200.00	18
27	32	0.09	VIDRIO ANTIREFLEJO	3200.00	0	0.00	0.00	3200.00	0	0.00	3200.00	18
28	33	0.09	VIDRIO ANTIREFLEJO	3200.00	0	0.00	0.00	3200.00	0	0.00	3200.00	18
29	33	1.00	CUADRO SIN FONDO	8300.00	0	0.00	0.00	8300.00	0	0.00	8300.00	8
30	34	0.09	VIDRIO ANTIREFLEJO	3200.00	0	0.00	0.00	3200.00	0	0.00	3200.00	18
31	34	1.00	CUADRO SIN FONDO	8300.00	0	0.00	0.00	8300.00	0	0.00	8300.00	8
32	34	1.00	CUADRO SIN FONDO	8300.00	0	0.00	0.00	8300.00	0	0.00	8300.00	8
33	35	0.09	VIDRIO ANTIREFLEJO	3200.00	0	0.00	0.00	3200.00	0	0.00	3200.00	18
34	35	1.00	CUADRO SIN FONDO	8300.00	0	0.00	0.00	8300.00	0	0.00	8300.00	8
35	35	1.00	CUADRO SIN FONDO	8300.00	0	0.00	0.00	8300.00	0	0.00	8300.00	8
36	35	1.00	CINTA DOBLE FAS	1000.00	0	0.00	0.00	1000.00	0	0.00	1000.00	4
37	36	0.09	VIDRIO ANTIREFLEJO	3200.00	0	0.00	0.00	3200.00	0	0.00	3200.00	18
38	36	1.00	CUADRO SIN FONDO	8300.00	0	0.00	0.00	8300.00	0	0.00	8300.00	8
39	36	1.00	CUADRO SIN FONDO	8300.00	0	0.00	0.00	8300.00	0	0.00	8300.00	8
40	36	1.00	CINTA DOBLE FAS	1000.00	0	0.00	0.00	1000.00	0	0.00	1000.00	4
41	36	2.50	CINTA DOBLE FAS	2500.00	0	0.00	0.00	2500.00	0	0.00	2500.00	4
42	37	0.09	VIDRIO ANTIREFLEJO	3200.00	0	0.00	0.00	3200.00	0	0.00	3200.00	18
43	38	0.09	VIDRIO ANTIREFLEJO	3200.00	0	0.00	0.00	3200.00	0	0.00	3200.00	18
44	38	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
45	39	2.00	CUADRO SIN FONDO	16600.00	0	0.00	0.00	16600.00	0	0.00	16600.00	8
46	40	2.00	CUADRO SIN FONDO	16600.00	0	0.00	0.00	16600.00	0	0.00	16600.00	8
47	41	2.00	CUADRO SIN FONDO	16600.00	0	0.00	0.00	16600.00	0	0.00	16600.00	8
48	42	2.00	CUADRO SIN FONDO	16600.00	0	0.00	0.00	16600.00	0	0.00	16600.00	8
49	43	1.00	CUADRO SIN FONDO	8300.00	0	0.00	55.56	8355.56	0	0.00	8355.56	8
50	43	1.00	CUADRO CON FONDO	11100.00	0	0.00	55.56	11155.56	0	0.00	11155.56	16
51	43	1.00	ESPEJO CON CADENA	6400.00	0	0.00	55.56	6455.56	0	0.00	6455.56	34
52	43	0.09	VIDRIO CLARO 3 MM	1700.00	0	0.00	55.56	1755.56	0	0.00	1755.56	2
53	43	0.09	VIDRIO ANTIREFLEJO	6400.00	0	0.00	111.12	6511.12	0	0.00	6511.12	18
54	43	2.00	EMPAQUE DIVICION	2200.00	0	0.00	111.12	2311.12	0	0.00	2311.12	32
55	43	2.00	EMPAQUE DIVICION	2200.00	0	0.00	111.12	2311.12	0	0.00	2311.12	32
56	43	2.00	EMPAQUE DIVICION	2200.00	0	0.00	111.12	2311.12	0	0.00	2311.12	32
57	43	2.00	POLIURETANO ANTIREFLEJO ANCHO SIN FONDO 	31200.00	0	0.00	111.04	31311.04	0	0.00	31311.04	29
58	43	2.00	POLIURETANO ANTIREFLEJO ANCHO SIN FONDO 	31200.00	0	0.00	111.12	31311.12	0	0.00	31311.12	29
59	43	2.00	POLIURETANO ANTIREFLEJO ANCHO SIN FONDO 	31200.00	0	0.00	111.12	31311.12	0	0.00	31311.12	29
60	44	4.00	CUADRO CON FONDO	44400.00	0	0.00	0.00	44400.00	0	0.00	44400.00	16
61	45	4.00	CUADRO CON FONDO	44400.00	0	0.00	0.00	44400.00	0	0.00	44400.00	16
62	46	1.00	POLIURETANO ANTIREFLEJO ANCHO SIN FONDO 	15600.00	0	0.00	0.00	15600.00	0	0.00	15600.00	29
63	46	2.00	POLIURETANO ANCHO SIN FONDO	28200.00	0	0.00	0.00	28200.00	0	0.00	28200.00	27
64	47	1.00	POLIURETANO ANTIREFLEJO ANCHO SIN FONDO 	15600.00	0	0.00	0.00	15600.00	0	0.00	15600.00	29
65	47	2.00	POLIURETANO ANCHO SIN FONDO	28200.00	0	0.00	0.00	28200.00	0	0.00	28200.00	27
66	48	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
67	49	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
68	50	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
69	51	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
70	52	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
71	53	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
72	54	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
73	55	2.00	EMPAQUE DIVICION	2200.00	0	0.00	0.00	2200.00	0	0.00	2200.00	32
229	97	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
74	56	2.00	EMPAQUE DIVICION	2200.00	0	0.00	0.00	2200.00	0	0.00	2200.00	32
75	57	2.00	EMPAQUE DIVICION	2200.00	0	0.00	0.00	2200.00	0	0.00	2200.00	32
76	57	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
77	58	2.00	EMPAQUE DIVICION	2200.00	0	0.00	0.00	2200.00	0	0.00	2200.00	32
78	58	3.00	EMPAQUE DIVICION	3300.00	0	0.00	0.00	3300.00	0	0.00	3300.00	32
79	59	0.36	VIDRIO ANTIREFLEJO	12600.00	0	0.00	0.00	12600.00	0	0.00	12600.00	18
80	60	3.00	ESPEJO CON CADENA	51000.00	0	2550.00	0.00	48450.00	0	0.00	48450.00	34
114	72	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
115	72	1.00	CUADRO SIN FONDO	8300.00	0	0.00	0.00	8300.00	0	0.00	8300.00	8
116	72	1.00	CUADRO SIN FONDO	8300.00	0	0.00	0.00	8300.00	0	0.00	8300.00	8
117	73	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
118	73	1.00	CUADRO SIN FONDO	8300.00	0	0.00	0.00	8300.00	0	0.00	8300.00	8
119	73	1.00	CUADRO SIN FONDO	8300.00	0	0.00	0.00	8300.00	0	0.00	8300.00	8
120	73	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
121	74	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
122	74	1.00	CUADRO SIN FONDO	8300.00	0	0.00	0.00	8300.00	0	0.00	8300.00	8
123	74	1.00	CUADRO SIN FONDO	8300.00	0	0.00	0.00	8300.00	0	0.00	8300.00	8
124	74	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
125	74	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
126	75	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
127	75	1.00	CUADRO SIN FONDO	8300.00	0	0.00	0.00	8300.00	0	0.00	8300.00	8
128	76	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
129	76	1.00	CUADRO SIN FONDO	8300.00	0	0.00	0.00	8300.00	0	0.00	8300.00	8
130	76	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
131	77	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
132	77	1.00	CUADRO SIN FONDO	8300.00	0	0.00	0.00	8300.00	0	0.00	8300.00	8
133	77	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
134	77	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
135	78	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
136	78	1.00	CUADRO SIN FONDO	8300.00	0	0.00	0.00	8300.00	0	0.00	8300.00	8
137	78	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
138	78	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
139	78	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
140	79	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
141	79	1.00	CUADRO SIN FONDO	8300.00	0	0.00	0.00	8300.00	0	0.00	8300.00	8
142	79	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
143	79	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
144	79	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
145	80	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
146	80	1.00	CUADRO SIN FONDO	8300.00	0	0.00	0.00	8300.00	0	0.00	8300.00	8
147	80	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
148	80	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
149	80	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
150	80	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
151	81	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
152	81	1.00	CUADRO SIN FONDO	8300.00	0	0.00	0.00	8300.00	0	0.00	8300.00	8
153	81	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
154	81	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
155	81	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
156	81	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
157	81	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
158	82	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
159	82	1.00	CUADRO SIN FONDO	8300.00	0	0.00	0.00	8300.00	0	0.00	8300.00	8
160	82	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
161	82	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
162	82	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
163	82	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
164	82	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
165	82	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
166	83	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
167	83	1.00	CUADRO SIN FONDO	8300.00	0	0.00	0.00	8300.00	0	0.00	8300.00	8
168	83	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
169	83	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
170	83	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
171	83	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
172	83	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
173	83	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
174	83	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
175	84	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
176	84	1.00	CUADRO SIN FONDO	8300.00	0	0.00	0.00	8300.00	0	0.00	8300.00	8
177	84	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
178	84	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
179	84	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
180	84	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
181	84	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
182	84	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
183	84	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
184	84	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
185	85	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
186	85	1.00	CUADRO SIN FONDO	8300.00	0	0.00	0.00	8300.00	0	0.00	8300.00	8
187	85	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
188	85	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
189	85	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
190	85	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
191	85	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
192	85	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
193	85	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
194	85	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
195	85	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
196	86	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
197	86	1.00	CUADRO SIN FONDO	8300.00	0	0.00	0.00	8300.00	0	0.00	8300.00	8
198	86	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
199	86	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
200	86	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
201	87	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
202	87	1.00	CUADRO SIN FONDO	8300.00	0	0.00	0.00	8300.00	0	0.00	8300.00	8
203	88	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
204	88	1.00	CUADRO SIN FONDO	8300.00	0	0.00	0.00	8300.00	0	0.00	8300.00	8
205	88	1.00	EMPAQUE DIVICION	1100.00	0	0.00	0.00	1100.00	0	0.00	1100.00	32
206	89	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
207	89	1.00	CUADRO SIN FONDO	8300.00	0	0.00	0.00	8300.00	0	0.00	8300.00	8
208	89	1.00	EMPAQUE DIVICION	1100.00	0	0.00	0.00	1100.00	0	0.00	1100.00	32
215	93	1.00	POLIURETANO ANCHO CON FONDO	22500.00	0	0.00	0.00	22500.00	0	0.00	22500.00	28
216	93	1.00	ESPEJO ENMARCADO	18400.00	0	0.00	0.00	18400.00	0	0.00	18400.00	20
217	94	1.00	POLIURETANO ANCHO CON FONDO	22500.00	0	0.00	0.00	22500.00	0	0.00	22500.00	28
218	94	1.00	ESPEJO ENMARCADO	18400.00	0	0.00	0.00	18400.00	0	0.00	18400.00	20
219	94	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
220	95	1.00	POLIURETANO ANCHO CON FONDO	22500.00	0	0.00	0.00	22500.00	0	0.00	22500.00	28
221	95	1.00	ESPEJO ENMARCADO	18400.00	0	0.00	0.00	18400.00	0	0.00	18400.00	20
222	95	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
223	95	3.00	EMPAQUE DIVICION	3300.00	0	0.00	0.00	3300.00	0	0.00	3300.00	32
224	96	1.00	POLIURETANO ANCHO CON FONDO	22500.00	0	0.00	0.00	22500.00	0	0.00	22500.00	28
225	96	1.00	ESPEJO ENMARCADO	18400.00	0	0.00	0.00	18400.00	0	0.00	18400.00	20
226	96	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
227	97	1.00	POLIURETANO ANCHO CON FONDO	22500.00	0	0.00	0.00	22500.00	0	0.00	22500.00	28
228	97	1.00	ESPEJO ENMARCADO	18400.00	0	0.00	0.00	18400.00	0	0.00	18400.00	20
230	97	1.00	CERRUCHO	200.00	0	0.00	0.00	200.00	0	0.00	200.00	14
231	98	0.36	VIDRIO ANTIREFLEJO	12600.00	0	0.00	0.00	12600.00	0	0.00	12600.00	18
232	99	1.00	CUADRO SIN FONDO	8300.00	0	0.00	0.00	8300.00	0	0.00	8300.00	8
233	100	1.00	CUADRO SIN FONDO	8300.00	0	0.00	0.00	8300.00	0	0.00	8300.00	8
234	101	1.00	CUADRO SIN FONDO	8300.00	0	0.00	0.00	8300.00	0	0.00	8300.00	8
235	102	1.00	CUADRO SIN FONDO	8300.00	0	0.00	0.00	8300.00	0	0.00	8300.00	8
236	103	1.00	CUADRO SIN FONDO	8300.00	0	0.00	0.00	8300.00	0	0.00	8300.00	8
237	103	0.09	VIDRIO ANTIREFLEJO	3200.00	0	0.00	0.00	3200.00	0	0.00	3200.00	18
238	104	4.68	ESPEJO 3MM	154500.00	0	0.00	0.00	154500.00	0	0.00	154500.00	19
239	104	0.88	ESPEJO 3MM	29100.00	0	0.00	0.00	29100.00	0	0.00	29100.00	19
240	104	1.43	ESPEJO 3MM	47200.00	0	0.00	0.00	47200.00	0	0.00	47200.00	19
241	104	1.43	VIDRIO CLARO 3 MM	25800.00	0	0.00	0.00	25800.00	0	0.00	25800.00	2
242	104	0.91	ESPEJO 3MM	30100.00	0	0.00	0.00	30100.00	0	0.00	30100.00	19
243	105	1.00	CUADRO SIN FONDO	8300.00	0	0.00	0.00	8300.00	0	0.00	8300.00	8
244	105	0.09	VIDRIO ANTIREFLEJO	3200.00	0	0.00	0.00	3200.00	0	0.00	3200.00	18
245	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
246	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
247	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
248	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
249	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
250	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
251	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
252	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
253	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
254	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
255	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
256	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
257	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
258	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
259	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
260	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
261	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
262	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
263	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
264	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
265	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
266	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
267	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
268	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
269	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
270	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
271	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
272	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
273	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
274	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
275	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
276	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
277	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
278	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
279	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
280	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
281	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
282	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
283	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
284	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
285	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
286	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
287	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
288	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
289	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
290	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
291	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
292	105	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
293	106	1.00	CUADRO SIN FONDO	8300.00	0	0.00	0.00	8300.00	0	0.00	8300.00	8
294	106	0.09	VIDRIO ANTIREFLEJO	3200.00	0	0.00	0.00	3200.00	0	0.00	3200.00	18
295	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
296	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
297	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
298	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
299	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
300	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
301	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
302	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
303	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
304	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
305	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
306	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
307	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
308	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
309	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
310	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
311	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
312	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
313	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
314	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
315	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
316	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
317	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
318	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
319	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
320	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
321	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
322	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
323	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
324	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
325	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
326	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
327	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
328	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
329	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
330	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
331	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
332	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
333	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
334	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
335	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
336	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
337	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
338	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
339	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
340	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
341	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
342	106	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
343	107	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
344	107	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
345	107	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
346	107	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
347	107	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
348	107	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
349	107	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
350	107	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
351	107	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
352	107	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
353	107	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
354	107	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
355	107	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
356	107	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
357	107	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
358	107	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
359	107	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
360	107	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
361	107	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
362	107	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
363	107	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
364	107	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
365	107	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
366	107	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
367	107	1.00	CADENA	2600.00	0	0.00	0.00	2600.00	0	0.00	2600.00	13
368	108	2.00	CADENA	5200.00	0	260.00	1000.00	5940.00	0	0.00	5940.00	13
369	109	2.00	CADENA	5200.00	0	0.00	0.00	5200.00	0	0.00	5200.00	13
370	110	1.00	ESPEJO CON CADENA	6400.00	0	0.00	0.00	6400.00	0	0.00	6400.00	34
371	111	1.00	ESPEJO CON CADENA	6400.00	0	0.00	0.00	6400.00	0	0.00	6400.00	34
372	111	1.00	ESPEJO ENMARCADO	7900.00	0	0.00	0.00	7900.00	0	0.00	7900.00	20
373	112	0.09	VIDRIO CLARO 3 MM	1700.00	0	85.00	10000.00	11615.00	0	0.00	11615.00	2
374	113	0.09	VIDRIO CLARO 3 MM	1700.00	0	0.00	0.00	1700.00	0	0.00	1700.00	2
375	114	0.09	VIDRIO CLARO 3 MM	1700.00	0	0.00	0.00	1700.00	0	0.00	1700.00	2
376	115	0.09	VIDRIO CLARO 3 MM	1700.00	0	0.00	0.00	1700.00	0	0.00	1700.00	2
377	116	0.09	VIDRIO CLARO 3 MM	1700.00	0	170.00	10000.00	11530.00	0	0.00	11530.00	2
378	117	0.09	VIDRIO CLARO 3 MM	1700.00	0	170.00	10000.00	11530.00	0	0.00	11530.00	2
379	118	1.00	Prueba no registrado	17500.00	0	875.00	0.00	16625.00	0	0.00	16625.00	46
380	118	3.00	Prueba no registrado	52500.00	0	2625.00	0.00	49875.00	0	0.00	49875.00	46
381	118	2.00	CADENA	5200.00	0	260.00	0.00	4940.00	0	0.00	4940.00	13
382	118	2.00	ESPEJO CON CADENA	12800.00	0	640.00	0.00	12160.00	0	0.00	12160.00	34
383	119	1.00	VENTANA EN SISTEMA 744 NATURAL	203100.00	0	0.00	0.00	203100.00	0	0.00	203100.00	62
384	120	1.00	CUADRO SIN FONDO	8800.00	0	440.00	10000.00	18360.00	0	0.00	18360.00	8
385	121	1.00	CUADRO SIN FONDO	8800.00	0	0.00	0.00	8800.00	0	0.00	8800.00	8
386	122	0.56	VIDRIO CLARO 4 MM	30800.00	0	0.00	0.00	30800.00	0	0.00	30800.00	6
387	123	0.56	VIDRIO CLARO 4 MM	38200.00	0	0.00	0.00	38200.00	0	0.00	38200.00	6
388	123	2.00	NAVE 596 NATURAL M	14000.00	0	0.00	0.00	14000.00	0	0.00	14000.00	22
\.


--
-- TOC entry 3070 (class 0 OID 24817)
-- Dependencies: 226
-- Data for Name: fin_fac_par; Type: TABLE DATA; Schema: financiero; Owner: postgres
--

COPY financiero.fin_fac_par (id_fac_par, id_det_factura, parametros) FROM stdin;
\.


--
-- TOC entry 3073 (class 0 OID 24832)
-- Dependencies: 229
-- Data for Name: fin_factura; Type: TABLE DATA; Schema: financiero; Owner: postgres
--

COPY financiero.fin_factura (id_factura, id_cliente, id_estado, totales, items, total, saldo, transporte, descuento, id_movimiento, fec_factura, num_factura) FROM stdin;
3	1	1	{"sub_total":34100,"vr_descuento":0,"vr_antes_iva":34100,"vr_iva":0,"total":34100,"cantidad_items":1,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"vr_venta":"3000.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":11400,"parametros":[70,100],"cantidad_item":3.8},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[70,100],"cantidad_item":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":15000,"parametros":[100,70],"cantidad_item":1,"cantidad":0.83},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[70,100],"cantidad_item":0,"cantidad":0.7},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":2800,"parametros":[70,100],"cantidad_item":1,"cantidad":0.7},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"vr_venta":"2600.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":2080,"parametros":[70,100],"cantidad_item":"0.80"},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[70,100],"cantidad_item":0},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[70,100],"cantidad_item":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":34100,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":34100,"iva":0,"vr_iva":0,"total":34100,"parametros":[70,100],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"}]	34100.00	0.00	0.00	0.0	\N	2019-01-10 00:00:00-05	NA
6	1	1	{"sub_total":34100,"vr_descuento":0,"vr_antes_iva":34100,"vr_iva":0,"total":34100,"cantidad_items":1,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"vr_venta":"3000.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":11400,"parametros":[70,100],"cantidad_item":3.8},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[70,100],"cantidad_item":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":15000,"parametros":[100,70],"cantidad_item":1,"cantidad":0.83},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[70,100],"cantidad_item":0,"cantidad":0.7},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":2800,"parametros":[70,100],"cantidad_item":1,"cantidad":0.7},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"vr_venta":"2600.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":2080,"parametros":[70,100],"cantidad_item":"0.80"},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[70,100],"cantidad_item":0},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[70,100],"cantidad_item":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":34100,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":34100,"iva":0,"vr_iva":0,"total":34100,"parametros":[70,100],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"}]	34100.00	0.00	0.00	0.0	\N	2019-01-10 00:00:00-05	NA
7	1	1	{"sub_total":34100,"vr_descuento":682,"vr_antes_iva":43418,"vr_iva":0,"total":43418,"cantidad_items":1,"vr_transporte_item":10000,"ajuste_transporte":0,"transporte":10000}	[{"Componentes":[{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"vr_venta":"3000.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":11400,"parametros":[70,100],"cantidad_item":3.8},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[70,100],"cantidad_item":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":15000,"parametros":[100,70],"cantidad_item":1,"cantidad":0.83},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[70,100],"cantidad_item":0,"cantidad":0.7},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":2800,"parametros":[70,100],"cantidad_item":1,"cantidad":0.7},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"vr_venta":"2600.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":2080,"parametros":[70,100],"cantidad_item":"0.80"},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[70,100],"cantidad_item":0},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[70,100],"cantidad_item":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":34100,"descuento":0,"vr_descuento":682,"vr_transporte":10000,"vr_antes_iva":43418,"iva":0,"vr_iva":0,"total":43418,"parametros":[70,100],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"}]	43418.00	0.00	10000.00	2.0	\N	2019-01-10 00:00:00-05	NA
8	1	1	{"sub_total":26000,"vr_descuento":0,"vr_antes_iva":36000,"vr_iva":0,"total":36000,"cantidad_items":10,"vr_transporte_item":1000,"ajuste_transporte":0,"transporte":10000}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":10,"cantidad":10,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":26000,"descuento":0,"vr_descuento":0,"vr_transporte":10000,"vr_antes_iva":36000,"iva":0,"vr_iva":0,"total":36000,"parametros":[],"formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	36000.00	0.00	10000.00	0.0	\N	2019-01-10 00:00:00-05	NA
9	1	1	{"sub_total":26000,"vr_descuento":0,"vr_antes_iva":36000,"vr_iva":0,"total":36000,"cantidad_items":10,"vr_transporte_item":1000,"ajuste_transporte":0,"transporte":10000}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":10,"cantidad":10,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":26000,"descuento":0,"vr_descuento":0,"vr_transporte":10000,"vr_antes_iva":36000,"iva":0,"vr_iva":0,"total":36000,"parametros":[],"formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	36000.00	26000.00	10000.00	0.0	\N	2019-01-10 00:00:00-05	NA
2	1	1	{"sub_total":3200,"vr_descuento":0,"vr_antes_iva":3200,"vr_iva":0,"total":3200,"cantidad_items":1,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"S","esCambio":false,"id_grupo":1,"id_inv_suc":"15","id_inventario":"18","id_sucursal":1,"id_formula":1,"n_parametros":2,"nesecita_p":"S","maximos_p":[260,160],"codigo":"0013","descripcion":"VIDRIO ANTIREFLEJO","cantidad_item":1,"cantidad":0.09,"unidad":"M2","vr_venta_domicilio":"49000.00","vr_venta_local":"35000.00","vr_venta":"35000.00","sub_total":3200,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":3200,"iva":0,"vr_iva":0,"total":3200,"parametros":[30,20],"formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));"}]	3200.00	0.00	0.00	0.0	\N	2019-01-10 00:00:00-05	NA
18	1	1	{"sub_total":26000,"vr_descuento":0,"vr_antes_iva":36000,"vr_iva":0,"total":36000,"cantidad_items":10,"vr_transporte_item":1000,"ajuste_transporte":0,"transporte":10000}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":10,"cantidad":10,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":26000,"descuento":0,"vr_descuento":0,"vr_transporte":10000,"vr_antes_iva":36000,"iva":0,"vr_iva":0,"total":36000,"parametros":[],"formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	36000.00	26000.00	10000.00	0.0	\N	2019-01-10 00:00:00-05	NA
19	1	1	{"sub_total":26000,"vr_descuento":0,"vr_antes_iva":36000,"vr_iva":0,"total":36000,"cantidad_items":10,"vr_transporte_item":1000,"ajuste_transporte":0,"transporte":10000}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":10,"cantidad":10,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":26000,"descuento":0,"vr_descuento":0,"vr_transporte":10000,"vr_antes_iva":36000,"iva":0,"vr_iva":0,"total":36000,"parametros":[],"formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	36000.00	26000.00	10000.00	0.0	\N	2019-01-10 00:00:00-05	NA
20	1	1	{"sub_total":26000,"vr_descuento":0,"vr_antes_iva":36000,"vr_iva":0,"total":36000,"cantidad_items":10,"vr_transporte_item":1000,"ajuste_transporte":0,"transporte":10000}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":10,"cantidad":10,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":26000,"descuento":0,"vr_descuento":0,"vr_transporte":10000,"vr_antes_iva":36000,"iva":0,"vr_iva":0,"total":36000,"parametros":[],"formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	36000.00	26000.00	10000.00	0.0	\N	2020-06-20 14:01:09-05	NA
21	1	1	{"sub_total":26000,"vr_descuento":0,"vr_antes_iva":36000,"vr_iva":0,"total":36000,"cantidad_items":10,"vr_transporte_item":1000,"ajuste_transporte":0,"transporte":10000}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":10,"cantidad":10,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":26000,"descuento":0,"vr_descuento":0,"vr_transporte":10000,"vr_antes_iva":36000,"iva":0,"vr_iva":0,"total":36000,"parametros":[],"formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	36000.00	25450.00	10000.00	0.0	\N	2020-06-20 14:01:35-05	NA
22	1	1	{"sub_total":26000,"vr_descuento":0,"vr_antes_iva":36000,"vr_iva":0,"total":36000,"cantidad_items":10,"vr_transporte_item":1000,"ajuste_transporte":0,"transporte":10000}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":10,"cantidad":10,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":26000,"descuento":0,"vr_descuento":0,"vr_transporte":10000,"vr_antes_iva":36000,"iva":0,"vr_iva":0,"total":36000,"parametros":[],"formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	36000.00	0.00	10000.00	0.0	\N	2020-06-20 14:02:04-05	NA
23	1	1	{"sub_total":22000,"vr_descuento":0,"vr_antes_iva":22000,"vr_iva":0,"total":22000,"cantidad_items":20,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":12,"id_inv_suc":"27","id_inventario":"32","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0033","descripcion":"EMPAQUE DIVICION","cantidad_item":20,"cantidad":20,"unidad":"M","vr_venta_domicilio":"1100.00","vr_venta_local":"1100.00","vr_venta":"1100.00","sub_total":22000,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":22000,"iva":0,"vr_iva":0,"total":22000,"parametros":[],"formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	22000.00	22000.00	0.00	0.0	\N	2020-06-22 15:38:42-05	NA
24	1	1	{"sub_total":22000,"vr_descuento":0,"vr_antes_iva":22000,"vr_iva":0,"total":22000,"cantidad_items":20,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":12,"id_inv_suc":"27","id_inventario":"32","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0033","descripcion":"EMPAQUE DIVICION","cantidad_item":20,"cantidad":20,"unidad":"M","vr_venta_domicilio":"1100.00","vr_venta_local":"1100.00","vr_venta":"1100.00","sub_total":22000,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":22000,"iva":0,"vr_iva":0,"total":22000,"parametros":[],"formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	22000.00	22000.00	0.00	0.0	\N	2020-06-22 15:39:20-05	NA
25	1	1	{"sub_total":8500,"vr_descuento":0,"vr_antes_iva":8500,"vr_iva":0,"total":8500,"cantidad_items":1,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"vr_venta":"3000.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3480,"parametros":[33,20],"cantidad_item":1.16},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[33,20],"cantidad_item":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[33,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":245,"parametros":[33,20],"cantidad_item":1,"cantidad":0.07},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[33,20],"cantidad_item":0,"cantidad":0.07},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"vr_venta":"2600.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[33,20],"cantidad_item":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[33,20],"cantidad_item":1},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[33,20],"cantidad_item":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":8500,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8500,"iva":0,"vr_iva":0,"total":8500,"parametros":[33,20],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"}]	8500.00	8500.00	0.00	0.0	\N	2020-06-22 15:40:31-05	NA
26	1	1	{"sub_total":3200,"vr_descuento":0,"vr_antes_iva":3200,"vr_iva":0,"total":3200,"cantidad_items":1,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"S","esCambio":false,"id_grupo":1,"id_inv_suc":"15","id_inventario":"18","id_sucursal":1,"id_formula":1,"n_parametros":2,"nesecita_p":"S","maximos_p":[260,160],"codigo":"0013","descripcion":"VIDRIO ANTIREFLEJO","cantidad_item":1,"cantidad":0.09,"unidad":"M2","vr_venta_domicilio":"49000.00","vr_venta_local":"35000.00","vr_venta":"35000.00","sub_total":3200,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":3200,"iva":0,"vr_iva":0,"total":3200,"parametros":[30,20],"formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));"}]	3200.00	3200.00	0.00	0.0	\N	2020-06-22 15:42:40-05	NA
27	1	1	{"sub_total":7800,"vr_descuento":0,"vr_antes_iva":7800,"vr_iva":0,"total":7800,"cantidad_items":3,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":3,"cantidad":3,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":7800,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":7800,"iva":0,"vr_iva":0,"total":7800,"parametros":[],"formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	7800.00	7800.00	0.00	0.0	\N	2020-06-22 16:46:47-05	NA
28	1	1	{"sub_total":1700,"vr_descuento":0,"vr_antes_iva":1700,"vr_iva":0,"total":1700,"cantidad_items":1,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"S","esCambio":false,"id_grupo":1,"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"id_formula":1,"n_parametros":2,"nesecita_p":"S","maximos_p":[260,180],"codigo":"0001","descripcion":"VIDRIO CLARO 3 MM","cantidad_item":1,"cantidad":0.09,"unidad":"M2","vr_venta_domicilio":"24000.00","vr_venta_local":"18000.00","vr_venta":"18000.00","sub_total":1700,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":1700,"iva":0,"vr_iva":0,"total":1700,"parametros":[30,20],"formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));"}]	1700.00	1700.00	0.00	0.0	\N	2020-06-23 15:02:36-05	NA
29	2	1	{"sub_total":1700,"vr_descuento":0,"vr_antes_iva":1700,"vr_iva":0,"total":1700,"cantidad_items":1,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"S","esCambio":false,"id_grupo":1,"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"id_formula":1,"n_parametros":2,"nesecita_p":"S","maximos_p":[260,180],"codigo":"0001","descripcion":"VIDRIO CLARO 3 MM","cantidad_item":1,"cantidad":0.09,"unidad":"M2","vr_venta_domicilio":"24000.00","vr_venta_local":"18000.00","vr_venta":"18000.00","sub_total":1700,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":1700,"iva":0,"vr_iva":0,"total":1700,"parametros":[30,20],"formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));"}]	1700.00	0.00	0.00	0.0	\N	2020-06-23 15:04:38-05	NA
30	2	1	{"sub_total":2600,"vr_descuento":0,"vr_antes_iva":2600,"vr_iva":0,"total":2600,"cantidad_items":1,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	2600.00	2600.00	0.00	0.0	\N	2020-06-23 16:20:10-05	2020-1
31	1	1	{"sub_total":3200,"vr_descuento":0,"vr_antes_iva":3200,"vr_iva":0,"total":3200,"cantidad_items":1,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"S","esCambio":false,"id_grupo":1,"id_inv_suc":"15","id_inventario":"18","id_sucursal":1,"id_formula":1,"n_parametros":2,"nesecita_p":"S","maximos_p":[260,160],"codigo":"0013","descripcion":"VIDRIO ANTIREFLEJO","cantidad_item":1,"cantidad":0.09,"unidad":"M2","vr_venta_domicilio":"49000.00","vr_venta_local":"35000.00","vr_venta":"35000.00","sub_total":3200,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":3200,"iva":0,"vr_iva":0,"total":3200,"parametros":[30,20],"formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));"}]	3200.00	3200.00	0.00	0.0	\N	2020-06-23 16:39:30-05	2020-1
32	1	1	{"sub_total":3200,"vr_descuento":0,"vr_antes_iva":3200,"vr_iva":0,"total":3200,"cantidad_items":1,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"S","esCambio":false,"id_grupo":1,"id_inv_suc":"15","id_inventario":"18","id_sucursal":1,"id_formula":1,"n_parametros":2,"nesecita_p":"S","maximos_p":[260,160],"codigo":"0013","descripcion":"VIDRIO ANTIREFLEJO","cantidad_item":1,"cantidad":0.09,"unidad":"M2","vr_venta_domicilio":"49000.00","vr_venta_local":"35000.00","vr_venta":"35000.00","sub_total":3200,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":3200,"iva":0,"vr_iva":0,"total":3200,"parametros":[30,20],"formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));"}]	3200.00	3200.00	0.00	0.0	\N	2020-06-23 16:41:48-05	2020-2
33	1	1	{"sub_total":11500,"vr_descuento":0,"vr_antes_iva":11500,"vr_iva":0,"total":11500,"cantidad_items":2,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"S","esCambio":false,"id_grupo":1,"id_inv_suc":"15","id_inventario":"18","id_sucursal":1,"id_formula":1,"n_parametros":2,"nesecita_p":"S","maximos_p":[260,160],"codigo":"0013","descripcion":"VIDRIO ANTIREFLEJO","cantidad_item":1,"cantidad":0.09,"unidad":"M2","vr_venta_domicilio":"49000.00","vr_venta_local":"35000.00","vr_venta":"35000.00","sub_total":3200,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":3200,"iva":0,"vr_iva":0,"total":3200,"parametros":[30,20],"formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"vr_venta":"3000.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3300,"parametros":[20,30],"cantidad_item":1.1},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30],"cantidad_item":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"vr_venta":"2600.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8300,"iva":0,"vr_iva":0,"total":8300,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"}]	11500.00	11500.00	0.00	0.0	\N	2020-06-23 16:54:18-05	2020-3
34	1	1	{"sub_total":19800,"vr_descuento":0,"vr_antes_iva":19800,"vr_iva":0,"total":19800,"cantidad_items":3,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"S","esCambio":false,"id_grupo":1,"id_inv_suc":"15","id_inventario":"18","id_sucursal":1,"id_formula":1,"n_parametros":2,"nesecita_p":"S","maximos_p":[260,160],"codigo":"0013","descripcion":"VIDRIO ANTIREFLEJO","cantidad_item":1,"cantidad":0.09,"unidad":"M2","vr_venta_domicilio":"49000.00","vr_venta_local":"35000.00","vr_venta":"35000.00","sub_total":3200,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":3200,"iva":0,"vr_iva":0,"total":3200,"parametros":[30,20],"formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"vr_venta":"3000.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3300,"parametros":[20,30],"cantidad_item":1.1},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30],"cantidad_item":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"vr_venta":"2600.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8300,"iva":0,"vr_iva":0,"total":8300,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"vr_venta":"3000.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3300,"parametros":[20,30],"cantidad_item":1.1},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30],"cantidad_item":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"vr_venta":"2600.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8300,"iva":0,"vr_iva":0,"total":8300,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"}]	19800.00	19800.00	0.00	0.0	\N	2020-06-23 17:14:36-05	2020-4
35	2	1	{"sub_total":20800,"vr_descuento":0,"vr_antes_iva":20800,"vr_iva":0,"total":20800,"cantidad_items":4,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"S","esCambio":false,"id_grupo":1,"id_inv_suc":"15","id_inventario":"18","id_sucursal":1,"id_formula":1,"n_parametros":2,"nesecita_p":"S","maximos_p":[260,160],"codigo":"0013","descripcion":"VIDRIO ANTIREFLEJO","cantidad_item":1,"cantidad":0.09,"unidad":"M2","vr_venta_domicilio":"49000.00","vr_venta_local":"35000.00","vr_venta":"35000.00","sub_total":3200,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":3200,"iva":0,"vr_iva":0,"total":3200,"parametros":[30,20],"formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"vr_venta":"3000.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3300,"parametros":[20,30],"cantidad_item":1.1},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30],"cantidad_item":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"vr_venta":"2600.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8300,"iva":0,"vr_iva":0,"total":8300,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"vr_venta":"3000.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3300,"parametros":[20,30],"cantidad_item":1.1},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30],"cantidad_item":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"vr_venta":"2600.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8300,"iva":0,"vr_iva":0,"total":8300,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":7,"id_inv_suc":"3","id_inventario":"4","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0002","descripcion":"CINTA DOBLE FAS","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"1000.00","vr_venta_local":"1000.00","vr_venta":"1000.00","sub_total":1000,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":1000,"iva":0,"vr_iva":0,"total":1000,"parametros":[],"formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	20800.00	20800.00	0.00	0.0	\N	2020-06-23 17:16:23-05	2020-5
36	2	1	{"sub_total":23300,"vr_descuento":0,"vr_antes_iva":23300,"vr_iva":0,"total":23300,"cantidad_items":6.5,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"S","esCambio":false,"id_grupo":1,"id_inv_suc":"15","id_inventario":"18","id_sucursal":1,"id_formula":1,"n_parametros":2,"nesecita_p":"S","maximos_p":[260,160],"codigo":"0013","descripcion":"VIDRIO ANTIREFLEJO","cantidad_item":1,"cantidad":0.09,"unidad":"M2","vr_venta_domicilio":"49000.00","vr_venta_local":"35000.00","vr_venta":"35000.00","sub_total":3200,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":3200,"iva":0,"vr_iva":0,"total":3200,"parametros":[30,20],"formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"vr_venta":"3000.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3300,"parametros":[20,30],"cantidad_item":1.1},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30],"cantidad_item":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"vr_venta":"2600.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8300,"iva":0,"vr_iva":0,"total":8300,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"vr_venta":"3000.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3300,"parametros":[20,30],"cantidad_item":1.1},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30],"cantidad_item":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"vr_venta":"2600.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8300,"iva":0,"vr_iva":0,"total":8300,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":7,"id_inv_suc":"3","id_inventario":"4","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0002","descripcion":"CINTA DOBLE FAS","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"1000.00","vr_venta_local":"1000.00","vr_venta":"1000.00","sub_total":1000,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":1000,"iva":0,"vr_iva":0,"total":1000,"parametros":[],"formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":7,"id_inv_suc":"3","id_inventario":"4","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0002","descripcion":"CINTA DOBLE FAS","cantidad_item":2.5,"cantidad":2.5,"unidad":"M","vr_venta_domicilio":"1000.00","vr_venta_local":"1000.00","vr_venta":"1000.00","sub_total":2500,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2500,"iva":0,"vr_iva":0,"total":2500,"parametros":[],"formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	23300.00	23300.00	0.00	0.0	\N	2020-06-23 17:17:50-05	2020-6
37	1	2	{"sub_total":3200,"vr_descuento":0,"vr_antes_iva":3200,"vr_iva":0,"total":3200,"cantidad_items":1,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"S","esCambio":false,"id_grupo":1,"id_inv_suc":"15","id_inventario":"18","id_sucursal":1,"id_formula":1,"n_parametros":2,"nesecita_p":"S","maximos_p":[260,160],"codigo":"0013","descripcion":"VIDRIO ANTIREFLEJO","cantidad_item":1,"cantidad":0.09,"unidad":"M2","vr_venta_domicilio":"49000.00","vr_venta_local":"35000.00","vr_venta":"35000.00","sub_total":3200,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":3200,"iva":0,"vr_iva":0,"total":3200,"parametros":[30,20],"formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));"}]	3200.00	0.00	0.00	0.0	\N	2020-06-24 15:29:41-05	2020-7
38	1	3	{"sub_total":5800,"vr_descuento":0,"vr_antes_iva":5800,"vr_iva":0,"total":5800,"cantidad_items":2,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"S","esCambio":false,"id_grupo":1,"id_inv_suc":"15","id_inventario":"18","id_sucursal":1,"id_formula":1,"n_parametros":2,"nesecita_p":"S","maximos_p":[260,160],"codigo":"0013","descripcion":"VIDRIO ANTIREFLEJO","cantidad_item":1,"cantidad":0.09,"unidad":"M2","vr_venta_domicilio":"49000.00","vr_venta_local":"35000.00","vr_venta":"35000.00","sub_total":3200,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":3200,"iva":0,"vr_iva":0,"total":3200,"parametros":[30,20],"formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	5800.00	2600.00	0.00	0.0	\N	2020-06-24 16:06:29-05	2020-8
39	2	2	{"sub_total":16600,"vr_descuento":0,"vr_antes_iva":16600,"vr_iva":0,"total":16600,"cantidad_items":2,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"vr_venta":"2600.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30],"cantidad_item":4},{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"vr_venta":"3000.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3300,"parametros":[20,30],"cantidad_item":1.1}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":2,"cantidad":2,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":16600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":16600,"iva":0,"vr_iva":0,"total":16600,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"}]	16600.00	16600.00	0.00	0.0	\N	2020-06-25 16:02:18-05	NA
40	1	4	{"sub_total":16600,"vr_descuento":0,"vr_antes_iva":16600,"vr_iva":0,"total":16600,"cantidad_items":2,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"vr_venta":"2600.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30],"cantidad_item":4},{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"vr_venta":"3000.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3300,"parametros":[20,30],"cantidad_item":1.1}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":2,"cantidad":2,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":16600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":16600,"iva":0,"vr_iva":0,"total":16600,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"}]	16600.00	16600.00	0.00	0.0	\N	2020-06-25 16:24:58-05	NA
41	1	2	{"sub_total":16600,"vr_descuento":0,"vr_antes_iva":16600,"vr_iva":0,"total":16600,"cantidad_items":2,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"vr_venta":"2600.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30],"cantidad_item":4},{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"vr_venta":"3000.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3300,"parametros":[20,30],"cantidad_item":1.1}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":2,"cantidad":2,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":16600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":16600,"iva":0,"vr_iva":0,"total":16600,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"}]	16600.00	16600.00	0.00	0.0	\N	2020-06-25 16:43:49-05	NA
42	1	3	{"sub_total":16600,"vr_descuento":0,"vr_antes_iva":16600,"vr_iva":0,"total":16600,"cantidad_items":2,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"vr_venta":"2600.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30],"cantidad_item":4},{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"vr_venta":"3000.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3300,"parametros":[20,30],"cantidad_item":1.1}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":2,"cantidad":2,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":16600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":16600,"iva":0,"vr_iva":0,"total":16600,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"}]	16600.00	15600.00	0.00	0.0	\N	2020-06-25 16:44:02-05	2020-9
43	1	3	{"sub_total":134100,"vr_descuento":0,"vr_antes_iva":135100,"vr_iva":0,"total":135100,"cantidad_items":18,"vr_transporte_item":55.56,"ajuste_transporte":-0.08,"transporte":1000}	[{"Componentes":[{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"vr_venta":"3000.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3300,"parametros":[20,30],"cantidad_item":1.1},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30],"cantidad_item":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"vr_venta":"2600.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":55.56,"vr_antes_iva":8355.56,"iva":0,"vr_iva":0,"total":8355.56,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[28,38],"cantidad_item":1},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"vr_venta":"2600.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[28,38],"cantidad_item":0},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[28,38],"cantidad_item":0,"cantidad":0.11},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":385,"parametros":[28,38],"cantidad_item":1,"cantidad":0.11},{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"vr_venta":"3000.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":4260,"parametros":[28,38],"cantidad_item":1.42},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[28,38],"cantidad_item":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":2900,"parametros":[38,28],"cantidad_item":1,"cantidad":0.16},{"id_formula":5,"id_inventario":"15","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"12","id_inventario":"15","id_sucursal":1,"cantidad":"0.0","costo_promedio":"4200.00","vr_venta_local":"4900.00","vr_venta_domicil":"4900.00"}],"vr_venta":"4900.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":539,"parametros":[28,38],"cantidad_item":1,"cantidad":0.11},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[28,38],"cantidad_item":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"13","id_inventario":"16","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"N","maximos_p":{},"codigo":"0012","descripcion":"CUADRO CON FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":11100,"descuento":0,"vr_descuento":0,"vr_transporte":55.56,"vr_antes_iva":11155.56,"iva":0,"vr_iva":0,"total":11155.56,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[{"id_formula":1,"id_inventario":"19","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"16","id_inventario":"19","id_sucursal":1,"cantidad":"0.0","costo_promedio":"30000.00","vr_venta_local":"33000.00","vr_venta_domicil":"33000.00"}],"vr_venta":"33000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":3000,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":3,"id_inventario":"36","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"32","id_inventario":"36","id_sucursal":1,"cantidad":"0.0","costo_promedio":"0.00","vr_venta_local":"200.00","vr_venta_domicil":"400.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":400,"parametros":[20,30],"cantidad_item":2}],"cambio":"N","esCambio":false,"id_grupo":6,"id_inv_suc":"31","id_inventario":"34","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":{},"codigo":"0034","descripcion":"ESPEJO CON CADENA","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"3000.00","vr_venta_local":"3000.00","vr_venta":"3000.00","sub_total":6400,"descuento":0,"vr_descuento":0,"vr_transporte":55.56,"vr_antes_iva":6455.56,"iva":0,"vr_iva":0,"total":6455.56,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[],"cambio":"S","esCambio":false,"id_grupo":1,"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"id_formula":1,"n_parametros":2,"nesecita_p":"S","maximos_p":[260,180],"codigo":"0001","descripcion":"VIDRIO CLARO 3 MM","cantidad_item":1,"cantidad":0.09,"unidad":"M2","vr_venta_domicilio":"24000.00","vr_venta_local":"18000.00","vr_venta":"18000.00","sub_total":1700,"descuento":0,"vr_descuento":0,"vr_transporte":55.56,"vr_antes_iva":1755.56,"iva":0,"vr_iva":0,"total":1755.56,"parametros":[32,20],"formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));"},{"Componentes":[],"cambio":"S","esCambio":false,"id_grupo":1,"id_inv_suc":"15","id_inventario":"18","id_sucursal":1,"id_formula":1,"n_parametros":2,"nesecita_p":"S","maximos_p":[260,160],"codigo":"0013","descripcion":"VIDRIO ANTIREFLEJO","cantidad_item":2,"cantidad":0.09,"unidad":"M2","vr_venta_domicilio":"49000.00","vr_venta_local":"35000.00","vr_venta":"35000.00","sub_total":6400,"descuento":0,"vr_descuento":0,"vr_transporte":111.12,"vr_antes_iva":6511.12,"iva":0,"vr_iva":0,"total":6511.12,"parametros":[30,20],"formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":12,"id_inv_suc":"27","id_inventario":"32","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0033","descripcion":"EMPAQUE DIVICION","cantidad_item":2,"cantidad":2,"unidad":"M","vr_venta_domicilio":"1100.00","vr_venta_local":"1100.00","vr_venta":"1100.00","sub_total":2200,"descuento":0,"vr_descuento":0,"vr_transporte":111.12,"vr_antes_iva":2311.12,"iva":0,"vr_iva":0,"total":2311.12,"parametros":[],"formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":12,"id_inv_suc":"27","id_inventario":"32","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0033","descripcion":"EMPAQUE DIVICION","cantidad_item":2,"cantidad":2,"unidad":"M","vr_venta_domicilio":"1100.00","vr_venta_local":"1100.00","vr_venta":"1100.00","sub_total":2200,"descuento":0,"vr_descuento":0,"vr_transporte":111.12,"vr_antes_iva":2311.12,"iva":0,"vr_iva":0,"total":2311.12,"parametros":[],"formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":12,"id_inv_suc":"27","id_inventario":"32","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0033","descripcion":"EMPAQUE DIVICION","cantidad_item":2,"cantidad":2,"unidad":"M","vr_venta_domicilio":"1100.00","vr_venta_local":"1100.00","vr_venta":"1100.00","sub_total":2200,"descuento":0,"vr_descuento":0,"vr_transporte":111.12,"vr_antes_iva":2311.12,"iva":0,"vr_iva":0,"total":2311.12,"parametros":[],"formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[{"id_formula":1,"id_inventario":"18","maximos_p":[260,160],"InvInvSucs":[{"id_inv_suc":"15","id_inventario":"18","id_sucursal":1,"cantidad":"0.0","costo_promedio":"40000.00","vr_venta_local":"35000.00","vr_venta_domicil":"49000.00"}],"vr_venta":"35000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":3200,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"vr_venta":"2600.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":3,"id_inventario":"25","maximos_p":[290],"InvInvSucs":[{"id_inv_suc":"20","id_inventario":"25","id_sucursal":1,"cantidad":"0.0","costo_promedio":"0.00","vr_venta_local":"5900.00","vr_venta_domicil":"5900.00"}],"vr_venta":"5900.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":6962,"parametros":[20,30],"cantidad_item":1.18}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"24","id_inventario":"29","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":{},"codigo":"0026","descripcion":"POLIURETANO ANTIREFLEJO ANCHO SIN FONDO ","cantidad_item":2,"cantidad":2,"unidad":"M2","vr_venta_domicilio":"5000.00","vr_venta_local":"5000.00","vr_venta":"5000.00","sub_total":31200,"descuento":0,"vr_descuento":0,"vr_transporte":111.04,"vr_antes_iva":31311.04,"iva":0,"vr_iva":0,"total":31311.04,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[{"id_formula":1,"id_inventario":"18","maximos_p":[260,160],"InvInvSucs":[{"id_inv_suc":"15","id_inventario":"18","id_sucursal":1,"cantidad":"0.0","costo_promedio":"40000.00","vr_venta_local":"35000.00","vr_venta_domicil":"49000.00"}],"vr_venta":"35000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":3200,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"vr_venta":"2600.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":3,"id_inventario":"25","maximos_p":[290],"InvInvSucs":[{"id_inv_suc":"20","id_inventario":"25","id_sucursal":1,"cantidad":"0.0","costo_promedio":"0.00","vr_venta_local":"5900.00","vr_venta_domicil":"5900.00"}],"vr_venta":"5900.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":6962,"parametros":[20,30],"cantidad_item":1.18}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"24","id_inventario":"29","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":{},"codigo":"0026","descripcion":"POLIURETANO ANTIREFLEJO ANCHO SIN FONDO ","cantidad_item":2,"cantidad":2,"unidad":"M2","vr_venta_domicilio":"5000.00","vr_venta_local":"5000.00","vr_venta":"5000.00","sub_total":31200,"descuento":0,"vr_descuento":0,"vr_transporte":111.12,"vr_antes_iva":31311.12,"iva":0,"vr_iva":0,"total":31311.12,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[{"id_formula":1,"id_inventario":"18","maximos_p":[260,160],"InvInvSucs":[{"id_inv_suc":"15","id_inventario":"18","id_sucursal":1,"cantidad":"0.0","costo_promedio":"40000.00","vr_venta_local":"35000.00","vr_venta_domicil":"49000.00"}],"vr_venta":"35000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":3200,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"vr_venta":"2600.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":3,"id_inventario":"25","maximos_p":[290],"InvInvSucs":[{"id_inv_suc":"20","id_inventario":"25","id_sucursal":1,"cantidad":"0.0","costo_promedio":"0.00","vr_venta_local":"5900.00","vr_venta_domicil":"5900.00"}],"vr_venta":"5900.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":6962,"parametros":[20,30],"cantidad_item":1.18}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"24","id_inventario":"29","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":{},"codigo":"0026","descripcion":"POLIURETANO ANTIREFLEJO ANCHO SIN FONDO ","cantidad_item":2,"cantidad":2,"unidad":"M2","vr_venta_domicilio":"5000.00","vr_venta_local":"5000.00","vr_venta":"5000.00","sub_total":31200,"descuento":0,"vr_descuento":0,"vr_transporte":111.12,"vr_antes_iva":31311.12,"iva":0,"vr_iva":0,"total":31311.12,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"}]	135100.00	135100.00	1000.00	0.0	\N	2020-06-30 15:46:33-05	2020-10
44	2	2	{"sub_total":44400,"vr_descuento":0,"vr_antes_iva":44400,"vr_iva":0,"total":44400,"cantidad_items":4,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[28,38],"cantidad_item":1},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"vr_venta":"2600.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[28,38],"cantidad_item":0},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[28,38],"cantidad_item":0,"cantidad":0.11},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":385,"parametros":[28,38],"cantidad_item":1,"cantidad":0.11},{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"vr_venta":"3000.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":4260,"parametros":[28,38],"cantidad_item":1.42},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[28,38],"cantidad_item":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":2900,"parametros":[38,28],"cantidad_item":1,"cantidad":0.16},{"id_formula":5,"id_inventario":"15","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"12","id_inventario":"15","id_sucursal":1,"cantidad":"0.0","costo_promedio":"4200.00","vr_venta_local":"4900.00","vr_venta_domicil":"4900.00"}],"vr_venta":"4900.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":539,"parametros":[28,38],"cantidad_item":1,"cantidad":0.11},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[28,38],"cantidad_item":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"13","id_inventario":"16","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"N","maximos_p":{},"codigo":"0012","descripcion":"CUADRO CON FONDO","cantidad_item":4,"cantidad":4,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":44400,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":44400,"iva":0,"vr_iva":0,"total":44400,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"}]	44400.00	44400.00	0.00	0.0	\N	2020-06-30 16:29:50-05	NA
45	2	3	{"sub_total":44400,"vr_descuento":0,"vr_antes_iva":44400,"vr_iva":0,"total":44400,"cantidad_items":4,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[28,38],"cantidad_item":1},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"vr_venta":"2600.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[28,38],"cantidad_item":0},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[28,38],"cantidad_item":0,"cantidad":0.11},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":385,"parametros":[28,38],"cantidad_item":1,"cantidad":0.11},{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"vr_venta":"3000.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":4260,"parametros":[28,38],"cantidad_item":1.42},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[28,38],"cantidad_item":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":2900,"parametros":[38,28],"cantidad_item":1,"cantidad":0.16},{"id_formula":5,"id_inventario":"15","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"12","id_inventario":"15","id_sucursal":1,"cantidad":"0.0","costo_promedio":"4200.00","vr_venta_local":"4900.00","vr_venta_domicil":"4900.00"}],"vr_venta":"4900.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":539,"parametros":[28,38],"cantidad_item":1,"cantidad":0.11},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[28,38],"cantidad_item":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"13","id_inventario":"16","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"N","maximos_p":{},"codigo":"0012","descripcion":"CUADRO CON FONDO","cantidad_item":4,"cantidad":4,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":44400,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":44400,"iva":0,"vr_iva":0,"total":44400,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"}]	44400.00	44400.00	0.00	0.0	\N	2020-06-30 16:30:35-05	2020-11
46	1	2	{"sub_total":43800,"vr_descuento":0,"vr_antes_iva":43800,"vr_iva":0,"total":43800,"cantidad_items":3,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[{"id_formula":1,"id_inventario":"18","maximos_p":[260,160],"InvInvSucs":[{"id_inv_suc":"15","id_inventario":"18","id_sucursal":1,"cantidad":"0.0","costo_promedio":"40000.00","vr_venta_local":"35000.00","vr_venta_domicil":"49000.00"}],"vr_venta":"35000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":3200,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"vr_venta":"2600.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":3,"id_inventario":"25","maximos_p":[290],"InvInvSucs":[{"id_inv_suc":"20","id_inventario":"25","id_sucursal":1,"cantidad":"0.0","costo_promedio":"0.00","vr_venta_local":"5900.00","vr_venta_domicil":"5900.00"}],"vr_venta":"5900.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":6962,"parametros":[20,30],"cantidad_item":1.18}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"24","id_inventario":"29","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":{},"codigo":"0026","descripcion":"POLIURETANO ANTIREFLEJO ANCHO SIN FONDO ","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"5000.00","vr_venta_local":"5000.00","vr_venta":"5000.00","sub_total":15600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":15600,"iva":0,"vr_iva":0,"total":15600,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"25","maximos_p":[290],"InvInvSucs":[{"id_inv_suc":"20","id_inventario":"25","id_sucursal":1,"cantidad":"0.0","costo_promedio":"0.00","vr_venta_local":"5900.00","vr_venta_domicil":"5900.00"}],"vr_venta":"5900.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":6962,"parametros":[20,30],"cantidad_item":1.18},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"vr_venta":"2600.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"22","id_inventario":"27","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":{},"codigo":"0025","descripcion":"POLIURETANO ANCHO SIN FONDO","cantidad_item":2,"cantidad":2,"unidad":"M2","vr_venta_domicilio":"5000.00","vr_venta_local":"5000.00","vr_venta":"5000.00","sub_total":28200,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":28200,"iva":0,"vr_iva":0,"total":28200,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"}]	43800.00	43800.00	0.00	0.0	\N	2020-06-30 16:34:25-05	NA
47	1	1	{"sub_total":43800,"vr_descuento":0,"vr_antes_iva":43800,"vr_iva":0,"total":43800,"cantidad_items":3,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[{"id_formula":1,"id_inventario":"18","maximos_p":[260,160],"InvInvSucs":[{"id_inv_suc":"15","id_inventario":"18","id_sucursal":1,"cantidad":"0.0","costo_promedio":"40000.00","vr_venta_local":"35000.00","vr_venta_domicil":"49000.00"}],"vr_venta":"35000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":3200,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"vr_venta":"2600.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":3,"id_inventario":"25","maximos_p":[290],"InvInvSucs":[{"id_inv_suc":"20","id_inventario":"25","id_sucursal":1,"cantidad":"0.0","costo_promedio":"0.00","vr_venta_local":"5900.00","vr_venta_domicil":"5900.00"}],"vr_venta":"5900.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":6962,"parametros":[20,30],"cantidad_item":1.18}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"24","id_inventario":"29","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":{},"codigo":"0026","descripcion":"POLIURETANO ANTIREFLEJO ANCHO SIN FONDO ","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"5000.00","vr_venta_local":"5000.00","vr_venta":"5000.00","sub_total":15600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":15600,"iva":0,"vr_iva":0,"total":15600,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"25","maximos_p":[290],"InvInvSucs":[{"id_inv_suc":"20","id_inventario":"25","id_sucursal":1,"cantidad":"0.0","costo_promedio":"0.00","vr_venta_local":"5900.00","vr_venta_domicil":"5900.00"}],"vr_venta":"5900.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":6962,"parametros":[20,30],"cantidad_item":1.18},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"vr_venta":"2600.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"22","id_inventario":"27","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":{},"codigo":"0025","descripcion":"POLIURETANO ANCHO SIN FONDO","cantidad_item":2,"cantidad":2,"unidad":"M2","vr_venta_domicilio":"5000.00","vr_venta_local":"5000.00","vr_venta":"5000.00","sub_total":28200,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":28200,"iva":0,"vr_iva":0,"total":28200,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"}]	43800.00	0.00	0.00	0.0	\N	2020-06-30 16:39:40-05	2020-12
48	1	4	{"sub_total":2600,"vr_descuento":0,"vr_antes_iva":2600,"vr_iva":0,"total":2600,"cantidad_items":1,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	2600.00	2600.00	0.00	0.0	\N	2020-07-03 15:56:06-05	NA
49	1	2	{"sub_total":2600,"vr_descuento":0,"vr_antes_iva":2600,"vr_iva":0,"total":2600,"cantidad_items":1,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	2600.00	2600.00	0.00	0.0	\N	2020-07-03 15:57:43-05	NA
50	1	1	{"sub_total":2600,"vr_descuento":0,"vr_antes_iva":2600,"vr_iva":0,"total":2600,"cantidad_items":1,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	2600.00	0.00	0.00	0.0	\N	2020-07-03 16:01:31-05	2020-13
51	2	2	{"sub_total":2600,"vr_descuento":0,"vr_antes_iva":2600,"vr_iva":0,"total":2600,"cantidad_items":1,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	2600.00	2600.00	0.00	0.0	\N	2020-07-03 16:07:45-05	NA
52	2	3	{"sub_total":2600,"vr_descuento":0,"vr_antes_iva":2600,"vr_iva":0,"total":2600,"cantidad_items":1,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	2600.00	1600.00	0.00	0.0	\N	2020-07-03 16:08:58-05	2020-14
53	1	2	{"sub_total":2600,"vr_descuento":0,"vr_antes_iva":2600,"vr_iva":0,"total":2600,"cantidad_items":1,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	2600.00	2600.00	0.00	0.0	\N	2020-07-03 16:11:22-05	NA
54	1	3	{"sub_total":2600,"vr_descuento":0,"vr_antes_iva":2600,"vr_iva":0,"total":2600,"cantidad_items":1,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	2600.00	1600.00	0.00	0.0	\N	2020-07-03 16:11:44-05	2020-15
55	1	4	{"sub_total":2200,"vr_descuento":0,"vr_antes_iva":2200,"vr_iva":0,"total":2200,"cantidad_items":2,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":12,"id_inv_suc":"27","id_inventario":"32","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0033","descripcion":"EMPAQUE DIVICION","cantidad_item":2,"cantidad":2,"unidad":"M","vr_venta_domicilio":"1100.00","vr_venta_local":"1100.00","vr_venta":"1100.00","sub_total":2200,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2200,"iva":0,"vr_iva":0,"total":2200,"parametros":[],"formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	2200.00	2200.00	0.00	0.0	\N	2020-07-03 16:12:46-05	NA
56	1	2	{"sub_total":2200,"vr_descuento":0,"vr_antes_iva":2200,"vr_iva":0,"total":2200,"cantidad_items":2,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":12,"id_inv_suc":"27","id_inventario":"32","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0033","descripcion":"EMPAQUE DIVICION","cantidad_item":2,"cantidad":2,"unidad":"M","vr_venta_domicilio":"1100.00","vr_venta_local":"1100.00","vr_venta":"1100.00","sub_total":2200,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2200,"iva":0,"vr_iva":0,"total":2200,"parametros":[],"formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	2200.00	1200.00	0.00	0.0	\N	2020-07-03 16:13:19-05	2020-16
57	1	3	{"sub_total":4800,"vr_descuento":0,"vr_antes_iva":4800,"vr_iva":0,"total":4800,"cantidad_items":3,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":12,"id_inv_suc":"27","id_inventario":"32","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0033","descripcion":"EMPAQUE DIVICION","cantidad_item":2,"cantidad":2,"unidad":"M","vr_venta_domicilio":"1100.00","vr_venta_local":"1100.00","vr_venta":"1100.00","sub_total":2200,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2200,"iva":0,"vr_iva":0,"total":2200,"parametros":[],"formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	4800.00	3800.00	0.00	0.0	\N	2020-07-03 16:14:48-05	2020-17
72	1	2	{"sub_total":19200,"vr_descuento":0,"vr_antes_iva":19200,"vr_iva":0,"total":19200,"cantidad_items":3,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1,"cantidad":1},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"vr_venta":"2600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30],"cantidad_item":4,"cantidad":4},{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"vr_venta":"3000.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3300,"parametros":[20,30],"cantidad_item":1.1,"cantidad":1.1}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8300,"iva":0,"vr_iva":0,"total":8300,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1,"cantidad":1},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"vr_venta":"2600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30],"cantidad_item":4,"cantidad":4},{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"vr_venta":"3000.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3300,"parametros":[20,30],"cantidad_item":1.1,"cantidad":1.1}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8300,"iva":0,"vr_iva":0,"total":8300,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"}]	19200.00	9200.00	0.00	0.0	\N	2020-07-06 15:13:30-05	FAC-2020-2
73	1	2	{"sub_total":21800,"vr_descuento":0,"vr_antes_iva":21800,"vr_iva":0,"total":21800,"cantidad_items":4,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1,"cantidad":1},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"vr_venta":"2600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30],"cantidad_item":4,"cantidad":4},{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"vr_venta":"3000.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3300,"parametros":[20,30],"cantidad_item":1.1,"cantidad":1.1}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8300,"iva":0,"vr_iva":0,"total":8300,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1,"cantidad":1},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"vr_venta":"2600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30],"cantidad_item":4,"cantidad":4},{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"vr_venta":"3000.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3300,"parametros":[20,30],"cantidad_item":1.1,"cantidad":1.1}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8300,"iva":0,"vr_iva":0,"total":8300,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	21800.00	11800.00	0.00	0.0	\N	2020-07-06 15:14:23-05	FAC-2020-3
58	1	4	{"sub_total":5500,"vr_descuento":0,"vr_antes_iva":5500,"vr_iva":0,"total":5500,"cantidad_items":5,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":12,"id_inv_suc":"27","id_inventario":"32","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0033","descripcion":"EMPAQUE DIVICION","cantidad_item":2,"cantidad":2,"unidad":"M","vr_venta_domicilio":"1100.00","vr_venta_local":"1100.00","vr_venta":"1100.00","sub_total":2200,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2200,"iva":0,"vr_iva":0,"total":2200,"parametros":[],"formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":12,"id_inv_suc":"27","id_inventario":"32","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0033","descripcion":"EMPAQUE DIVICION","cantidad_item":3,"cantidad":3,"unidad":"M","vr_venta_domicilio":"1100.00","vr_venta_local":"1100.00","vr_venta":"1100.00","sub_total":3300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":3300,"iva":0,"vr_iva":0,"total":3300,"parametros":[],"formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	5500.00	5500.00	0.00	0.0	\N	2020-07-03 16:15:25-05	NA
59	1	4	{"sub_total":12600,"vr_descuento":0,"vr_antes_iva":12600,"vr_iva":0,"total":12600,"cantidad_items":1,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"S","esCambio":false,"id_grupo":1,"id_inv_suc":"15","id_inventario":"18","id_sucursal":1,"id_formula":1,"n_parametros":2,"nesecita_p":"S","maximos_p":[260,160],"codigo":"0013","descripcion":"VIDRIO ANTIREFLEJO","cantidad_item":1,"cantidad":0.36,"unidad":"M2","vr_venta_domicilio":"49000.00","vr_venta_local":"35000.00","vr_venta":"35000.00","sub_total":12600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":12600,"iva":0,"vr_iva":0,"total":12600,"parametros":[60,50],"formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));"}]	12600.00	12600.00	0.00	0.0	\N	2020-07-03 16:21:05-05	2020-1
60	2	4	{"sub_total":51000,"vr_descuento":2550,"vr_antes_iva":48450,"vr_iva":0,"total":48450,"cantidad_items":3,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[{"id_formula":3,"id_inventario":"36","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"32","id_inventario":"36","id_sucursal":1,"cantidad":"0.0","costo_promedio":"0.00","vr_venta_local":"200.00","vr_venta_domicil":"400.00"}],"vr_venta":"200.00","formula":"element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":400,"parametros":[50,70],"cantidad_item":2},{"id_formula":1,"id_inventario":"19","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"16","id_inventario":"19","id_sucursal":1,"cantidad":"0.0","costo_promedio":"30000.00","vr_venta_local":"33000.00","vr_venta_domicil":"33000.00"}],"vr_venta":"33000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":13600,"parametros":[70,50],"cantidad_item":1,"cantidad":0.41}],"cambio":"N","esCambio":false,"id_grupo":6,"id_inv_suc":"31","id_inventario":"34","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":{},"codigo":"0034","descripcion":"ESPEJO CON CADENA","cantidad_item":3,"cantidad":3,"unidad":"M2","vr_venta_domicilio":"3000.00","vr_venta_local":"3000.00","vr_venta":"3000.00","sub_total":51000,"descuento":0,"vr_descuento":2550,"vr_transporte":0,"vr_antes_iva":48450,"iva":0,"vr_iva":0,"total":48450,"parametros":[50,70],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"}]	48450.00	48450.00	0.00	5.0	\N	2020-07-03 16:26:43-05	COT-2020-1
74	1	3	{"sub_total":24400,"vr_descuento":0,"vr_antes_iva":24400,"vr_iva":0,"total":24400,"cantidad_items":5,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1,"cantidad":1},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"vr_venta":"2600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30],"cantidad_item":4,"cantidad":4},{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"vr_venta":"3000.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3300,"parametros":[20,30],"cantidad_item":1.1,"cantidad":1.1}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8300,"iva":0,"vr_iva":0,"total":8300,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1,"cantidad":1},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"vr_venta":"2600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30],"cantidad_item":4,"cantidad":4},{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"vr_venta":"3000.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3300,"parametros":[20,30],"cantidad_item":1.1,"cantidad":1.1}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8300,"iva":0,"vr_iva":0,"total":8300,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	24400.00	14400.00	0.00	0.0	\N	2020-07-06 15:15:20-05	FAC-2020-4
75	1	2	{"sub_total":10900,"vr_descuento":0,"vr_antes_iva":10900,"vr_iva":0,"total":10900,"cantidad_items":2,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"id_inv_suc":"6","vr_venta":"3000.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3300,"parametros":[20,30],"cantidad_item":1.1,"cantidad":1.1},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"7","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30],"cantidad_item":4,"cantidad":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"id_inv_suc":"1","vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"id_inv_suc":"8","vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"id_inv_suc":"9","vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"3.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"id_inv_suc":"10","vr_venta":"2600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"11","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1,"cantidad":1},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"14","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8300,"iva":0,"vr_iva":0,"total":8300,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"}]	10900.00	0.00	0.00	0.0	\N	2020-07-06 15:46:09-05	FAC-2020-5
76	1	2	{"sub_total":13500,"vr_descuento":0,"vr_antes_iva":13500,"vr_iva":0,"total":13500,"cantidad_items":3,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"id_inv_suc":"6","vr_venta":"3000.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3300,"parametros":[20,30],"cantidad_item":1.1,"cantidad":1.1},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"7","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30],"cantidad_item":4,"cantidad":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"id_inv_suc":"1","vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"id_inv_suc":"8","vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"id_inv_suc":"9","vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"3.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"id_inv_suc":"10","vr_venta":"2600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"11","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1,"cantidad":1},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"14","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8300,"iva":0,"vr_iva":0,"total":8300,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	13500.00	2600.00	0.00	0.0	\N	2020-07-06 15:47:52-05	FAC-2020-6
87	1	2	{"sub_total":10900,"vr_descuento":0,"vr_antes_iva":10900,"vr_iva":0,"total":10900,"cantidad_items":2,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"14","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"11","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1,"cantidad":1},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"id_inv_suc":"10","vr_venta":"2600.00","costo_promedio":"1600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"id_inv_suc":"9","vr_venta":"4000.00","costo_promedio":"3571.43","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"id_inv_suc":"8","vr_venta":"3500.00","costo_promedio":"3174.61","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"id_inv_suc":"1","vr_venta":"18000.00","costo_promedio":"15000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"7","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30],"cantidad_item":4,"cantidad":4},{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"id_inv_suc":"6","vr_venta":"3000.00","costo_promedio":"2333.34","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3300,"parametros":[20,30],"cantidad_item":1.1,"cantidad":1.1}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","costo_promedio":"0.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8300,"iva":0,"vr_iva":0,"total":8300,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"}]	10900.00	900.00	0.00	0.0	\N	2020-07-08 16:58:36-05	FAC-2020-17
78	1	3	{"sub_total":18700,"vr_descuento":0,"vr_antes_iva":18700,"vr_iva":0,"total":18700,"cantidad_items":5,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"id_inv_suc":"6","vr_venta":"3000.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3300,"parametros":[20,30],"cantidad_item":1.1,"cantidad":1.1},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"7","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30],"cantidad_item":4,"cantidad":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"id_inv_suc":"1","vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"id_inv_suc":"8","vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"id_inv_suc":"9","vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"3.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"id_inv_suc":"10","vr_venta":"2600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"11","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1,"cantidad":1},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"14","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8300,"iva":0,"vr_iva":0,"total":8300,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	18700.00	7800.00	0.00	0.0	\N	2020-07-06 16:25:38-05	FAC-2020-8
77	1	2	{"sub_total":16100,"vr_descuento":0,"vr_antes_iva":16100,"vr_iva":0,"total":16100,"cantidad_items":4,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"id_inv_suc":"6","vr_venta":"3000.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3300,"parametros":[20,30],"cantidad_item":1.1,"cantidad":1.1},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"7","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30],"cantidad_item":4,"cantidad":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"id_inv_suc":"1","vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"id_inv_suc":"8","vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"id_inv_suc":"9","vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"3.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"id_inv_suc":"10","vr_venta":"2600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"11","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1,"cantidad":1},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"14","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8300,"iva":0,"vr_iva":0,"total":8300,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	16100.00	5200.00	0.00	0.0	\N	2020-07-06 16:23:59-05	FAC-2020-7
79	1	2	{"sub_total":18700,"vr_descuento":0,"vr_antes_iva":18700,"vr_iva":0,"total":18700,"cantidad_items":5,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"id_inv_suc":"6","vr_venta":"3000.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3300,"parametros":[20,30],"cantidad_item":1.1,"cantidad":1.1},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"7","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30],"cantidad_item":4,"cantidad":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"id_inv_suc":"1","vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"id_inv_suc":"8","vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"id_inv_suc":"9","vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"3.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"id_inv_suc":"10","vr_venta":"2600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"11","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1,"cantidad":1},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"14","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8300,"iva":0,"vr_iva":0,"total":8300,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	18700.00	7800.00	0.00	0.0	\N	2020-07-06 16:26:17-05	FAC-2020-9
80	1	2	{"sub_total":21300,"vr_descuento":0,"vr_antes_iva":21300,"vr_iva":0,"total":21300,"cantidad_items":6,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"id_inv_suc":"6","vr_venta":"3000.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3300,"parametros":[20,30],"cantidad_item":1.1,"cantidad":1.1},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"7","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30],"cantidad_item":4,"cantidad":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"id_inv_suc":"1","vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"id_inv_suc":"8","vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"id_inv_suc":"9","vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"3.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"id_inv_suc":"10","vr_venta":"2600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"11","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1,"cantidad":1},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"14","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8300,"iva":0,"vr_iva":0,"total":8300,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	21300.00	10400.00	0.00	0.0	\N	2020-07-06 16:28:43-05	FAC-2020-10
81	1	2	{"sub_total":23900,"vr_descuento":0,"vr_antes_iva":23900,"vr_iva":0,"total":23900,"cantidad_items":7,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"id_inv_suc":"6","vr_venta":"3000.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3300,"parametros":[20,30],"cantidad_item":1.1,"cantidad":1.1},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"7","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30],"cantidad_item":4,"cantidad":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"id_inv_suc":"1","vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"id_inv_suc":"8","vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"id_inv_suc":"9","vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"3.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"id_inv_suc":"10","vr_venta":"2600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"11","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1,"cantidad":1},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"14","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8300,"iva":0,"vr_iva":0,"total":8300,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	23900.00	13000.00	0.00	0.0	\N	2020-07-06 16:29:39-05	FAC-2020-11
82	1	2	{"sub_total":26500,"vr_descuento":0,"vr_antes_iva":26500,"vr_iva":0,"total":26500,"cantidad_items":8,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"id_inv_suc":"6","vr_venta":"3000.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3300,"parametros":[20,30],"cantidad_item":1.1,"cantidad":1.1},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"7","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30],"cantidad_item":4,"cantidad":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"id_inv_suc":"1","vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"id_inv_suc":"8","vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"id_inv_suc":"9","vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"3.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"id_inv_suc":"10","vr_venta":"2600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"11","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1,"cantidad":1},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"14","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8300,"iva":0,"vr_iva":0,"total":8300,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	26500.00	15600.00	0.00	0.0	\N	2020-07-06 16:30:35-05	FAC-2020-12
83	1	2	{"sub_total":29100,"vr_descuento":0,"vr_antes_iva":29100,"vr_iva":0,"total":29100,"cantidad_items":9,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"id_inv_suc":"6","vr_venta":"3000.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3300,"parametros":[20,30],"cantidad_item":1.1,"cantidad":1.1},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"7","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30],"cantidad_item":4,"cantidad":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"id_inv_suc":"1","vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"id_inv_suc":"8","vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"id_inv_suc":"9","vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"3.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"id_inv_suc":"10","vr_venta":"2600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"11","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1,"cantidad":1},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"14","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8300,"iva":0,"vr_iva":0,"total":8300,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	29100.00	18200.00	0.00	0.0	\N	2020-07-06 16:31:01-05	FAC-2020-13
84	1	2	{"sub_total":31700,"vr_descuento":0,"vr_antes_iva":31700,"vr_iva":0,"total":31700,"cantidad_items":10,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"id_inv_suc":"6","vr_venta":"3000.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3300,"parametros":[20,30],"cantidad_item":1.1,"cantidad":1.1},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"7","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30],"cantidad_item":4,"cantidad":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"id_inv_suc":"1","vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"id_inv_suc":"8","vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"id_inv_suc":"9","vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"3.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"id_inv_suc":"10","vr_venta":"2600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"11","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1,"cantidad":1},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"14","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8300,"iva":0,"vr_iva":0,"total":8300,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	31700.00	20800.00	0.00	0.0	\N	2020-07-06 16:37:03-05	FAC-2020-15
85	1	2	{"sub_total":34300,"vr_descuento":0,"vr_antes_iva":34300,"vr_iva":0,"total":34300,"cantidad_items":11,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"id_inv_suc":"6","vr_venta":"3000.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3300,"parametros":[20,30],"cantidad_item":1.1,"cantidad":1.1},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"7","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30],"cantidad_item":4,"cantidad":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"id_inv_suc":"1","vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"id_inv_suc":"8","vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"id_inv_suc":"9","vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"3.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"id_inv_suc":"10","vr_venta":"2600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"11","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1,"cantidad":1},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"14","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8300,"iva":0,"vr_iva":0,"total":8300,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	34300.00	23400.00	0.00	0.0	\N	2020-07-06 16:37:28-05	FAC-2020-16
86	1	4	{"sub_total":18700,"vr_descuento":0,"vr_antes_iva":18700,"vr_iva":0,"total":18700,"cantidad_items":5,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"id_inv_suc":"6","vr_venta":"3000.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3300,"parametros":[20,30],"cantidad_item":1.1,"cantidad":1.1},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"7","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30],"cantidad_item":4,"cantidad":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"id_inv_suc":"1","vr_venta":"18000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"id_inv_suc":"8","vr_venta":"3500.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"id_inv_suc":"9","vr_venta":"4000.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"3.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"id_inv_suc":"10","vr_venta":"2600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"11","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1,"cantidad":1},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"14","vr_venta":"200.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8300,"iva":0,"vr_iva":0,"total":8300,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	18700.00	18700.00	0.00	0.0	\N	2020-07-06 16:38:50-05	COT-2020-2
95	1	2	{"sub_total":46800,"vr_descuento":0,"vr_antes_iva":46800,"vr_iva":0,"total":46800,"cantidad_items":6,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"id_inv_suc":"8","vr_venta":"3500.00","costo_promedio":"3174.61","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":630,"parametros":[38,48],"cantidad_item":1,"cantidad":0.18},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"id_inv_suc":"9","vr_venta":"4000.00","costo_promedio":"3571.43","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[38,48],"cantidad_item":0,"cantidad":0.18},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"-2.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"id_inv_suc":"10","vr_venta":"2600.00","costo_promedio":"1600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[38,48],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"11","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[38,48],"cantidad_item":1,"cantidad":1},{"id_formula":3,"id_inventario":"25","maximos_p":[290],"InvInvSucs":[{"id_inv_suc":"20","id_inventario":"25","id_sucursal":1,"cantidad":"0.0","costo_promedio":"0.00","vr_venta_local":"5900.00","vr_venta_domicil":"5900.00"}],"id_inv_suc":"20","vr_venta":"5900.00","costo_promedio":"0.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":11210,"parametros":[38,48],"cantidad_item":1.9,"cantidad":1.9},{"id_formula":5,"id_inventario":"15","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"12","id_inventario":"15","id_sucursal":1,"cantidad":"0.0","costo_promedio":"4200.00","vr_venta_local":"4900.00","vr_venta_domicil":"4900.00"}],"id_inv_suc":"12","vr_venta":"4900.00","costo_promedio":"4200.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":882,"parametros":[38,48],"cantidad_item":1,"cantidad":0.18},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"id_inv_suc":"1","vr_venta":"18000.00","costo_promedio":"15000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":4500,"parametros":[48,38],"cantidad_item":1,"cantidad":0.25}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"23","id_inventario":"28","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":{},"codigo":"0026","descripcion":"POLIURETANO ANCHO CON FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"5000.00","vr_venta_local":"5000.00","costo_promedio":"0.00","vr_venta":"5000.00","sub_total":22500,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":22500,"iva":0,"vr_iva":0,"total":22500,"parametros":[30,40],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"14","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[35,60],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"id_inv_suc":"6","vr_venta":"3000.00","costo_promedio":"2333.34","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":6000,"parametros":[35,60],"cantidad_item":2,"cantidad":2},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"7","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[35,60],"cantidad_item":4,"cantidad":4},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"id_inv_suc":"8","vr_venta":"3500.00","costo_promedio":"3174.61","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":735,"parametros":[35,60],"cantidad_item":1,"cantidad":0.21},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"id_inv_suc":"9","vr_venta":"4000.00","costo_promedio":"3571.43","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[35,60],"cantidad_item":0,"cantidad":0.21},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"-2.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"id_inv_suc":"10","vr_venta":"2600.00","costo_promedio":"1600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[35,60],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"11","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[35,60],"cantidad_item":1,"cantidad":1},{"id_formula":1,"id_inventario":"19","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"16","id_inventario":"19","id_sucursal":1,"cantidad":"0.0","costo_promedio":"30000.00","vr_venta_local":"33000.00","vr_venta_domicil":"33000.00"}],"id_inv_suc":"16","vr_venta":"33000.00","costo_promedio":"30000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":8600,"parametros":[60,35],"cantidad_item":1,"cantidad":0.26}],"cambio":"N","esCambio":false,"id_grupo":6,"id_inv_suc":"17","id_inventario":"20","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":{},"codigo":"0016","descripcion":"ESPEJO ENMARCADO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","costo_promedio":"0.00","vr_venta":"2000.00","sub_total":18400,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":18400,"iva":0,"vr_iva":0,"total":18400,"parametros":[35,60],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":12,"id_inv_suc":"27","id_inventario":"32","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0033","descripcion":"EMPAQUE DIVICION","cantidad_item":3,"cantidad":3,"unidad":"M","vr_venta_domicilio":"1100.00","vr_venta_local":"1100.00","costo_promedio":"0.00","vr_venta":"1100.00","sub_total":3300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":3300,"iva":0,"vr_iva":0,"total":3300,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	46800.00	36800.00	0.00	0.0	\N	2020-07-09 16:00:27-05	FAC-2020-22
88	1	3	{"sub_total":12000,"vr_descuento":0,"vr_antes_iva":12000,"vr_iva":0,"total":12000,"cantidad_items":3,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"14","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"11","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1,"cantidad":1},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"id_inv_suc":"10","vr_venta":"2600.00","costo_promedio":"1600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"id_inv_suc":"9","vr_venta":"4000.00","costo_promedio":"3571.43","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"id_inv_suc":"8","vr_venta":"3500.00","costo_promedio":"3174.61","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"id_inv_suc":"1","vr_venta":"18000.00","costo_promedio":"15000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"7","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30],"cantidad_item":4,"cantidad":4},{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"id_inv_suc":"6","vr_venta":"3000.00","costo_promedio":"2333.34","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3300,"parametros":[20,30],"cantidad_item":1.1,"cantidad":1.1}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","costo_promedio":"0.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8300,"iva":0,"vr_iva":0,"total":8300,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":12,"id_inv_suc":"27","id_inventario":"32","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0033","descripcion":"EMPAQUE DIVICION","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"1100.00","vr_venta_local":"1100.00","costo_promedio":"0.00","vr_venta":"1100.00","sub_total":1100,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":1100,"iva":0,"vr_iva":0,"total":1100,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	12000.00	2000.00	0.00	0.0	\N	2020-07-08 17:08:45-05	FAC-2020-18
89	1	3	{"sub_total":12000,"vr_descuento":0,"vr_antes_iva":12000,"vr_iva":0,"total":12000,"cantidad_items":3,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"14","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"11","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30],"cantidad_item":1,"cantidad":1},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"id_inv_suc":"10","vr_venta":"2600.00","costo_promedio":"1600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"id_inv_suc":"9","vr_venta":"4000.00","costo_promedio":"3571.43","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30],"cantidad_item":0,"cantidad":0.06},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"id_inv_suc":"8","vr_venta":"3500.00","costo_promedio":"3174.61","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30],"cantidad_item":1,"cantidad":0.06},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"id_inv_suc":"1","vr_venta":"18000.00","costo_promedio":"15000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"7","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30],"cantidad_item":4,"cantidad":4},{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"id_inv_suc":"6","vr_venta":"3000.00","costo_promedio":"2333.34","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3300,"parametros":[20,30],"cantidad_item":1.1,"cantidad":1.1}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","costo_promedio":"0.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8300,"iva":0,"vr_iva":0,"total":8300,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":12,"id_inv_suc":"27","id_inventario":"32","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0033","descripcion":"EMPAQUE DIVICION","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"1100.00","vr_venta_local":"1100.00","costo_promedio":"0.00","vr_venta":"1100.00","sub_total":1100,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":1100,"iva":0,"vr_iva":0,"total":1100,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	12000.00	2000.00	0.00	0.0	\N	2020-07-08 18:17:42-05	FAC-2020-19
93	1	2	{"sub_total":40900,"vr_descuento":0,"vr_antes_iva":40900,"vr_iva":0,"total":40900,"cantidad_items":2,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"id_inv_suc":"8","vr_venta":"3500.00","costo_promedio":"3174.61","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":630,"parametros":[38,48],"cantidad_item":1,"cantidad":0.18},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"id_inv_suc":"9","vr_venta":"4000.00","costo_promedio":"3571.43","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[38,48],"cantidad_item":0,"cantidad":0.18},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"-2.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"id_inv_suc":"10","vr_venta":"2600.00","costo_promedio":"1600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[38,48],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"11","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[38,48],"cantidad_item":1,"cantidad":1},{"id_formula":3,"id_inventario":"25","maximos_p":[290],"InvInvSucs":[{"id_inv_suc":"20","id_inventario":"25","id_sucursal":1,"cantidad":"0.0","costo_promedio":"0.00","vr_venta_local":"5900.00","vr_venta_domicil":"5900.00"}],"id_inv_suc":"20","vr_venta":"5900.00","costo_promedio":"0.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":11210,"parametros":[38,48],"cantidad_item":1.9,"cantidad":1.9},{"id_formula":5,"id_inventario":"15","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"12","id_inventario":"15","id_sucursal":1,"cantidad":"0.0","costo_promedio":"4200.00","vr_venta_local":"4900.00","vr_venta_domicil":"4900.00"}],"id_inv_suc":"12","vr_venta":"4900.00","costo_promedio":"4200.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":882,"parametros":[38,48],"cantidad_item":1,"cantidad":0.18},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"id_inv_suc":"1","vr_venta":"18000.00","costo_promedio":"15000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":4500,"parametros":[48,38],"cantidad_item":1,"cantidad":0.25}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"23","id_inventario":"28","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":{},"codigo":"0026","descripcion":"POLIURETANO ANCHO CON FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"5000.00","vr_venta_local":"5000.00","costo_promedio":"0.00","vr_venta":"5000.00","sub_total":22500,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":22500,"iva":0,"vr_iva":0,"total":22500,"parametros":[30,40],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"14","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[35,60],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"id_inv_suc":"6","vr_venta":"3000.00","costo_promedio":"2333.34","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":6000,"parametros":[35,60],"cantidad_item":2,"cantidad":2},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"7","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[35,60],"cantidad_item":4,"cantidad":4},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"id_inv_suc":"8","vr_venta":"3500.00","costo_promedio":"3174.61","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":735,"parametros":[35,60],"cantidad_item":1,"cantidad":0.21},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"id_inv_suc":"9","vr_venta":"4000.00","costo_promedio":"3571.43","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[35,60],"cantidad_item":0,"cantidad":0.21},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"-2.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"id_inv_suc":"10","vr_venta":"2600.00","costo_promedio":"1600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[35,60],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"11","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[35,60],"cantidad_item":1,"cantidad":1},{"id_formula":1,"id_inventario":"19","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"16","id_inventario":"19","id_sucursal":1,"cantidad":"0.0","costo_promedio":"30000.00","vr_venta_local":"33000.00","vr_venta_domicil":"33000.00"}],"id_inv_suc":"16","vr_venta":"33000.00","costo_promedio":"30000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":8600,"parametros":[60,35],"cantidad_item":1,"cantidad":0.26}],"cambio":"N","esCambio":false,"id_grupo":6,"id_inv_suc":"17","id_inventario":"20","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":{},"codigo":"0016","descripcion":"ESPEJO ENMARCADO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","costo_promedio":"0.00","vr_venta":"2000.00","sub_total":18400,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":18400,"iva":0,"vr_iva":0,"total":18400,"parametros":[35,60],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"}]	40900.00	30900.00	0.00	0.0	\N	2020-07-09 15:39:16-05	FAC-2020-20
94	1	2	{"sub_total":43500,"vr_descuento":0,"vr_antes_iva":43500,"vr_iva":0,"total":43500,"cantidad_items":3,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"id_inv_suc":"8","vr_venta":"3500.00","costo_promedio":"3174.61","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":630,"parametros":[38,48],"cantidad_item":1,"cantidad":0.18},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"id_inv_suc":"9","vr_venta":"4000.00","costo_promedio":"3571.43","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[38,48],"cantidad_item":0,"cantidad":0.18},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"-2.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"id_inv_suc":"10","vr_venta":"2600.00","costo_promedio":"1600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[38,48],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"11","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[38,48],"cantidad_item":1,"cantidad":1},{"id_formula":3,"id_inventario":"25","maximos_p":[290],"InvInvSucs":[{"id_inv_suc":"20","id_inventario":"25","id_sucursal":1,"cantidad":"0.0","costo_promedio":"0.00","vr_venta_local":"5900.00","vr_venta_domicil":"5900.00"}],"id_inv_suc":"20","vr_venta":"5900.00","costo_promedio":"0.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":11210,"parametros":[38,48],"cantidad_item":1.9,"cantidad":1.9},{"id_formula":5,"id_inventario":"15","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"12","id_inventario":"15","id_sucursal":1,"cantidad":"0.0","costo_promedio":"4200.00","vr_venta_local":"4900.00","vr_venta_domicil":"4900.00"}],"id_inv_suc":"12","vr_venta":"4900.00","costo_promedio":"4200.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":882,"parametros":[38,48],"cantidad_item":1,"cantidad":0.18},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"id_inv_suc":"1","vr_venta":"18000.00","costo_promedio":"15000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":4500,"parametros":[48,38],"cantidad_item":1,"cantidad":0.25}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"23","id_inventario":"28","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":{},"codigo":"0026","descripcion":"POLIURETANO ANCHO CON FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"5000.00","vr_venta_local":"5000.00","costo_promedio":"0.00","vr_venta":"5000.00","sub_total":22500,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":22500,"iva":0,"vr_iva":0,"total":22500,"parametros":[30,40],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"14","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[35,60],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"id_inv_suc":"6","vr_venta":"3000.00","costo_promedio":"2333.34","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":6000,"parametros":[35,60],"cantidad_item":2,"cantidad":2},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"7","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[35,60],"cantidad_item":4,"cantidad":4},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"id_inv_suc":"8","vr_venta":"3500.00","costo_promedio":"3174.61","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":735,"parametros":[35,60],"cantidad_item":1,"cantidad":0.21},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"id_inv_suc":"9","vr_venta":"4000.00","costo_promedio":"3571.43","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[35,60],"cantidad_item":0,"cantidad":0.21},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"-2.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"id_inv_suc":"10","vr_venta":"2600.00","costo_promedio":"1600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[35,60],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"11","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[35,60],"cantidad_item":1,"cantidad":1},{"id_formula":1,"id_inventario":"19","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"16","id_inventario":"19","id_sucursal":1,"cantidad":"0.0","costo_promedio":"30000.00","vr_venta_local":"33000.00","vr_venta_domicil":"33000.00"}],"id_inv_suc":"16","vr_venta":"33000.00","costo_promedio":"30000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":8600,"parametros":[60,35],"cantidad_item":1,"cantidad":0.26}],"cambio":"N","esCambio":false,"id_grupo":6,"id_inv_suc":"17","id_inventario":"20","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":{},"codigo":"0016","descripcion":"ESPEJO ENMARCADO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","costo_promedio":"0.00","vr_venta":"2000.00","sub_total":18400,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":18400,"iva":0,"vr_iva":0,"total":18400,"parametros":[35,60],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	43500.00	33500.00	0.00	0.0	\N	2020-07-09 15:46:09-05	FAC-2020-21
96	1	2	{"sub_total":43500,"vr_descuento":0,"vr_antes_iva":43500,"vr_iva":0,"total":43500,"cantidad_items":3,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"id_inv_suc":"8","vr_venta":"3500.00","costo_promedio":"3174.61","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":630,"parametros":[38,48],"cantidad_item":1,"cantidad":0.18},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"id_inv_suc":"9","vr_venta":"4000.00","costo_promedio":"3571.43","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[38,48],"cantidad_item":0,"cantidad":0.18},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"-2.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"id_inv_suc":"10","vr_venta":"2600.00","costo_promedio":"1600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[38,48],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"11","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[38,48],"cantidad_item":1,"cantidad":1},{"id_formula":3,"id_inventario":"25","maximos_p":[290],"InvInvSucs":[{"id_inv_suc":"20","id_inventario":"25","id_sucursal":1,"cantidad":"0.0","costo_promedio":"0.00","vr_venta_local":"5900.00","vr_venta_domicil":"5900.00"}],"id_inv_suc":"20","vr_venta":"5900.00","costo_promedio":"0.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":11210,"parametros":[38,48],"cantidad_item":1.9,"cantidad":1.9},{"id_formula":5,"id_inventario":"15","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"12","id_inventario":"15","id_sucursal":1,"cantidad":"0.0","costo_promedio":"4200.00","vr_venta_local":"4900.00","vr_venta_domicil":"4900.00"}],"id_inv_suc":"12","vr_venta":"4900.00","costo_promedio":"4200.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":882,"parametros":[38,48],"cantidad_item":1,"cantidad":0.18},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"id_inv_suc":"1","vr_venta":"18000.00","costo_promedio":"15000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":4500,"parametros":[48,38],"cantidad_item":1,"cantidad":0.25}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"23","id_inventario":"28","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":{},"codigo":"0026","descripcion":"POLIURETANO ANCHO CON FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"5000.00","vr_venta_local":"5000.00","costo_promedio":"0.00","vr_venta":"5000.00","sub_total":22500,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":22500,"iva":0,"vr_iva":0,"total":22500,"parametros":[30,40],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"14","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[35,60],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"id_inv_suc":"6","vr_venta":"3000.00","costo_promedio":"2333.34","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":6000,"parametros":[35,60],"cantidad_item":2,"cantidad":2},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"7","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[35,60],"cantidad_item":4,"cantidad":4},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"id_inv_suc":"8","vr_venta":"3500.00","costo_promedio":"3174.61","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":735,"parametros":[35,60],"cantidad_item":1,"cantidad":0.21},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"id_inv_suc":"9","vr_venta":"4000.00","costo_promedio":"3571.43","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[35,60],"cantidad_item":0,"cantidad":0.21},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"-2.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"id_inv_suc":"10","vr_venta":"2600.00","costo_promedio":"1600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[35,60],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"11","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[35,60],"cantidad_item":1,"cantidad":1},{"id_formula":1,"id_inventario":"19","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"16","id_inventario":"19","id_sucursal":1,"cantidad":"0.0","costo_promedio":"30000.00","vr_venta_local":"33000.00","vr_venta_domicil":"33000.00"}],"id_inv_suc":"16","vr_venta":"33000.00","costo_promedio":"30000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":8600,"parametros":[60,35],"cantidad_item":1,"cantidad":0.26}],"cambio":"N","esCambio":false,"id_grupo":6,"id_inv_suc":"17","id_inventario":"20","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":{},"codigo":"0016","descripcion":"ESPEJO ENMARCADO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","costo_promedio":"0.00","vr_venta":"2000.00","sub_total":18400,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":18400,"iva":0,"vr_iva":0,"total":18400,"parametros":[35,60],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	43500.00	33500.00	0.00	0.0	\N	2020-07-09 16:08:49-05	FAC-2020-23
97	1	3	{"sub_total":43700,"vr_descuento":0,"vr_antes_iva":43700,"vr_iva":0,"total":43700,"cantidad_items":4,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"id_inv_suc":"8","vr_venta":"3500.00","costo_promedio":"3174.61","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":630,"parametros":[38,48],"cantidad_item":1,"cantidad":0.18},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"id_inv_suc":"9","vr_venta":"4000.00","costo_promedio":"3571.43","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[38,48],"cantidad_item":0,"cantidad":0.18},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"-2.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"id_inv_suc":"10","vr_venta":"2600.00","costo_promedio":"1600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[38,48],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"11","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[38,48],"cantidad_item":1,"cantidad":1},{"id_formula":3,"id_inventario":"25","maximos_p":[290],"InvInvSucs":[{"id_inv_suc":"20","id_inventario":"25","id_sucursal":1,"cantidad":"0.0","costo_promedio":"0.00","vr_venta_local":"5900.00","vr_venta_domicil":"5900.00"}],"id_inv_suc":"20","vr_venta":"5900.00","costo_promedio":"0.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":11210,"parametros":[38,48],"cantidad_item":1.9,"cantidad":1.9},{"id_formula":5,"id_inventario":"15","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"12","id_inventario":"15","id_sucursal":1,"cantidad":"0.0","costo_promedio":"4200.00","vr_venta_local":"4900.00","vr_venta_domicil":"4900.00"}],"id_inv_suc":"12","vr_venta":"4900.00","costo_promedio":"4200.00","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":882,"parametros":[38,48],"cantidad_item":1,"cantidad":0.18},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.0","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"id_inv_suc":"1","vr_venta":"18000.00","costo_promedio":"15000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":4500,"parametros":[48,38],"cantidad_item":1,"cantidad":0.25}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"23","id_inventario":"28","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":{},"codigo":"0026","descripcion":"POLIURETANO ANCHO CON FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"5000.00","vr_venta_local":"5000.00","costo_promedio":"0.00","vr_venta":"5000.00","sub_total":22500,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":22500,"iva":0,"vr_iva":0,"total":22500,"parametros":[30,40],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"14","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[35,60],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.0","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"id_inv_suc":"6","vr_venta":"3000.00","costo_promedio":"2333.34","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":6000,"parametros":[35,60],"cantidad_item":2,"cantidad":2},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"7","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[35,60],"cantidad_item":4,"cantidad":4},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"id_inv_suc":"8","vr_venta":"3500.00","costo_promedio":"3174.61","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":735,"parametros":[35,60],"cantidad_item":1,"cantidad":0.21},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.0","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"id_inv_suc":"9","vr_venta":"4000.00","costo_promedio":"3571.43","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[35,60],"cantidad_item":0,"cantidad":0.21},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"-2.0","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"id_inv_suc":"10","vr_venta":"2600.00","costo_promedio":"1600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[35,60],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.0","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"11","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[35,60],"cantidad_item":1,"cantidad":1},{"id_formula":1,"id_inventario":"19","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"16","id_inventario":"19","id_sucursal":1,"cantidad":"0.0","costo_promedio":"30000.00","vr_venta_local":"33000.00","vr_venta_domicil":"33000.00"}],"id_inv_suc":"16","vr_venta":"33000.00","costo_promedio":"30000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":8600,"parametros":[60,35],"cantidad_item":1,"cantidad":0.26}],"cambio":"N","esCambio":false,"id_grupo":6,"id_inv_suc":"17","id_inventario":"20","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":{},"codigo":"0016","descripcion":"ESPEJO ENMARCADO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","costo_promedio":"0.00","vr_venta":"2000.00","sub_total":18400,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":18400,"iva":0,"vr_iva":0,"total":18400,"parametros":[35,60],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":16,"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0010","descripcion":"CERRUCHO","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"200.00","vr_venta_local":"200.00","costo_promedio":"100.00","vr_venta":"200.00","sub_total":200,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":200,"iva":0,"vr_iva":0,"total":200,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	43700.00	33700.00	0.00	0.0	\N	2020-07-09 16:12:29-05	FAC-2020-24
109	1	3	{"sub_total":5200,"vr_descuento":0,"vr_antes_iva":5200,"vr_iva":0,"total":5200,"cantidad_items":2,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":2,"cantidad":2,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":5200,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":5200,"iva":0,"vr_iva":0,"total":5200,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	5200.00	2200.00	0.00	0.0	\N	2020-07-18 16:59:51-05	FAC-2020-32
117	1	3	{"sub_total":1700,"vr_descuento":170,"vr_antes_iva":11530,"vr_iva":0,"total":11530,"cantidad_items":1,"vr_transporte_item":10000,"ajuste_transporte":0,"transporte":10000}	[{"Componentes":[],"cambio":"S","esCambio":false,"id_grupo":1,"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"id_formula":1,"n_parametros":2,"nesecita_p":"S","maximos_p":[260,180],"codigo":"0001","descripcion":"VIDRIO CLARO 3 MM","cantidad_item":1,"cantidad":0.09,"unidad":"M2","vr_venta_domicilio":"24000.00","vr_venta_local":"18000.00","costo_promedio":"15000.00","vr_venta":"18000.00","sub_total":1700,"descuento":0,"vr_descuento":170,"vr_transporte":10000,"vr_antes_iva":11530,"iva":0,"vr_iva":0,"total":11530,"parametros":[30,20],"formula":"var pfinales = [null, null];\\r\\nvar pMaximo = false;\\r\\nelement.parametros.sort((a, b) => b - a);\\r\\nfor (let i = 0; i < element.parametros.length; i++) {\\r\\n    var mulinf = parseInt(element.parametros[i] / 10) * 10;\\r\\n    var diferencia = element.parametros[i] - mulinf;\\r\\n    var adicion = 0;\\r\\n    if (element.parametros[i] <= 97) {\\r\\n        if (diferencia >= 4 && diferencia < 8) {\\r\\n            adicion = 10;\\r\\n        } else if (diferencia >= 8) {\\r\\n            adicion = 15;\\r\\n        } else {\\r\\n            adicion = 5;\\r\\n        }\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[0] - 20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) {\\r\\n        adicion = element.maximos_p[0] - mulinf;\\r\\n        pMaximo = true;\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[1] - 20) && element.parametros[i] <= element.maximos_p[1]) {\\r\\n        adicion = element.maximos_p[1] - mulinf;\\r\\n    } else {\\r\\n        if (diferencia <= 8) {\\r\\n            adicion = 10;\\r\\n        } else {\\r\\n            adicion = 15;\\r\\n        }\\r\\n    }\\r\\n    pfinales[i] = (mulinf + adicion) / 100;\\r\\n}\\r\\nelement.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2));\\r\\nelement.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));"}]	11530.00	6530.00	10000.00	10.0	\N	2020-07-21 16:00:02-05	FAC-2020-37
98	1	3	{"sub_total":12600,"vr_descuento":0,"vr_antes_iva":12600,"vr_iva":0,"total":12600,"cantidad_items":1,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"S","esCambio":false,"id_grupo":1,"id_inv_suc":"15","id_inventario":"18","id_sucursal":1,"id_formula":1,"n_parametros":2,"nesecita_p":"S","maximos_p":[260,160],"codigo":"0013","descripcion":"VIDRIO ANTIREFLEJO","cantidad_item":1,"cantidad":0.36,"unidad":"M2","vr_venta_domicilio":"49000.00","vr_venta_local":"35000.00","vr_venta":"35000.00","sub_total":12600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":12600,"iva":0,"vr_iva":0,"total":12600,"parametros":[60,50],"formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));"}]	12600.00	7600.00	0.00	0.0	\N	2020-07-14 14:51:08-05	FAC-2020-25
99	1	2	{"sub_total":8300,"vr_descuento":0,"vr_antes_iva":8300,"vr_iva":0,"total":8300,"cantidad_items":1,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.00","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"id_inv_suc":"6","vr_venta":"3000.00","costo_promedio":"2333.34","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3330,"parametros":[20,30.7],"cantidad_item":1.11,"cantidad":1.11},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.00","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"7","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30.7],"cantidad_item":4,"cantidad":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.00","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"id_inv_suc":"1","vr_venta":"18000.00","costo_promedio":"15000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30.7,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.00","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"id_inv_suc":"8","vr_venta":"3500.00","costo_promedio":"3174.61","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30.7],"cantidad_item":1,"cantidad":0.06},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.00","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"id_inv_suc":"9","vr_venta":"4000.00","costo_promedio":"3571.43","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30.7],"cantidad_item":0,"cantidad":0.06},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.00","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"id_inv_suc":"10","vr_venta":"2600.00","costo_promedio":"1600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30.7],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.00","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"11","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30.7],"cantidad_item":1,"cantidad":1},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.00","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"14","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30.7],"cantidad_item":0,"cantidad":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","costo_promedio":"0.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8300,"iva":0,"vr_iva":0,"total":8300,"parametros":[20,30.7],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"}]	8300.00	0.00	0.00	0.0	\N	2020-07-14 14:55:37-05	FAC-2020-26
100	1	4	{"sub_total":8300,"vr_descuento":0,"vr_antes_iva":8300,"vr_iva":0,"total":8300,"cantidad_items":1,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.00","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"id_inv_suc":"6","vr_venta":"3000.00","costo_promedio":"2333.34","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3330,"parametros":[20,30.7],"cantidad_item":1.11,"cantidad":1.11},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.00","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"7","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30.7],"cantidad_item":4,"cantidad":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.00","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"id_inv_suc":"1","vr_venta":"18000.00","costo_promedio":"15000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30.7,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.00","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"id_inv_suc":"8","vr_venta":"3500.00","costo_promedio":"3174.61","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30.7],"cantidad_item":1,"cantidad":0.06},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.00","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"id_inv_suc":"9","vr_venta":"4000.00","costo_promedio":"3571.43","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30.7],"cantidad_item":0,"cantidad":0.06},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.00","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"id_inv_suc":"10","vr_venta":"2600.00","costo_promedio":"1600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30.7],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.00","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"11","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30.7],"cantidad_item":1,"cantidad":1},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.00","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"14","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30.7],"cantidad_item":0,"cantidad":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","costo_promedio":"0.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8300,"iva":0,"vr_iva":0,"total":8300,"parametros":[20,30.7],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"}]	8300.00	8300.00	0.00	0.0	\N	2020-07-14 14:55:49-05	COT-2020-3
101	1	2	{"sub_total":8300,"vr_descuento":0,"vr_antes_iva":8300,"vr_iva":0,"total":8300,"cantidad_items":1,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.00","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"id_inv_suc":"6","vr_venta":"3000.00","costo_promedio":"2333.34","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3330,"parametros":[20,30.7],"cantidad_item":1.11,"cantidad":1.11},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.00","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"7","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30.7],"cantidad_item":4,"cantidad":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.00","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"id_inv_suc":"1","vr_venta":"18000.00","costo_promedio":"15000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30.7,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.00","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"id_inv_suc":"8","vr_venta":"3500.00","costo_promedio":"3174.61","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30.7],"cantidad_item":1,"cantidad":0.06},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.00","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"id_inv_suc":"9","vr_venta":"4000.00","costo_promedio":"3571.43","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30.7],"cantidad_item":0,"cantidad":0.06},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.00","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"id_inv_suc":"10","vr_venta":"2600.00","costo_promedio":"1600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30.7],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.00","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"11","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30.7],"cantidad_item":1,"cantidad":1},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.00","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"14","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30.7],"cantidad_item":0,"cantidad":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","costo_promedio":"0.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8300,"iva":0,"vr_iva":0,"total":8300,"parametros":[20,30.7],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"}]	8300.00	7300.00	0.00	0.0	\N	2020-07-14 14:56:19-05	FAC-2020-27
102	1	4	{"sub_total":8300,"vr_descuento":0,"vr_antes_iva":8300,"vr_iva":0,"total":8300,"cantidad_items":1,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.00","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"id_inv_suc":"6","vr_venta":"3000.00","costo_promedio":"2333.34","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3330,"parametros":[20,30.7],"cantidad_item":1.11,"cantidad":1.11},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.00","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"7","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30.7],"cantidad_item":4,"cantidad":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.00","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"id_inv_suc":"1","vr_venta":"18000.00","costo_promedio":"15000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30.7,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.00","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"id_inv_suc":"8","vr_venta":"3500.00","costo_promedio":"3174.61","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30.7],"cantidad_item":1,"cantidad":0.06},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.00","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"id_inv_suc":"9","vr_venta":"4000.00","costo_promedio":"3571.43","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30.7],"cantidad_item":0,"cantidad":0.06},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.00","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"id_inv_suc":"10","vr_venta":"2600.00","costo_promedio":"1600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30.7],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.00","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"11","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30.7],"cantidad_item":1,"cantidad":1},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.00","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"14","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30.7],"cantidad_item":0,"cantidad":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","costo_promedio":"0.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8300,"iva":0,"vr_iva":0,"total":8300,"parametros":[20,30.7],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"}]	8300.00	8300.00	0.00	0.0	\N	2020-07-14 14:56:24-05	COT-2020-4
103	1	2	{"sub_total":11500,"vr_descuento":0,"vr_antes_iva":11500,"vr_iva":0,"total":11500,"cantidad_items":2,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.00","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"id_inv_suc":"6","vr_venta":"3000.00","costo_promedio":"2333.34","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3330,"parametros":[20,30.7],"cantidad_item":1.11,"cantidad":1.11},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.00","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"7","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30.7],"cantidad_item":4,"cantidad":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.00","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"id_inv_suc":"1","vr_venta":"18000.00","costo_promedio":"15000.00","formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30.7,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.00","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"id_inv_suc":"8","vr_venta":"3500.00","costo_promedio":"3174.61","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30.7],"cantidad_item":1,"cantidad":0.06},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.00","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"id_inv_suc":"9","vr_venta":"4000.00","costo_promedio":"3571.43","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30.7],"cantidad_item":0,"cantidad":0.06},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.00","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"id_inv_suc":"10","vr_venta":"2600.00","costo_promedio":"1600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30.7],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.00","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"11","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30.7],"cantidad_item":1,"cantidad":1},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.00","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"14","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30.7],"cantidad_item":0,"cantidad":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","costo_promedio":"0.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8300,"iva":0,"vr_iva":0,"total":8300,"parametros":[20,30.7],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[],"cambio":"S","esCambio":false,"id_grupo":1,"id_inv_suc":"15","id_inventario":"18","id_sucursal":1,"id_formula":1,"n_parametros":2,"nesecita_p":"S","maximos_p":[260,160],"codigo":"0013","descripcion":"VIDRIO ANTIREFLEJO","cantidad_item":1,"cantidad":0.09,"unidad":"M2","vr_venta_domicilio":"49000.00","vr_venta_local":"35000.00","costo_promedio":"40000.00","vr_venta":"35000.00","sub_total":3200,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":3200,"iva":0,"vr_iva":0,"total":3200,"parametros":[30,20],"formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));"}]	11500.00	4700.00	0.00	0.0	\N	2020-07-14 14:57:16-05	FAC-2020-28
105	1	4	{"sub_total":136300,"vr_descuento":0,"vr_antes_iva":136300,"vr_iva":0,"total":136300,"cantidad_items":50,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.00","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"id_inv_suc":"6","vr_venta":"3000.00","costo_promedio":"2333.34","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3330,"parametros":[20,30.7],"cantidad_item":1.11,"cantidad":1.11},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.00","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"7","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30.7],"cantidad_item":4,"cantidad":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.00","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"id_inv_suc":"1","vr_venta":"18000.00","costo_promedio":"15000.00","formula":"var pfinales = [null, null];\\r\\nvar pMaximo = false;\\r\\nelement.parametros.sort((a, b) => b - a);\\r\\nfor (let i = 0; i < element.parametros.length; i++) {\\r\\n    var mulinf = parseInt(element.parametros[i] / 10) * 10;\\r\\n    var diferencia = element.parametros[i] - mulinf;\\r\\n    var adicion = 0;\\r\\n    if (element.parametros[i] <= 97) {\\r\\n        if (diferencia >= 4 && diferencia < 8) {\\r\\n            adicion = 10;\\r\\n        } else if (diferencia >= 8) {\\r\\n            adicion = 15;\\r\\n        } else {\\r\\n            adicion = 5;\\r\\n        }\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[0] - 20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) {\\r\\n        adicion = element.maximos_p[0] - mulinf;\\r\\n        pMaximo = true;\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[1] - 20) && element.parametros[i] <= element.maximos_p[1]) {\\r\\n        adicion = element.maximos_p[1] - mulinf;\\r\\n    } else {\\r\\n        if (diferencia <= 8) {\\r\\n            adicion = 10;\\r\\n        } else {\\r\\n            adicion = 15;\\r\\n        }\\r\\n    }\\r\\n    pfinales[i] = (mulinf + adicion) / 100;\\r\\n}\\r\\nelement.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2));\\r\\nelement.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30.7,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.00","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"id_inv_suc":"8","vr_venta":"3500.00","costo_promedio":"3174.61","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30.7],"cantidad_item":1,"cantidad":0.06},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.00","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"id_inv_suc":"9","vr_venta":"4000.00","costo_promedio":"3571.43","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30.7],"cantidad_item":0,"cantidad":0.06},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.00","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"id_inv_suc":"10","vr_venta":"2600.00","costo_promedio":"1600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30.7],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.00","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"11","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30.7],"cantidad_item":1,"cantidad":1},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.00","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"14","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30.7],"cantidad_item":0,"cantidad":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","costo_promedio":"0.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8300,"iva":0,"vr_iva":0,"total":8300,"parametros":[20,30.7],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[],"cambio":"S","esCambio":false,"id_grupo":1,"id_inv_suc":"15","id_inventario":"18","id_sucursal":1,"id_formula":1,"n_parametros":2,"nesecita_p":"S","maximos_p":[260,160],"codigo":"0013","descripcion":"VIDRIO ANTIREFLEJO","cantidad_item":1,"cantidad":0.09,"unidad":"M2","vr_venta_domicilio":"49000.00","vr_venta_local":"35000.00","costo_promedio":"40000.00","vr_venta":"35000.00","sub_total":3200,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":3200,"iva":0,"vr_iva":0,"total":3200,"parametros":[30,20],"formula":"var pfinales = [null, null];\\r\\nvar pMaximo = false;\\r\\nelement.parametros.sort((a, b) => b - a);\\r\\nfor (let i = 0; i < element.parametros.length; i++) {\\r\\n    var mulinf = parseInt(element.parametros[i] / 10) * 10;\\r\\n    var diferencia = element.parametros[i] - mulinf;\\r\\n    var adicion = 0;\\r\\n    if (element.parametros[i] <= 97) {\\r\\n        if (diferencia >= 4 && diferencia < 8) {\\r\\n            adicion = 10;\\r\\n        } else if (diferencia >= 8) {\\r\\n            adicion = 15;\\r\\n        } else {\\r\\n            adicion = 5;\\r\\n        }\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[0] - 20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) {\\r\\n        adicion = element.maximos_p[0] - mulinf;\\r\\n        pMaximo = true;\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[1] - 20) && element.parametros[i] <= element.maximos_p[1]) {\\r\\n        adicion = element.maximos_p[1] - mulinf;\\r\\n    } else {\\r\\n        if (diferencia <= 8) {\\r\\n            adicion = 10;\\r\\n        } else {\\r\\n            adicion = 15;\\r\\n        }\\r\\n    }\\r\\n    pfinales[i] = (mulinf + adicion) / 100;\\r\\n}\\r\\nelement.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2));\\r\\nelement.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	136300.00	136300.00	0.00	0.0	\N	2020-07-17 14:30:05-05	COT-2020-5
106	1	2	{"sub_total":136300,"vr_descuento":0,"vr_antes_iva":136300,"vr_iva":0,"total":136300,"cantidad_items":50,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"0.00","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"id_inv_suc":"6","vr_venta":"3000.00","costo_promedio":"2333.34","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3330,"parametros":[20,30.7],"cantidad_item":1.11,"cantidad":1.11},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"0.00","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"7","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,30.7],"cantidad_item":4,"cantidad":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"cantidad":"0.00","costo_promedio":"15000.00","vr_venta_local":"18000.00","vr_venta_domicil":"24000.00"}],"id_inv_suc":"1","vr_venta":"18000.00","costo_promedio":"15000.00","formula":"var pfinales = [null, null];\\r\\nvar pMaximo = false;\\r\\nelement.parametros.sort((a, b) => b - a);\\r\\nfor (let i = 0; i < element.parametros.length; i++) {\\r\\n    var mulinf = parseInt(element.parametros[i] / 10) * 10;\\r\\n    var diferencia = element.parametros[i] - mulinf;\\r\\n    var adicion = 0;\\r\\n    if (element.parametros[i] <= 97) {\\r\\n        if (diferencia >= 4 && diferencia < 8) {\\r\\n            adicion = 10;\\r\\n        } else if (diferencia >= 8) {\\r\\n            adicion = 15;\\r\\n        } else {\\r\\n            adicion = 5;\\r\\n        }\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[0] - 20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) {\\r\\n        adicion = element.maximos_p[0] - mulinf;\\r\\n        pMaximo = true;\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[1] - 20) && element.parametros[i] <= element.maximos_p[1]) {\\r\\n        adicion = element.maximos_p[1] - mulinf;\\r\\n    } else {\\r\\n        if (diferencia <= 8) {\\r\\n            adicion = 10;\\r\\n        } else {\\r\\n            adicion = 15;\\r\\n        }\\r\\n    }\\r\\n    pfinales[i] = (mulinf + adicion) / 100;\\r\\n}\\r\\nelement.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2));\\r\\nelement.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"parametros":[30.7,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.00","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"id_inv_suc":"8","vr_venta":"3500.00","costo_promedio":"3174.61","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"parametros":[20,30.7],"cantidad_item":1,"cantidad":0.06},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.00","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"id_inv_suc":"9","vr_venta":"4000.00","costo_promedio":"3571.43","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30.7],"cantidad_item":0,"cantidad":0.06},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"0.00","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"id_inv_suc":"10","vr_venta":"2600.00","costo_promedio":"1600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30.7],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"0.00","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"11","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,30.7],"cantidad_item":1,"cantidad":1},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.00","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"14","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,30.7],"cantidad_item":0,"cantidad":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[115,85],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","costo_promedio":"0.00","vr_venta":"2000.00","sub_total":8300,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8300,"iva":0,"vr_iva":0,"total":8300,"parametros":[20,30.7],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[],"cambio":"S","esCambio":false,"id_grupo":1,"id_inv_suc":"15","id_inventario":"18","id_sucursal":1,"id_formula":1,"n_parametros":2,"nesecita_p":"S","maximos_p":[260,160],"codigo":"0013","descripcion":"VIDRIO ANTIREFLEJO","cantidad_item":1,"cantidad":0.09,"unidad":"M2","vr_venta_domicilio":"49000.00","vr_venta_local":"35000.00","costo_promedio":"40000.00","vr_venta":"35000.00","sub_total":3200,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":3200,"iva":0,"vr_iva":0,"total":3200,"parametros":[30,20],"formula":"var pfinales = [null, null];\\r\\nvar pMaximo = false;\\r\\nelement.parametros.sort((a, b) => b - a);\\r\\nfor (let i = 0; i < element.parametros.length; i++) {\\r\\n    var mulinf = parseInt(element.parametros[i] / 10) * 10;\\r\\n    var diferencia = element.parametros[i] - mulinf;\\r\\n    var adicion = 0;\\r\\n    if (element.parametros[i] <= 97) {\\r\\n        if (diferencia >= 4 && diferencia < 8) {\\r\\n            adicion = 10;\\r\\n        } else if (diferencia >= 8) {\\r\\n            adicion = 15;\\r\\n        } else {\\r\\n            adicion = 5;\\r\\n        }\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[0] - 20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) {\\r\\n        adicion = element.maximos_p[0] - mulinf;\\r\\n        pMaximo = true;\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[1] - 20) && element.parametros[i] <= element.maximos_p[1]) {\\r\\n        adicion = element.maximos_p[1] - mulinf;\\r\\n    } else {\\r\\n        if (diferencia <= 8) {\\r\\n            adicion = 10;\\r\\n        } else {\\r\\n            adicion = 15;\\r\\n        }\\r\\n    }\\r\\n    pfinales[i] = (mulinf + adicion) / 100;\\r\\n}\\r\\nelement.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2));\\r\\nelement.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	136300.00	126300.00	0.00	0.0	\N	2020-07-17 14:42:11-05	FAC-2020-30
108	1	4	{"sub_total":5200,"vr_descuento":260,"vr_antes_iva":5940,"vr_iva":0,"total":5940,"cantidad_items":2,"vr_transporte_item":500,"ajuste_transporte":0,"transporte":1000}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":2,"cantidad":2,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":5200,"descuento":0,"vr_descuento":260,"vr_transporte":1000,"vr_antes_iva":5940,"iva":0,"vr_iva":0,"total":5940,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	5940.00	5940.00	1000.00	5.0	\N	2020-07-18 16:58:45-05	COT-2020-6
104	12	3	{"sub_total":286700,"vr_descuento":0,"vr_antes_iva":286700,"vr_iva":0,"total":286700,"cantidad_items":5,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"S","esCambio":false,"id_grupo":1,"id_inv_suc":"16","id_inventario":"19","id_sucursal":1,"id_formula":1,"n_parametros":2,"nesecita_p":"S","maximos_p":[260,180],"codigo":"0015","descripcion":"ESPEJO 3MM","cantidad_item":1,"cantidad":4.68,"unidad":"M2","vr_venta_domicilio":"33000.00","vr_venta_local":"33000.00","costo_promedio":"30000.00","vr_venta":"33000.00","sub_total":154500,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":154500,"iva":0,"vr_iva":0,"total":154500,"parametros":[260,180],"formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));"},{"Componentes":[],"cambio":"S","esCambio":false,"id_grupo":1,"id_inv_suc":"16","id_inventario":"19","id_sucursal":1,"id_formula":1,"n_parametros":2,"nesecita_p":"S","maximos_p":[260,180],"codigo":"0015","descripcion":"ESPEJO 3MM","cantidad_item":1,"cantidad":0.88,"unidad":"M2","vr_venta_domicilio":"33000.00","vr_venta_local":"33000.00","costo_promedio":"30000.00","vr_venta":"33000.00","sub_total":29100,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":29100,"iva":0,"vr_iva":0,"total":29100,"parametros":[150,50],"formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));"},{"Componentes":[],"cambio":"S","esCambio":false,"id_grupo":1,"id_inv_suc":"16","id_inventario":"19","id_sucursal":1,"id_formula":1,"n_parametros":2,"nesecita_p":"S","maximos_p":[260,180],"codigo":"0015","descripcion":"ESPEJO 3MM","cantidad_item":1,"cantidad":1.43,"unidad":"M2","vr_venta_domicilio":"33000.00","vr_venta_local":"33000.00","costo_promedio":"30000.00","vr_venta":"33000.00","sub_total":47200,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":47200,"iva":0,"vr_iva":0,"total":47200,"parametros":[170,50],"formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));"},{"Componentes":[],"cambio":"S","esCambio":false,"id_grupo":1,"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"id_formula":1,"n_parametros":2,"nesecita_p":"S","maximos_p":[260,180],"codigo":"0001","descripcion":"VIDRIO CLARO 3 MM","cantidad_item":1,"cantidad":1.43,"unidad":"M2","vr_venta_domicilio":"24000.00","vr_venta_local":"18000.00","costo_promedio":"15000.00","vr_venta":"18000.00","sub_total":25800,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":25800,"iva":0,"vr_iva":0,"total":25800,"parametros":[160,50],"formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));"},{"Componentes":[],"cambio":"S","esCambio":false,"id_grupo":1,"id_inv_suc":"16","id_inventario":"19","id_sucursal":1,"id_formula":1,"n_parametros":2,"nesecita_p":"S","maximos_p":[260,180],"codigo":"0015","descripcion":"ESPEJO 3MM","cantidad_item":1,"cantidad":0.91,"unidad":"M2","vr_venta_domicilio":"33000.00","vr_venta_local":"33000.00","costo_promedio":"30000.00","vr_venta":"33000.00","sub_total":30100,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":30100,"iva":0,"vr_iva":0,"total":30100,"parametros":[159,50],"formula":"var pfinales = [null, null]; var pMaximo = false; element.parametros.sort((a, b) => b - a); for (let i = 0; i < element.parametros.length; i++) { var mulinf = parseInt(element.parametros[i] / 10) * 10; var diferencia = element.parametros[i] - mulinf; var adicion = 0; if (element.parametros[i] <= 97) { if (diferencia >= 4 && diferencia < 8) { adicion = 10; } else if (diferencia >= 8) { adicion = 15; } else { adicion = 5; } } else if (element.parametros[i] >= (element.maximos_p[0]-20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) { adicion = 180 - mulinf; pMaximo = true; } else if (element.parametros[i] >= (element.maximos_p[1]-20) && element.parametros[i] <= element.maximos_p[1]) { adicion = 260 - mulinf; } else { if (diferencia <= 8) { adicion = 10; } else { adicion = 15; } } pfinales[i] = (mulinf + adicion) / 100; } element.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2)); element.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2)); element.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));"}]	286700.00	0.00	0.00	0.0	\N	2020-07-15 15:54:43-05	FAC-2020-29
107	1	3	{"sub_total":65000,"vr_descuento":0,"vr_antes_iva":65000,"vr_iva":0,"total":65000,"cantidad_items":25,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":1,"cantidad":1,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":2600,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":2600,"iva":0,"vr_iva":0,"total":2600,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	65000.00	0.00	0.00	0.0	\N	2020-07-17 14:45:05-05	FAC-2020-31
118	1	3	{"sub_total":88000,"vr_descuento":4400,"vr_antes_iva":83600,"vr_iva":0,"total":83600,"cantidad_items":8,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":20,"id_inv_suc":"37","id_inventario":"46","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"999","descripcion":"Prueba no registrado","cantidad_item":1,"cantidad":1,"unidad":"UNIDAD","vr_venta_domicilio":"0.00","vr_venta_local":"0.00","costo_promedio":"0.00","vr_venta":"17500","sub_total":17500,"descuento":0,"vr_descuento":875,"vr_transporte":0,"vr_antes_iva":16625,"iva":0,"vr_iva":0,"total":16625,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":20,"id_inv_suc":"37","id_inventario":"46","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"999","descripcion":"Prueba no registrado","cantidad_item":3,"cantidad":3,"unidad":"UNIDAD","vr_venta_domicilio":"0.00","vr_venta_local":"0.00","costo_promedio":"0.00","vr_venta":"17500","sub_total":52500,"descuento":0,"vr_descuento":2625,"vr_transporte":0,"vr_antes_iva":49875,"iva":0,"vr_iva":0,"total":49875,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":9,"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"N","maximos_p":{},"codigo":"0009","descripcion":"CADENA","cantidad_item":2,"cantidad":2,"unidad":"M","vr_venta_domicilio":"2600.00","vr_venta_local":"2600.00","costo_promedio":"1600.00","vr_venta":"2600.00","sub_total":5200,"descuento":0,"vr_descuento":260,"vr_transporte":0,"vr_antes_iva":4940,"iva":0,"vr_iva":0,"total":4940,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"},{"Componentes":[{"id_formula":1,"id_inventario":"19","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"16","id_inventario":"19","id_sucursal":1,"cantidad":"0.00","costo_promedio":"30000.00","vr_venta_local":"33000.00","vr_venta_domicil":"33000.00"}],"id_inv_suc":"16","vr_venta":"33000.00","costo_promedio":"30000.00","formula":"var pfinales = [null, null];\\r\\nvar pMaximo = false;\\r\\nelement.parametros.sort((a, b) => b - a);\\r\\nfor (let i = 0; i < element.parametros.length; i++) {\\r\\n    var mulinf = parseInt(element.parametros[i] / 10) * 10;\\r\\n    var diferencia = element.parametros[i] - mulinf;\\r\\n    var adicion = 0;\\r\\n    if (element.parametros[i] <= 97) {\\r\\n        if (diferencia >= 4 && diferencia < 8) {\\r\\n            adicion = 10;\\r\\n        } else if (diferencia >= 8) {\\r\\n            adicion = 15;\\r\\n        } else {\\r\\n            adicion = 5;\\r\\n        }\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[0] - 20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) {\\r\\n        adicion = element.maximos_p[0] - mulinf;\\r\\n        pMaximo = true;\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[1] - 20) && element.parametros[i] <= element.maximos_p[1]) {\\r\\n        adicion = element.maximos_p[1] - mulinf;\\r\\n    } else {\\r\\n        if (diferencia <= 8) {\\r\\n            adicion = 10;\\r\\n        } else {\\r\\n            adicion = 15;\\r\\n        }\\r\\n    }\\r\\n    pfinales[i] = (mulinf + adicion) / 100;\\r\\n}\\r\\nelement.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2));\\r\\nelement.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":3000,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":3,"id_inventario":"36","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"32","id_inventario":"36","id_sucursal":1,"cantidad":"0.00","costo_promedio":"0.00","vr_venta_local":"200.00","vr_venta_domicil":"400.00"}],"id_inv_suc":"32","vr_venta":"200.00","costo_promedio":"0.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":400,"parametros":[20,30],"cantidad_item":2,"cantidad":2}],"cambio":"N","esCambio":false,"id_grupo":6,"id_inv_suc":"31","id_inventario":"34","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":{},"codigo":"0034","descripcion":"ESPEJO CON CADENA","cantidad_item":2,"cantidad":2,"unidad":"M2","vr_venta_domicilio":"3000.00","vr_venta_local":"3000.00","costo_promedio":"0.00","vr_venta":"3000.00","sub_total":12800,"descuento":0,"vr_descuento":640,"vr_transporte":0,"vr_antes_iva":12160,"iva":0,"vr_iva":0,"total":12160,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"}]	83600.00	45400.00	0.00	5.0	\N	2020-08-03 15:52:52-05	FAC-2020-38
120	1	3	{"sub_total":8800,"vr_descuento":440,"vr_antes_iva":18360,"vr_iva":0,"total":18360,"cantidad_items":1,"vr_transporte_item":10000,"ajuste_transporte":0,"transporte":10000}	[{"Componentes":[{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[null],"id_inv_suc":"6","vr_venta":"3500.00","costo_promedio":"2333.34","seleccionar":"N","detalle":"detalle","seleccionado":true,"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3850,"cantidad_item":1.1,"parametros":[20,30],"cantidad":1.1},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[null],"id_inv_suc":"7","vr_venta":"200.00","costo_promedio":"100.00","seleccionar":"N","detalle":"detalle","seleccionado":true,"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"cantidad_item":4,"parametros":[20,30],"cantidad":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[null],"id_inv_suc":"1","vr_venta":"18000.00","costo_promedio":"15000.00","seleccionar":"N","detalle":"detalle","seleccionado":true,"formula":"var pfinales = [null, null];\\r\\nvar pMaximo = false;\\r\\nelement.parametros.sort((a, b) => b - a);\\r\\nfor (let i = 0; i < element.parametros.length; i++) {\\r\\n    var mulinf = parseInt(element.parametros[i] / 10) * 10;\\r\\n    var diferencia = element.parametros[i] - mulinf;\\r\\n    var adicion = 0;\\r\\n    if (element.parametros[i] <= 97) {\\r\\n        if (diferencia >= 4 && diferencia < 8) {\\r\\n            adicion = 10;\\r\\n        } else if (diferencia >= 8) {\\r\\n            adicion = 15;\\r\\n        } else {\\r\\n            adicion = 5;\\r\\n        }\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[0] - 20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) {\\r\\n        adicion = element.maximos_p[0] - mulinf;\\r\\n        pMaximo = true;\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[1] - 20) && element.parametros[i] <= element.maximos_p[1]) {\\r\\n        adicion = element.maximos_p[1] - mulinf;\\r\\n    } else {\\r\\n        if (diferencia <= 8) {\\r\\n            adicion = 10;\\r\\n        } else {\\r\\n            adicion = 15;\\r\\n        }\\r\\n    }\\r\\n    pfinales[i] = (mulinf + adicion) / 100;\\r\\n}\\r\\nelement.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2));\\r\\nelement.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"cantidad_item":1,"parametros":[30,20],"cantidad":0.09},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[null],"id_inv_suc":"8","vr_venta":"3500.00","costo_promedio":"3174.61","seleccionar":"N","detalle":"detalle","seleccionado":true,"formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"cantidad_item":1,"parametros":[20,30],"cantidad":0.06},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[null],"id_inv_suc":"9","vr_venta":"4000.00","costo_promedio":"3571.43","seleccionar":"N","detalle":"detalle","seleccionado":true,"formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"cantidad_item":0,"parametros":[20,30],"cantidad":0.06},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[null],"id_inv_suc":"10","vr_venta":"2600.00","costo_promedio":"1600.00","seleccionar":"N","detalle":"detalle","seleccionado":true,"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"cantidad_item":0,"parametros":[20,30],"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[null],"id_inv_suc":"11","vr_venta":"200.00","costo_promedio":"100.00","seleccionar":"N","detalle":"detalle","seleccionado":true,"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"cantidad_item":1,"parametros":[20,30],"cantidad":1},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[null],"id_inv_suc":"14","vr_venta":"300.00","costo_promedio":"200.00","seleccionar":"N","detalle":"detalle","seleccionado":true,"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"cantidad_item":0,"parametros":[20,30],"cantidad":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[300,300],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","costo_promedio":"0.00","vr_venta":"2000.00","sub_total":8800,"descuento":0,"vr_descuento":440,"vr_transporte":10000,"vr_antes_iva":18360,"iva":0,"vr_iva":0,"total":18360,"parametros":[20,30],"formula":"var pCuadro = element.parametros;\\r\\nvar sub_total = 0;\\r\\nvar cadena = false;\\r\\nvar espejo = false;\\r\\nvar accesorio = null;\\r\\n/**\\r\\n * determinar si es un espejo con cadena\\r\\n */\\r\\nif (element.id_inventario == 34) {\\r\\n  cadena = true;\\r\\n}\\r\\nif (element.id_inventario == 20) {\\r\\n  espejo = true;\\r\\n}\\r\\n/**\\r\\n * determinar si es un cuadro de ploliuretano\\r\\n */\\r\\n/* if (\\r\\n  element.id_inventario == 27 ||\\r\\n  element.id_inventario == 28 ||\\r\\n  element.id_inventario == 29 ||\\r\\n  element.id_inventario == 30 ||\\r\\n  element.id_inventario == 39 ||\\r\\n  element.id_inventario == 40 ||\\r\\n  element.id_inventario == 41 ||\\r\\n  element.id_inventario == 42\\r\\n) {\\r\\n  poliuretanog = true;\\r\\n} */\\r\\n/**\\r\\n * determinar si es poliuretano gruego\\r\\n */\\r\\nconst poliuretano = element.Componentes.find((componente) =>\\r\\n  parseInt(componente.id_inventario) === 25 || parseInt(componente.id_inventario) === 26 ? true : false\\r\\n);\\r\\nconst poliuretanog = element.Componentes.find((componente) =>\\r\\n  parseInt(componente.id_inventario) === 25 ? true : false\\r\\n);\\r\\n/**\\r\\n * determinar si es tiene fondo\\r\\n */\\r\\nconst fondo = element.Componentes.find((componente) =>\\r\\n  parseInt(componente.id_inventario) === 15 ? true : false\\r\\n);\\r\\nelement.Componentes.forEach((element) => {\\r\\n  element.sub_total = 0;\\r\\n  element.cantidad_item = 0;\\r\\n  element.parametros = [];\\r\\n  /**\\r\\n   * si tiene fondo se suma 8 cm a cada uno de los lados del  cuadro\\r\\n   * de lo contrario no se hace nada y se asignan los parametros\\r\\n   * al componente en ambos casos.\\r\\n   */\\r\\n  if (fondo) {\\r\\n    element.parametros.push(pCuadro[0] + 8);\\r\\n    element.parametros.push(pCuadro[1] + 8);\\r\\n  } else {\\r\\n    element.parametros.push(pCuadro[0]);\\r\\n    element.parametros.push(pCuadro[1]);\\r\\n  }\\r\\n  \\r\\n  /**\\r\\n   * Se determina la cantidad de espejo\\r\\n   * vidrio o antireflejo, el calculo de su \\r\\n   * area se hace con la respectiva formula\\r\\n   */\\r\\n  if (\\r\\n    element.id_inventario == 2 ||\\r\\n    element.id_inventario == 19 ||\\r\\n    element.id_inventario == 18\\r\\n  ) {\\r\\n    element.cantidad_item = 1;\\r\\n  }\\r\\n  /**\\r\\n   * se calcula los metros de moldura en aluminio\\r\\n   * que tiene el cuadro teniendo en cuenta el mejor\\r\\n   * corte, con 30 cm como parametro de perdida y \\r\\n   * 10 cm como parametro de desperdicio\\r\\n   */\\r\\n  if (element.id_inventario == 9 || element.id_inventario == 22) {\\r\\n    let p = [\\r\\n      element.parametros[0],\\r\\n      element.parametros[0],\\r\\n      element.parametros[1],\\r\\n      element.parametros[1],\\r\\n    ];\\r\\n    element.cantidad_item = combinatoria.mejorCorteLineal(\\r\\n      p,\\r\\n      true,\\r\\n      element.maximos_p,\\r\\n      30,\\r\\n      10\\r\\n    ).mejorOpcion.suma_final;\\r\\n    element.cantidad_item = parseFloat(\\r\\n      (element.cantidad_item / 100).toFixed(2)\\r\\n    );\\r\\n  }\\r\\n  /**\\r\\n   * se calcula los metros de moldura en poliuretano\\r\\n   * que tiene el cuadro teniendo en cuenta el mejor\\r\\n   * corte, con 40 cm como parametro de perdida y \\r\\n   * 18 cm como parametro de desperdicio\\r\\n   */\\r\\n  if (element.id_inventario == 26 || element.id_inventario == 25) {\\r\\n    let p = [\\r\\n      element.parametros[0],\\r\\n      element.parametros[0],\\r\\n      element.parametros[1],\\r\\n      element.parametros[1],\\r\\n    ];\\r\\n    element.cantidad_item = combinatoria.mejorCorteLineal(\\r\\n      p,\\r\\n      true,\\r\\n      element.maximos_p,\\r\\n      40,\\r\\n      18\\r\\n    ).mejorOpcion.suma_final;\\r\\n    element.cantidad_item = parseFloat(\\r\\n      (element.cantidad_item / 100).toFixed(2)\\r\\n    );\\r\\n  }\\r\\n\\r\\n  if(element.id_inventario == 59){\\r\\n    element.cantidad_item=(element.parametros[0]+6)*2+(element.parametros[1]+6)*2\\r\\n    element.cantidad_item = parseFloat(\\r\\n      (element.cantidad_item / 100).toFixed(2)\\r\\n    );\\r\\n  }\\r\\n  /**\\r\\n   * Se determina la cantidad de escuadras\\r\\n   * que lleva el cuadro\\r\\n   */\\r\\n  if (element.id_inventario == 10 || element.id_inventario == 33) {\\r\\n    element.cantidad_item = 4;\\r\\n  }\\r\\n  /**\\r\\n   * Se determina la cantidad de  m de empaque\\r\\n   * que tiene el espejo enmarcado en nave\\r\\n   */\\r\\n  if (element.id_inventario == 32) {\\r\\n    element.cantidad_item = parseFloat(\\r\\n      (\\r\\n        (element.parametros[0] / 100) * 2 +\\r\\n        (element.parametros[1] / 100) * 2\\r\\n      ).toFixed(2)\\r\\n    );\\r\\n  }\\r\\n  /**\\r\\n   * Se determina la cantidad de cerruchos que lleva el cuadro\\r\\n   */\\r\\n  if(element.id_inventario == 14) {\\r\\n    let p=((100-(element.parametros[0]))/element.parametros[1])*100;\\r\\n    if(p>75){\\r\\n      element.cantidad_item=1;\\r\\n      accesorio=\\"U\\"\\r\\n    }else if(p>60 && p<=75){\\r\\n      element.cantidad_item=2;\\r\\n      accesorio=\\"D\\"\\r\\n\\r\\n    }else{\\r\\n      if(poliuretanog){\\r\\n        element.cantidad_item=2;\\r\\n        accesorio=\\"D\\"\\r\\n      }      \\r\\n    }        \\r\\n  }\\r\\n/*   if (element.id_inventario == 14) {\\r\\n    if (\\r\\n      ((element.parametros[0] >= 40 &&\\r\\n        element.parametros[0] < 50 &&\\r\\n        element.parametros[1] >= 90 &&\\r\\n        element.parametros[1] < 100) ||\\r\\n        (element.parametros[0] >= 50 &&\\r\\n          element.parametros[0] < 100 &&\\r\\n          element.parametros[1] >= 70)) || (element.parametros[0] >= 70 && element.parametros[1] < 100) &&\\r\\n      element.id_inventario == 14\\r\\n    ) {\\r\\n      element.cantidad_item = 2;\\r\\n    } else if (element.parametros[0] >= 40 && element.parametros[1] >= 100) {\\r\\n      element.cantidad_item = 0;\\r\\n      if (poliuretano) {\\r\\n        element.cantidad_item = 2;\\r\\n      }\\r\\n    } else {\\r\\n      element.cantidad_item = 1;\\r\\n    }\\r\\n  } */\\r\\n  /**\\r\\n   * Se determina la cantidad de cadena en metros que lleva el cuadro\\r\\n   */\\r\\n  if (element.id_inventario == 13) {\\r\\n    let p=((100-(element.parametros[0]))/element.parametros[1])*100;\\r\\n    if(p<=60 || cadena){\\r\\n      element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2);\\r\\n      accesorio=\\"C\\"\\r\\n    }\\r\\n    /* if (element.parametros[0] >= 40 && element.parametros[1] >= 100) {\\r\\n      element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2);\\r\\n    } else if (cadena) {\\r\\n      element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2);\\r\\n    } */\\r\\n  }\\r\\n  /**\\r\\n   * se determina la cantidad de carton blanco que lleva el cuadro\\r\\n   * el calculo de su area se hace con la respectiva formula del\\r\\n   * componente\\r\\n   */\\r\\n  if(element.id_inventario == 12){\\r\\n    let p=((100-(element.parametros[0]))/element.parametros[1])*100;\\r\\n    if(p<=60){\\r\\n      element.cantidad_item = 1;\\r\\n      \\r\\n    }\\r\\n  }\\r\\n  /* if (\\r\\n    element.id_inventario == 12 &&\\r\\n    element.parametros[0] >= 40 &&\\r\\n    element.parametros[1] >= 100\\r\\n  ) {\\r\\n    element.cantidad_item = (\\r\\n      element.cantidad_item = 1 \\r\\n    ).toFixed(2);\\r\\n  } */\\r\\n  /**\\r\\n   * se determina la cantidad de carton craft que lleva el cuadro\\r\\n   * el calculo de su area se hace con la respectiva formula del\\r\\n   * componente\\r\\n   */\\r\\n  if(element.id_inventario == 11){\\r\\n    let p=((100-(element.parametros[0]))/element.parametros[1])*100;\\r\\n    if(p>60 || espejo){\\r\\n      element.cantidad_item = 1;\\r\\n    }\\r\\n  }\\r\\n  /* if (\\r\\n    (element.id_inventario == 11 &&\\r\\n    !(element.parametros[0] >= 40 && element.parametros[1] >= 100)) || (element.id_inventario == 11 && espejo)\\r\\n  ) {\\r\\n    element.cantidad_item = (\\r\\n      element.cantidad_item = 1 \\r\\n    ).toFixed(2);\\r\\n  } */\\r\\n  /**\\r\\n   * se determina la cantidad de fondo que lleva el cuadro\\r\\n   * el calculo de su area se hace con la respectiva formula del\\r\\n   * componente\\r\\n   */\\r\\n  if (element.id_inventario == 15) {    \\r\\n      element.cantidad_item = 1    \\r\\n  }\\r\\n  /**\\r\\n   * Se determina la cantidad de colgaderas\\r\\n   * que lleva el cuadro\\r\\n   */\\r\\n  if(element.id_inventario == 17){\\r\\n    let p=((100-(element.parametros[0]))/element.parametros[1])*100;\\r\\n    if(p<=60){\\r\\n      element.cantidad_item = 2;\\r\\n    }\\r\\n  }\\r\\n  /* if (\\r\\n    element.id_inventario == 17 &&\\r\\n    element.parametros[0] >= 40 &&\\r\\n    element.parametros[1] >= 100 &&\\r\\n    !poliuretano\\r\\n  ) {\\r\\n    element.cantidad_item = 2;\\r\\n  } */\\r\\n  /**\\r\\n   * Se determina la cantidad de botones \\r\\n   * que lleva el cuadro\\r\\n   */\\r\\n  if (element.id_inventario == 36) {\\r\\n    element.cantidad_item = 2;\\r\\n  }\\r\\n  /**\\r\\n   * Se determina la cantidad de cinta papel que\\r\\n   * tiene el cuadro \\r\\n   */\\r\\n  if (element.id_inventario == 58) {\\r\\n    element.cantidad_item = ((element.parametros[0] / 100)*2+(element.parametros[1] / 100)*2).toFixed(2);    \\r\\n  }  \\r\\n  eval(element.formula);\\r\\n  sub_total += element.sub_total;\\r\\n});\\r\\nelement.accesorio=accesorio;\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2));\\r\\nif(poliuretano && accesorio=='D' || accesorio=='C'){\\r\\n  element.sub_total = parseFloat(\\r\\n    (\\r\\n      element.cantidad_item * sub_total +\\r\\n      parseFloat(element.vr_venta*2*element.cantidad_item)\\r\\n    ).toFixed(2)\\r\\n  );\\r\\n}else{\\r\\n  element.sub_total = parseFloat(\\r\\n    (\\r\\n      element.cantidad_item * sub_total +\\r\\n      parseFloat(element.vr_venta * element.cantidad_item)\\r\\n    ).toFixed(2)\\r\\n  );\\r\\n}\\r\\n\\r\\n\\r\\nelement.sub_total = parseFloat(\\r\\n  (Math.ceil(element.sub_total / 100) * 100).toFixed(2)\\r\\n);\\r\\n","accesorio":"U"}]	18360.00	8360.00	10000.00	5.0	\N	2020-09-18 00:36:43-05	FAC-2020-40
110	12	2	{"sub_total":6400,"vr_descuento":0,"vr_antes_iva":6400,"vr_iva":0,"total":6400,"cantidad_items":1,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[{"id_formula":1,"id_inventario":"19","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"16","id_inventario":"19","id_sucursal":1,"cantidad":"0.00","costo_promedio":"30000.00","vr_venta_local":"33000.00","vr_venta_domicil":"33000.00"}],"id_inv_suc":"16","vr_venta":"33000.00","costo_promedio":"30000.00","formula":"var pfinales = [null, null];\\r\\nvar pMaximo = false;\\r\\nelement.parametros.sort((a, b) => b - a);\\r\\nfor (let i = 0; i < element.parametros.length; i++) {\\r\\n    var mulinf = parseInt(element.parametros[i] / 10) * 10;\\r\\n    var diferencia = element.parametros[i] - mulinf;\\r\\n    var adicion = 0;\\r\\n    if (element.parametros[i] <= 97) {\\r\\n        if (diferencia >= 4 && diferencia < 8) {\\r\\n            adicion = 10;\\r\\n        } else if (diferencia >= 8) {\\r\\n            adicion = 15;\\r\\n        } else {\\r\\n            adicion = 5;\\r\\n        }\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[0] - 20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) {\\r\\n        adicion = element.maximos_p[0] - mulinf;\\r\\n        pMaximo = true;\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[1] - 20) && element.parametros[i] <= element.maximos_p[1]) {\\r\\n        adicion = element.maximos_p[1] - mulinf;\\r\\n    } else {\\r\\n        if (diferencia <= 8) {\\r\\n            adicion = 10;\\r\\n        } else {\\r\\n            adicion = 15;\\r\\n        }\\r\\n    }\\r\\n    pfinales[i] = (mulinf + adicion) / 100;\\r\\n}\\r\\nelement.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2));\\r\\nelement.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":3000,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":3,"id_inventario":"36","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"32","id_inventario":"36","id_sucursal":1,"cantidad":"0.00","costo_promedio":"0.00","vr_venta_local":"200.00","vr_venta_domicil":"400.00"}],"id_inv_suc":"32","vr_venta":"200.00","costo_promedio":"0.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":400,"parametros":[20,30],"cantidad_item":2,"cantidad":2}],"cambio":"N","esCambio":false,"id_grupo":6,"id_inv_suc":"31","id_inventario":"34","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":{},"codigo":"0034","descripcion":"ESPEJO CON CADENA","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"3000.00","vr_venta_local":"3000.00","costo_promedio":"0.00","vr_venta":"3000.00","sub_total":6400,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":6400,"iva":0,"vr_iva":0,"total":6400,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"}]	6400.00	0.00	0.00	0.0	\N	2020-07-18 17:18:40-05	FAC-2020-33
111	12	3	{"sub_total":14300,"vr_descuento":0,"vr_antes_iva":14300,"vr_iva":0,"total":14300,"cantidad_items":2,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[{"id_formula":1,"id_inventario":"19","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"16","id_inventario":"19","id_sucursal":1,"cantidad":"0.00","costo_promedio":"30000.00","vr_venta_local":"33000.00","vr_venta_domicil":"33000.00"}],"id_inv_suc":"16","vr_venta":"33000.00","costo_promedio":"30000.00","formula":"var pfinales = [null, null];\\r\\nvar pMaximo = false;\\r\\nelement.parametros.sort((a, b) => b - a);\\r\\nfor (let i = 0; i < element.parametros.length; i++) {\\r\\n    var mulinf = parseInt(element.parametros[i] / 10) * 10;\\r\\n    var diferencia = element.parametros[i] - mulinf;\\r\\n    var adicion = 0;\\r\\n    if (element.parametros[i] <= 97) {\\r\\n        if (diferencia >= 4 && diferencia < 8) {\\r\\n            adicion = 10;\\r\\n        } else if (diferencia >= 8) {\\r\\n            adicion = 15;\\r\\n        } else {\\r\\n            adicion = 5;\\r\\n        }\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[0] - 20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) {\\r\\n        adicion = element.maximos_p[0] - mulinf;\\r\\n        pMaximo = true;\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[1] - 20) && element.parametros[i] <= element.maximos_p[1]) {\\r\\n        adicion = element.maximos_p[1] - mulinf;\\r\\n    } else {\\r\\n        if (diferencia <= 8) {\\r\\n            adicion = 10;\\r\\n        } else {\\r\\n            adicion = 15;\\r\\n        }\\r\\n    }\\r\\n    pfinales[i] = (mulinf + adicion) / 100;\\r\\n}\\r\\nelement.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2));\\r\\nelement.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":3000,"parametros":[30,20],"cantidad_item":1,"cantidad":0.09},{"id_formula":3,"id_inventario":"36","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"32","id_inventario":"36","id_sucursal":1,"cantidad":"0.00","costo_promedio":"0.00","vr_venta_local":"200.00","vr_venta_domicil":"400.00"}],"id_inv_suc":"32","vr_venta":"200.00","costo_promedio":"0.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":400,"parametros":[20,30],"cantidad_item":2,"cantidad":2}],"cambio":"N","esCambio":false,"id_grupo":6,"id_inv_suc":"31","id_inventario":"34","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":{},"codigo":"0034","descripcion":"ESPEJO CON CADENA","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"3000.00","vr_venta_local":"3000.00","costo_promedio":"0.00","vr_venta":"3000.00","sub_total":6400,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":6400,"iva":0,"vr_iva":0,"total":6400,"parametros":[20,30],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"},{"Componentes":[{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"14","id_inventario":"17","id_sucursal":1,"cantidad":"0.00","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"14","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,20],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[{"id_inv_suc":"6","id_inventario":"9","id_sucursal":1,"cantidad":"1.11","costo_promedio":"2333.34","vr_venta_local":"3000.00","vr_venta_domicil":"3000.00"}],"id_inv_suc":"6","vr_venta":"3000.00","costo_promedio":"2333.34","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":2700,"parametros":[20,20],"cantidad_item":0.9,"cantidad":0.9},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"7","id_inventario":"10","id_sucursal":1,"cantidad":"4.00","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"7","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"parametros":[20,20],"cantidad_item":4,"cantidad":4},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"8","id_inventario":"11","id_sucursal":1,"cantidad":"0.06","costo_promedio":"3174.61","vr_venta_local":"3500.00","vr_venta_domicil":"3500.00"}],"id_inv_suc":"8","vr_venta":"3500.00","costo_promedio":"3174.61","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":140,"parametros":[20,20],"cantidad_item":1,"cantidad":0.04},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"9","id_inventario":"12","id_sucursal":1,"cantidad":"0.00","costo_promedio":"3571.43","vr_venta_local":"4000.00","vr_venta_domicil":"4000.00"}],"id_inv_suc":"9","vr_venta":"4000.00","costo_promedio":"3571.43","formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,20],"cantidad_item":0,"cantidad":0.04},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"10","id_inventario":"13","id_sucursal":1,"cantidad":"21.00","costo_promedio":"1600.00","vr_venta_local":"2600.00","vr_venta_domicil":"2600.00"}],"id_inv_suc":"10","vr_venta":"2600.00","costo_promedio":"1600.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"parametros":[20,20],"cantidad_item":0,"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[{"id_inv_suc":"11","id_inventario":"14","id_sucursal":1,"cantidad":"1.00","costo_promedio":"100.00","vr_venta_local":"200.00","vr_venta_domicil":"200.00"}],"id_inv_suc":"11","vr_venta":"200.00","costo_promedio":"100.00","formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"parametros":[20,20],"cantidad_item":1,"cantidad":1},{"id_formula":1,"id_inventario":"19","maximos_p":[260,180],"InvInvSucs":[{"id_inv_suc":"16","id_inventario":"19","id_sucursal":1,"cantidad":"0.00","costo_promedio":"30000.00","vr_venta_local":"33000.00","vr_venta_domicil":"33000.00"}],"id_inv_suc":"16","vr_venta":"33000.00","costo_promedio":"30000.00","formula":"var pfinales = [null, null];\\r\\nvar pMaximo = false;\\r\\nelement.parametros.sort((a, b) => b - a);\\r\\nfor (let i = 0; i < element.parametros.length; i++) {\\r\\n    var mulinf = parseInt(element.parametros[i] / 10) * 10;\\r\\n    var diferencia = element.parametros[i] - mulinf;\\r\\n    var adicion = 0;\\r\\n    if (element.parametros[i] <= 97) {\\r\\n        if (diferencia >= 4 && diferencia < 8) {\\r\\n            adicion = 10;\\r\\n        } else if (diferencia >= 8) {\\r\\n            adicion = 15;\\r\\n        } else {\\r\\n            adicion = 5;\\r\\n        }\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[0] - 20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) {\\r\\n        adicion = element.maximos_p[0] - mulinf;\\r\\n        pMaximo = true;\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[1] - 20) && element.parametros[i] <= element.maximos_p[1]) {\\r\\n        adicion = element.maximos_p[1] - mulinf;\\r\\n    } else {\\r\\n        if (diferencia <= 8) {\\r\\n            adicion = 10;\\r\\n        } else {\\r\\n            adicion = 15;\\r\\n        }\\r\\n    }\\r\\n    pfinales[i] = (mulinf + adicion) / 100;\\r\\n}\\r\\nelement.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2));\\r\\nelement.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":2000,"parametros":[20,20],"cantidad_item":1,"cantidad":0.06}],"cambio":"N","esCambio":false,"id_grupo":6,"id_inv_suc":"17","id_inventario":"20","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":{},"codigo":"0016","descripcion":"ESPEJO ENMARCADO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","costo_promedio":"0.00","vr_venta":"2000.00","sub_total":7900,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":7900,"iva":0,"vr_iva":0,"total":7900,"parametros":[20,20],"formula":"var pCuadro = element.parametros; var sub_total = 0; var cadena = false; var poliuretano = false; if (element.id_inventario == 34) { cadena = true; } if (element.id_inventario == 27 || element.id_inventario == 28 || element.id_inventario == 29 || element.id_inventario == 30 || element.id_inventario == 39 || element.id_inventario == 40 || element.id_inventario == 41 || element.id_inventario == 42) { poliuretano = true; } const fondo = element.Componentes.find((componente) => parseInt(componente.id_inventario) === 15 ? true : false); element.Componentes.forEach((element) => { element.sub_total = 0; element.parametros = []; if (fondo) { element.parametros.push(pCuadro[0] + 8); element.parametros.push(pCuadro[1] + 8); } else { element.parametros.push(pCuadro[0]); element.parametros.push(pCuadro[1]); } element.cantidad_item = 0; if (element.id_inventario == 2 || element.id_inventario == 19 || element.id_inventario == 18) { element.cantidad_item = 1; } if (element.id_inventario == 9 || element.id_inventario == 22) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 30, 10).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 26 || element.id_inventario == 25) { let p = [element.parametros[0], element.parametros[0], element.parametros[1], element.parametros[1]]; element.cantidad_item = combinatoria.mejorCorteLineal(p, true, element.maximos_p, 40, 18).mejorOpcion.suma_final; element.cantidad_item = parseFloat((element.cantidad_item / 100).toFixed(2)); } if (element.id_inventario == 10 || element.id_inventario == 33) { element.cantidad_item = 4; } if (element.id_inventario == 32) { element.cantidad_item = parseFloat(((element.parametros[0] / 100) * 2 + (element.parametros[1] / 100) * 2).toFixed(2)); } if ((element.parametros[0] >= 50 && element.id_inventario == 13 && !poliuretano) || (cadena && element.id_inventario == 13)) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } if ((element.parametros[0] < 50 && element.id_inventario == 14) || (poliuretano && element.id_inventario == 14)) { element.cantidad_item = 1; if (poliuretano && element.parametros[0] >= 50) { element.cantidad_item = 2; } } if (element.parametros[0] >= 50 && element.id_inventario == 12) { element.cantidad_item = 1; } if (element.parametros[0] < 50 && element.id_inventario == 11) { element.cantidad_item = 1; } if (element.id_inventario == 15) { element.cantidad_item = 1; } if (element.id_inventario == 36) { element.cantidad_item = 2; } if (cadena && element.id_inventario == 13) { element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2); } eval(element.formula); sub_total += element.sub_total;\\r\\n\\r\\n});\\r\\n\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * sub_total + parseFloat(element.vr_venta * element.cantidad_item)).toFixed(2)); element.sub_total = parseFloat((Math.ceil(element.sub_total / 100) * 100).toFixed(2));"}]	14300.00	6900.00	0.00	0.0	\N	2020-07-18 17:19:12-05	FAC-2020-34
115	1	4	{"sub_total":1700,"vr_descuento":0,"vr_antes_iva":1700,"vr_iva":0,"total":1700,"cantidad_items":1,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"S","esCambio":false,"id_grupo":1,"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"id_formula":1,"n_parametros":2,"nesecita_p":"S","maximos_p":[260,180],"codigo":"0001","descripcion":"VIDRIO CLARO 3 MM","cantidad_item":1,"cantidad":0.09,"unidad":"M2","vr_venta_domicilio":"24000.00","vr_venta_local":"18000.00","costo_promedio":"15000.00","vr_venta":"18000.00","sub_total":1700,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":1700,"iva":0,"vr_iva":0,"total":1700,"parametros":[30,20],"formula":"var pfinales = [null, null];\\r\\nvar pMaximo = false;\\r\\nelement.parametros.sort((a, b) => b - a);\\r\\nfor (let i = 0; i < element.parametros.length; i++) {\\r\\n    var mulinf = parseInt(element.parametros[i] / 10) * 10;\\r\\n    var diferencia = element.parametros[i] - mulinf;\\r\\n    var adicion = 0;\\r\\n    if (element.parametros[i] <= 97) {\\r\\n        if (diferencia >= 4 && diferencia < 8) {\\r\\n            adicion = 10;\\r\\n        } else if (diferencia >= 8) {\\r\\n            adicion = 15;\\r\\n        } else {\\r\\n            adicion = 5;\\r\\n        }\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[0] - 20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) {\\r\\n        adicion = element.maximos_p[0] - mulinf;\\r\\n        pMaximo = true;\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[1] - 20) && element.parametros[i] <= element.maximos_p[1]) {\\r\\n        adicion = element.maximos_p[1] - mulinf;\\r\\n    } else {\\r\\n        if (diferencia <= 8) {\\r\\n            adicion = 10;\\r\\n        } else {\\r\\n            adicion = 15;\\r\\n        }\\r\\n    }\\r\\n    pfinales[i] = (mulinf + adicion) / 100;\\r\\n}\\r\\nelement.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2));\\r\\nelement.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));"}]	1700.00	1700.00	0.00	0.0	\N	2020-07-21 15:34:03-05	COT-2020-8
116	1	4	{"sub_total":1700,"vr_descuento":170,"vr_antes_iva":11530,"vr_iva":0,"total":11530,"cantidad_items":1,"vr_transporte_item":10000,"ajuste_transporte":0,"transporte":10000}	[{"Componentes":[],"cambio":"S","esCambio":false,"id_grupo":1,"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"id_formula":1,"n_parametros":2,"nesecita_p":"S","maximos_p":[260,180],"codigo":"0001","descripcion":"VIDRIO CLARO 3 MM","cantidad_item":1,"cantidad":0.09,"unidad":"M2","vr_venta_domicilio":"24000.00","vr_venta_local":"18000.00","costo_promedio":"15000.00","vr_venta":"18000.00","sub_total":1700,"descuento":0,"vr_descuento":170,"vr_transporte":10000,"vr_antes_iva":11530,"iva":0,"vr_iva":0,"total":11530,"parametros":[30,20],"formula":"var pfinales = [null, null];\\r\\nvar pMaximo = false;\\r\\nelement.parametros.sort((a, b) => b - a);\\r\\nfor (let i = 0; i < element.parametros.length; i++) {\\r\\n    var mulinf = parseInt(element.parametros[i] / 10) * 10;\\r\\n    var diferencia = element.parametros[i] - mulinf;\\r\\n    var adicion = 0;\\r\\n    if (element.parametros[i] <= 97) {\\r\\n        if (diferencia >= 4 && diferencia < 8) {\\r\\n            adicion = 10;\\r\\n        } else if (diferencia >= 8) {\\r\\n            adicion = 15;\\r\\n        } else {\\r\\n            adicion = 5;\\r\\n        }\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[0] - 20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) {\\r\\n        adicion = element.maximos_p[0] - mulinf;\\r\\n        pMaximo = true;\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[1] - 20) && element.parametros[i] <= element.maximos_p[1]) {\\r\\n        adicion = element.maximos_p[1] - mulinf;\\r\\n    } else {\\r\\n        if (diferencia <= 8) {\\r\\n            adicion = 10;\\r\\n        } else {\\r\\n            adicion = 15;\\r\\n        }\\r\\n    }\\r\\n    pfinales[i] = (mulinf + adicion) / 100;\\r\\n}\\r\\nelement.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2));\\r\\nelement.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));"}]	11530.00	11530.00	10000.00	10.0	\N	2020-07-21 15:59:23-05	COT-2020-9
112	1	2	{"sub_total":1700,"vr_descuento":85,"vr_antes_iva":11615,"vr_iva":0,"total":11615,"cantidad_items":1,"vr_transporte_item":10000,"ajuste_transporte":0,"transporte":10000}	[{"Componentes":[],"cambio":"S","esCambio":false,"id_grupo":1,"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"id_formula":1,"n_parametros":2,"nesecita_p":"S","maximos_p":[260,180],"codigo":"0001","descripcion":"VIDRIO CLARO 3 MM","cantidad_item":1,"cantidad":0.09,"unidad":"M2","vr_venta_domicilio":"24000.00","vr_venta_local":"18000.00","costo_promedio":"15000.00","vr_venta":"18000.00","sub_total":1700,"descuento":0,"vr_descuento":85,"vr_transporte":10000,"vr_antes_iva":11615,"iva":0,"vr_iva":0,"total":11615,"parametros":[30,20],"formula":"var pfinales = [null, null];\\r\\nvar pMaximo = false;\\r\\nelement.parametros.sort((a, b) => b - a);\\r\\nfor (let i = 0; i < element.parametros.length; i++) {\\r\\n    var mulinf = parseInt(element.parametros[i] / 10) * 10;\\r\\n    var diferencia = element.parametros[i] - mulinf;\\r\\n    var adicion = 0;\\r\\n    if (element.parametros[i] <= 97) {\\r\\n        if (diferencia >= 4 && diferencia < 8) {\\r\\n            adicion = 10;\\r\\n        } else if (diferencia >= 8) {\\r\\n            adicion = 15;\\r\\n        } else {\\r\\n            adicion = 5;\\r\\n        }\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[0] - 20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) {\\r\\n        adicion = element.maximos_p[0] - mulinf;\\r\\n        pMaximo = true;\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[1] - 20) && element.parametros[i] <= element.maximos_p[1]) {\\r\\n        adicion = element.maximos_p[1] - mulinf;\\r\\n    } else {\\r\\n        if (diferencia <= 8) {\\r\\n            adicion = 10;\\r\\n        } else {\\r\\n            adicion = 15;\\r\\n        }\\r\\n    }\\r\\n    pfinales[i] = (mulinf + adicion) / 100;\\r\\n}\\r\\nelement.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2));\\r\\nelement.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));"}]	11615.00	0.00	10000.00	5.0	\N	2020-07-21 15:23:57-05	FAC-2020-35
113	1	4	{"sub_total":1700,"vr_descuento":0,"vr_antes_iva":1700,"vr_iva":0,"total":1700,"cantidad_items":1,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"S","esCambio":false,"id_grupo":1,"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"id_formula":1,"n_parametros":2,"nesecita_p":"S","maximos_p":[260,180],"codigo":"0001","descripcion":"VIDRIO CLARO 3 MM","cantidad_item":1,"cantidad":0.09,"unidad":"M2","vr_venta_domicilio":"24000.00","vr_venta_local":"18000.00","costo_promedio":"15000.00","vr_venta":"18000.00","sub_total":1700,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":1700,"iva":0,"vr_iva":0,"total":1700,"parametros":[30,20],"formula":"var pfinales = [null, null];\\r\\nvar pMaximo = false;\\r\\nelement.parametros.sort((a, b) => b - a);\\r\\nfor (let i = 0; i < element.parametros.length; i++) {\\r\\n    var mulinf = parseInt(element.parametros[i] / 10) * 10;\\r\\n    var diferencia = element.parametros[i] - mulinf;\\r\\n    var adicion = 0;\\r\\n    if (element.parametros[i] <= 97) {\\r\\n        if (diferencia >= 4 && diferencia < 8) {\\r\\n            adicion = 10;\\r\\n        } else if (diferencia >= 8) {\\r\\n            adicion = 15;\\r\\n        } else {\\r\\n            adicion = 5;\\r\\n        }\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[0] - 20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) {\\r\\n        adicion = element.maximos_p[0] - mulinf;\\r\\n        pMaximo = true;\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[1] - 20) && element.parametros[i] <= element.maximos_p[1]) {\\r\\n        adicion = element.maximos_p[1] - mulinf;\\r\\n    } else {\\r\\n        if (diferencia <= 8) {\\r\\n            adicion = 10;\\r\\n        } else {\\r\\n            adicion = 15;\\r\\n        }\\r\\n    }\\r\\n    pfinales[i] = (mulinf + adicion) / 100;\\r\\n}\\r\\nelement.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2));\\r\\nelement.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));"}]	1700.00	1700.00	0.00	0.0	\N	2020-07-21 15:26:27-05	COT-2020-7
114	1	1	{"sub_total":1700,"vr_descuento":0,"vr_antes_iva":1700,"vr_iva":0,"total":1700,"cantidad_items":1,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"S","esCambio":false,"id_grupo":1,"id_inv_suc":"1","id_inventario":"2","id_sucursal":1,"id_formula":1,"n_parametros":2,"nesecita_p":"S","maximos_p":[260,180],"codigo":"0001","descripcion":"VIDRIO CLARO 3 MM","cantidad_item":1,"cantidad":0.09,"unidad":"M2","vr_venta_domicilio":"24000.00","vr_venta_local":"18000.00","costo_promedio":"15000.00","vr_venta":"18000.00","sub_total":1700,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":1700,"iva":0,"vr_iva":0,"total":1700,"parametros":[30,20],"formula":"var pfinales = [null, null];\\r\\nvar pMaximo = false;\\r\\nelement.parametros.sort((a, b) => b - a);\\r\\nfor (let i = 0; i < element.parametros.length; i++) {\\r\\n    var mulinf = parseInt(element.parametros[i] / 10) * 10;\\r\\n    var diferencia = element.parametros[i] - mulinf;\\r\\n    var adicion = 0;\\r\\n    if (element.parametros[i] <= 97) {\\r\\n        if (diferencia >= 4 && diferencia < 8) {\\r\\n            adicion = 10;\\r\\n        } else if (diferencia >= 8) {\\r\\n            adicion = 15;\\r\\n        } else {\\r\\n            adicion = 5;\\r\\n        }\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[0] - 20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) {\\r\\n        adicion = element.maximos_p[0] - mulinf;\\r\\n        pMaximo = true;\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[1] - 20) && element.parametros[i] <= element.maximos_p[1]) {\\r\\n        adicion = element.maximos_p[1] - mulinf;\\r\\n    } else {\\r\\n        if (diferencia <= 8) {\\r\\n            adicion = 10;\\r\\n        } else {\\r\\n            adicion = 15;\\r\\n        }\\r\\n    }\\r\\n    pfinales[i] = (mulinf + adicion) / 100;\\r\\n}\\r\\nelement.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2));\\r\\nelement.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));"}]	1700.00	0.00	0.00	0.0	\N	2020-07-21 15:26:55-05	FAC-2020-36
121	1	1	{"sub_total":8800,"vr_descuento":0,"vr_antes_iva":8800,"vr_iva":0,"total":8800,"cantidad_items":1,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[{"id_formula":3,"id_inventario":"9","maximos_p":[300],"InvInvSucs":[null],"id_inv_suc":"6","vr_venta":"3500.00","costo_promedio":"2333.34","seleccionar":"N","detalle":"detalle","seleccionado":true,"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":3850,"cantidad_item":1.1,"parametros":[20,30],"cantidad":1.1},{"id_formula":3,"id_inventario":"10","maximos_p":{},"InvInvSucs":[null],"id_inv_suc":"7","vr_venta":"200.00","costo_promedio":"100.00","seleccionar":"N","detalle":"detalle","seleccionado":true,"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":800,"cantidad_item":4,"parametros":[20,30],"cantidad":4},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[null],"id_inv_suc":"1","vr_venta":"18000.00","costo_promedio":"15000.00","seleccionar":"N","detalle":"detalle","seleccionado":true,"formula":"var pfinales = [null, null];\\r\\nvar pMaximo = false;\\r\\nelement.parametros.sort((a, b) => b - a);\\r\\nfor (let i = 0; i < element.parametros.length; i++) {\\r\\n    var mulinf = parseInt(element.parametros[i] / 10) * 10;\\r\\n    var diferencia = element.parametros[i] - mulinf;\\r\\n    var adicion = 0;\\r\\n    if (element.parametros[i] <= 97) {\\r\\n        if (diferencia >= 4 && diferencia < 8) {\\r\\n            adicion = 10;\\r\\n        } else if (diferencia >= 8) {\\r\\n            adicion = 15;\\r\\n        } else {\\r\\n            adicion = 5;\\r\\n        }\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[0] - 20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) {\\r\\n        adicion = element.maximos_p[0] - mulinf;\\r\\n        pMaximo = true;\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[1] - 20) && element.parametros[i] <= element.maximos_p[1]) {\\r\\n        adicion = element.maximos_p[1] - mulinf;\\r\\n    } else {\\r\\n        if (diferencia <= 8) {\\r\\n            adicion = 10;\\r\\n        } else {\\r\\n            adicion = 15;\\r\\n        }\\r\\n    }\\r\\n    pfinales[i] = (mulinf + adicion) / 100;\\r\\n}\\r\\nelement.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2));\\r\\nelement.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":1700,"cantidad_item":1,"parametros":[30,20],"cantidad":0.09},{"id_formula":5,"id_inventario":"11","maximos_p":{},"InvInvSucs":[null],"id_inv_suc":"8","vr_venta":"3500.00","costo_promedio":"3174.61","seleccionar":"N","detalle":"detalle","seleccionado":true,"formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":210,"cantidad_item":1,"parametros":[20,30],"cantidad":0.06},{"id_formula":5,"id_inventario":"12","maximos_p":{},"InvInvSucs":[null],"id_inv_suc":"9","vr_venta":"4000.00","costo_promedio":"3571.43","seleccionar":"N","detalle":"detalle","seleccionado":true,"formula":"element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));","sub_total":0,"cantidad_item":0,"parametros":[20,30],"cantidad":0.06},{"id_formula":3,"id_inventario":"13","maximos_p":{},"InvInvSucs":[null],"id_inv_suc":"10","vr_venta":"2600.00","costo_promedio":"1600.00","seleccionar":"N","detalle":"detalle","seleccionado":true,"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"cantidad_item":0,"parametros":[20,30],"cantidad":0},{"id_formula":3,"id_inventario":"14","maximos_p":{},"InvInvSucs":[null],"id_inv_suc":"11","vr_venta":"200.00","costo_promedio":"100.00","seleccionar":"N","detalle":"detalle","seleccionado":true,"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":200,"cantidad_item":1,"parametros":[20,30],"cantidad":1},{"id_formula":3,"id_inventario":"17","maximos_p":{},"InvInvSucs":[null],"id_inv_suc":"14","vr_venta":"300.00","costo_promedio":"200.00","seleccionar":"N","detalle":"detalle","seleccionado":true,"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":0,"cantidad_item":0,"parametros":[20,30],"cantidad":0}],"cambio":"S","esCambio":false,"id_grupo":2,"id_inv_suc":"5","id_inventario":"8","id_sucursal":1,"id_formula":6,"n_parametros":2,"nesecita_p":"S","maximos_p":[300,300],"codigo":"0003","descripcion":"CUADRO SIN FONDO","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"2000.00","vr_venta_local":"2000.00","costo_promedio":"0.00","vr_venta":"2000.00","sub_total":8800,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":8800,"iva":0,"vr_iva":0,"total":8800,"parametros":[20,30],"formula":"var pCuadro = element.parametros;\\r\\nvar sub_total = 0;\\r\\nvar cadena = false;\\r\\nvar espejo = false;\\r\\nvar accesorio = null;\\r\\n/**\\r\\n * determinar si es un espejo con cadena\\r\\n */\\r\\nif (element.id_inventario == 34) {\\r\\n  cadena = true;\\r\\n}\\r\\nif (element.id_inventario == 20) {\\r\\n  espejo = true;\\r\\n}\\r\\n/**\\r\\n * determinar si es un cuadro de ploliuretano\\r\\n */\\r\\n/* if (\\r\\n  element.id_inventario == 27 ||\\r\\n  element.id_inventario == 28 ||\\r\\n  element.id_inventario == 29 ||\\r\\n  element.id_inventario == 30 ||\\r\\n  element.id_inventario == 39 ||\\r\\n  element.id_inventario == 40 ||\\r\\n  element.id_inventario == 41 ||\\r\\n  element.id_inventario == 42\\r\\n) {\\r\\n  poliuretanog = true;\\r\\n} */\\r\\n/**\\r\\n * determinar si es poliuretano gruego\\r\\n */\\r\\nconst poliuretano = element.Componentes.find((componente) =>\\r\\n  parseInt(componente.id_inventario) === 25 || parseInt(componente.id_inventario) === 26 ? true : false\\r\\n);\\r\\nconst poliuretanog = element.Componentes.find((componente) =>\\r\\n  parseInt(componente.id_inventario) === 25 ? true : false\\r\\n);\\r\\n/**\\r\\n * determinar si es tiene fondo\\r\\n */\\r\\nconst fondo = element.Componentes.find((componente) =>\\r\\n  parseInt(componente.id_inventario) === 15 ? true : false\\r\\n);\\r\\nelement.Componentes.forEach((element) => {\\r\\n  element.sub_total = 0;\\r\\n  element.cantidad_item = 0;\\r\\n  element.parametros = [];\\r\\n  /**\\r\\n   * si tiene fondo se suma 8 cm a cada uno de los lados del  cuadro\\r\\n   * de lo contrario no se hace nada y se asignan los parametros\\r\\n   * al componente en ambos casos.\\r\\n   */\\r\\n  if (fondo) {\\r\\n    element.parametros.push(pCuadro[0] + 8);\\r\\n    element.parametros.push(pCuadro[1] + 8);\\r\\n  } else {\\r\\n    element.parametros.push(pCuadro[0]);\\r\\n    element.parametros.push(pCuadro[1]);\\r\\n  }\\r\\n  \\r\\n  /**\\r\\n   * Se determina la cantidad de espejo\\r\\n   * vidrio o antireflejo, el calculo de su \\r\\n   * area se hace con la respectiva formula\\r\\n   */\\r\\n  if (\\r\\n    element.id_inventario == 2 ||\\r\\n    element.id_inventario == 19 ||\\r\\n    element.id_inventario == 18\\r\\n  ) {\\r\\n    element.cantidad_item = 1;\\r\\n  }\\r\\n  /**\\r\\n   * se calcula los metros de moldura en aluminio\\r\\n   * que tiene el cuadro teniendo en cuenta el mejor\\r\\n   * corte, con 30 cm como parametro de perdida y \\r\\n   * 10 cm como parametro de desperdicio\\r\\n   */\\r\\n  if (element.id_inventario == 9 || element.id_inventario == 22) {\\r\\n    let p = [\\r\\n      element.parametros[0],\\r\\n      element.parametros[0],\\r\\n      element.parametros[1],\\r\\n      element.parametros[1],\\r\\n    ];\\r\\n    element.cantidad_item = combinatoria.mejorCorteLineal(\\r\\n      p,\\r\\n      true,\\r\\n      element.maximos_p,\\r\\n      30,\\r\\n      10\\r\\n    ).mejorOpcion.suma_final;\\r\\n    element.cantidad_item = parseFloat(\\r\\n      (element.cantidad_item / 100).toFixed(2)\\r\\n    );\\r\\n  }\\r\\n  /**\\r\\n   * se calcula los metros de moldura en poliuretano\\r\\n   * que tiene el cuadro teniendo en cuenta el mejor\\r\\n   * corte, con 40 cm como parametro de perdida y \\r\\n   * 18 cm como parametro de desperdicio\\r\\n   */\\r\\n  if (element.id_inventario == 26 || element.id_inventario == 25) {\\r\\n    let p = [\\r\\n      element.parametros[0],\\r\\n      element.parametros[0],\\r\\n      element.parametros[1],\\r\\n      element.parametros[1],\\r\\n    ];\\r\\n    element.cantidad_item = combinatoria.mejorCorteLineal(\\r\\n      p,\\r\\n      true,\\r\\n      element.maximos_p,\\r\\n      40,\\r\\n      18\\r\\n    ).mejorOpcion.suma_final;\\r\\n    element.cantidad_item = parseFloat(\\r\\n      (element.cantidad_item / 100).toFixed(2)\\r\\n    );\\r\\n  }\\r\\n\\r\\n  if(element.id_inventario == 59){\\r\\n    element.cantidad_item=(element.parametros[0]+6)*2+(element.parametros[1]+6)*2\\r\\n    element.cantidad_item = parseFloat(\\r\\n      (element.cantidad_item / 100).toFixed(2)\\r\\n    );\\r\\n  }\\r\\n  /**\\r\\n   * Se determina la cantidad de escuadras\\r\\n   * que lleva el cuadro\\r\\n   */\\r\\n  if (element.id_inventario == 10 || element.id_inventario == 33) {\\r\\n    element.cantidad_item = 4;\\r\\n  }\\r\\n  /**\\r\\n   * Se determina la cantidad de  m de empaque\\r\\n   * que tiene el espejo enmarcado en nave\\r\\n   */\\r\\n  if (element.id_inventario == 32) {\\r\\n    element.cantidad_item = parseFloat(\\r\\n      (\\r\\n        (element.parametros[0] / 100) * 2 +\\r\\n        (element.parametros[1] / 100) * 2\\r\\n      ).toFixed(2)\\r\\n    );\\r\\n  }\\r\\n  /**\\r\\n   * Se determina la cantidad de cerruchos que lleva el cuadro\\r\\n   */\\r\\n  if(element.id_inventario == 14) {\\r\\n    let p=((100-(element.parametros[0]))/element.parametros[1])*100;\\r\\n    if(p>75){\\r\\n      element.cantidad_item=1;\\r\\n      accesorio=\\"U\\"\\r\\n    }else if(p>60 && p<=75){\\r\\n      element.cantidad_item=2;\\r\\n      accesorio=\\"D\\"\\r\\n\\r\\n    }else{\\r\\n      if(poliuretanog){\\r\\n        element.cantidad_item=2;\\r\\n        accesorio=\\"D\\"\\r\\n      }      \\r\\n    }        \\r\\n  }\\r\\n/*   if (element.id_inventario == 14) {\\r\\n    if (\\r\\n      ((element.parametros[0] >= 40 &&\\r\\n        element.parametros[0] < 50 &&\\r\\n        element.parametros[1] >= 90 &&\\r\\n        element.parametros[1] < 100) ||\\r\\n        (element.parametros[0] >= 50 &&\\r\\n          element.parametros[0] < 100 &&\\r\\n          element.parametros[1] >= 70)) || (element.parametros[0] >= 70 && element.parametros[1] < 100) &&\\r\\n      element.id_inventario == 14\\r\\n    ) {\\r\\n      element.cantidad_item = 2;\\r\\n    } else if (element.parametros[0] >= 40 && element.parametros[1] >= 100) {\\r\\n      element.cantidad_item = 0;\\r\\n      if (poliuretano) {\\r\\n        element.cantidad_item = 2;\\r\\n      }\\r\\n    } else {\\r\\n      element.cantidad_item = 1;\\r\\n    }\\r\\n  } */\\r\\n  /**\\r\\n   * Se determina la cantidad de cadena en metros que lleva el cuadro\\r\\n   */\\r\\n  if (element.id_inventario == 13) {\\r\\n    let p=((100-(element.parametros[0]))/element.parametros[1])*100;\\r\\n    if(p<=60 || cadena){\\r\\n      element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2);\\r\\n      accesorio=\\"C\\"\\r\\n    }\\r\\n    /* if (element.parametros[0] >= 40 && element.parametros[1] >= 100) {\\r\\n      element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2);\\r\\n    } else if (cadena) {\\r\\n      element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2);\\r\\n    } */\\r\\n  }\\r\\n  /**\\r\\n   * se determina la cantidad de carton blanco que lleva el cuadro\\r\\n   * el calculo de su area se hace con la respectiva formula del\\r\\n   * componente\\r\\n   */\\r\\n  if(element.id_inventario == 12){\\r\\n    let p=((100-(element.parametros[0]))/element.parametros[1])*100;\\r\\n    if(p<=60){\\r\\n      element.cantidad_item = 1;\\r\\n      \\r\\n    }\\r\\n  }\\r\\n  /* if (\\r\\n    element.id_inventario == 12 &&\\r\\n    element.parametros[0] >= 40 &&\\r\\n    element.parametros[1] >= 100\\r\\n  ) {\\r\\n    element.cantidad_item = (\\r\\n      element.cantidad_item = 1 \\r\\n    ).toFixed(2);\\r\\n  } */\\r\\n  /**\\r\\n   * se determina la cantidad de carton craft que lleva el cuadro\\r\\n   * el calculo de su area se hace con la respectiva formula del\\r\\n   * componente\\r\\n   */\\r\\n  if(element.id_inventario == 11){\\r\\n    let p=((100-(element.parametros[0]))/element.parametros[1])*100;\\r\\n    if(p>60 || espejo){\\r\\n      element.cantidad_item = 1;\\r\\n    }\\r\\n  }\\r\\n  /* if (\\r\\n    (element.id_inventario == 11 &&\\r\\n    !(element.parametros[0] >= 40 && element.parametros[1] >= 100)) || (element.id_inventario == 11 && espejo)\\r\\n  ) {\\r\\n    element.cantidad_item = (\\r\\n      element.cantidad_item = 1 \\r\\n    ).toFixed(2);\\r\\n  } */\\r\\n  /**\\r\\n   * se determina la cantidad de fondo que lleva el cuadro\\r\\n   * el calculo de su area se hace con la respectiva formula del\\r\\n   * componente\\r\\n   */\\r\\n  if (element.id_inventario == 15) {    \\r\\n      element.cantidad_item = 1    \\r\\n  }\\r\\n  /**\\r\\n   * Se determina la cantidad de colgaderas\\r\\n   * que lleva el cuadro\\r\\n   */\\r\\n  if(element.id_inventario == 17){\\r\\n    let p=((100-(element.parametros[0]))/element.parametros[1])*100;\\r\\n    if(p<=60){\\r\\n      element.cantidad_item = 2;\\r\\n    }\\r\\n  }\\r\\n  /* if (\\r\\n    element.id_inventario == 17 &&\\r\\n    element.parametros[0] >= 40 &&\\r\\n    element.parametros[1] >= 100 &&\\r\\n    !poliuretano\\r\\n  ) {\\r\\n    element.cantidad_item = 2;\\r\\n  } */\\r\\n  /**\\r\\n   * Se determina la cantidad de botones \\r\\n   * que lleva el cuadro\\r\\n   */\\r\\n  if (element.id_inventario == 36) {\\r\\n    element.cantidad_item = 2;\\r\\n  }\\r\\n  /**\\r\\n   * Se determina la cantidad de cinta papel que\\r\\n   * tiene el cuadro \\r\\n   */\\r\\n  if (element.id_inventario == 58) {\\r\\n    element.cantidad_item = ((element.parametros[0] / 100)*2+(element.parametros[1] / 100)*2).toFixed(2);    \\r\\n  }  \\r\\n  eval(element.formula);\\r\\n  sub_total += element.sub_total;\\r\\n});\\r\\nelement.accesorio=accesorio;\\r\\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2));\\r\\nif(poliuretano && accesorio=='D' || accesorio=='C'){\\r\\n  element.sub_total = parseFloat(\\r\\n    (\\r\\n      element.cantidad_item * sub_total +\\r\\n      parseFloat(element.vr_venta*2*element.cantidad_item)\\r\\n    ).toFixed(2)\\r\\n  );\\r\\n}else{\\r\\n  element.sub_total = parseFloat(\\r\\n    (\\r\\n      element.cantidad_item * sub_total +\\r\\n      parseFloat(element.vr_venta * element.cantidad_item)\\r\\n    ).toFixed(2)\\r\\n  );\\r\\n}\\r\\n\\r\\n\\r\\nelement.sub_total = parseFloat(\\r\\n  (Math.ceil(element.sub_total / 100) * 100).toFixed(2)\\r\\n);\\r\\n","accesorio":"U"}]	8800.00	0.00	0.00	0.0	\N	2020-09-18 13:20:11-05	FAC-2020-41
119	1	3	{"sub_total":203100,"vr_descuento":0,"vr_antes_iva":203100,"vr_iva":0,"total":203100,"cantidad_items":1,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[{"id_formula":3,"id_inventario":"47","maximos_p":[300,600],"InvInvSucs":[null],"id_inv_suc":"38","vr_venta":"8500.00","costo_promedio":"0.00","seleccionar":"N","detalle":"detalle","seleccionado":true,"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":12750,"cantidad_item":1.5,"parametros":[120,140],"cantidad":1.5},{"id_formula":3,"id_inventario":"48","maximos_p":[300,600],"InvInvSucs":[null],"id_inv_suc":"39","vr_venta":"8100.00","costo_promedio":"0.00","seleccionar":"N","detalle":"detalle","seleccionado":true,"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":12150,"cantidad_item":1.5,"parametros":[120,140],"cantidad":1.5},{"id_formula":3,"id_inventario":"49","maximos_p":[300,600],"InvInvSucs":[null],"id_inv_suc":"40","vr_venta":"8200.00","costo_promedio":"0.00","seleccionar":"N","detalle":"detalle","seleccionado":true,"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":24600,"cantidad_item":3,"parametros":[120,140],"cantidad":3},{"id_formula":3,"id_inventario":"50","maximos_p":[300,600],"InvInvSucs":[null],"id_inv_suc":"41","vr_venta":"8300.00","costo_promedio":"0.00","seleccionar":"N","detalle":"detalle","seleccionado":true,"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":24900,"cantidad_item":3,"parametros":[120,140],"cantidad":3},{"id_formula":3,"id_inventario":"51","maximos_p":[300,600],"InvInvSucs":[null],"id_inv_suc":"42","vr_venta":"8700.00","costo_promedio":"0.00","seleccionar":"N","detalle":"detalle","seleccionado":true,"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":26100,"cantidad_item":3,"parametros":[120,140],"cantidad":3},{"id_formula":3,"id_inventario":"52","maximos_p":[300,600],"InvInvSucs":[null],"id_inv_suc":"43","vr_venta":"6000.00","costo_promedio":"0.00","seleccionar":"N","detalle":"detalle","seleccionado":true,"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":9000,"cantidad_item":1.5,"parametros":[120,140],"cantidad":1.5},{"id_formula":3,"id_inventario":"53","maximos_p":[300,600],"InvInvSucs":[null],"id_inv_suc":"44","vr_venta":"8500.00","costo_promedio":"0.00","seleccionar":"N","detalle":"detalle","seleccionado":true,"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":12750,"cantidad_item":1.5,"parametros":[120,140],"cantidad":1.5},{"id_formula":3,"id_inventario":"57","maximos_p":[300,600],"InvInvSucs":[null],"id_inv_suc":"48","vr_venta":"4500.00","costo_promedio":"0.00","seleccionar":"N","detalle":"detalle","seleccionado":true,"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":4500,"cantidad_item":1,"parametros":[120,140],"cantidad":1},{"id_formula":3,"id_inventario":"56","maximos_p":[300,600],"InvInvSucs":[null],"id_inv_suc":"47","vr_venta":"4500.00","costo_promedio":"0.00","seleccionar":"N","detalle":"detalle","seleccionado":true,"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":9000,"cantidad_item":2,"parametros":[120,140],"cantidad":2},{"id_formula":3,"id_inventario":"32","maximos_p":{},"InvInvSucs":[null],"id_inv_suc":"27","vr_venta":"1100.00","costo_promedio":"0.00","seleccionar":"N","detalle":"detalle","seleccionado":true,"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));","sub_total":8800,"cantidad_item":8,"parametros":[120,140],"cantidad":8},{"id_formula":1,"id_inventario":"68","maximos_p":[321,214],"InvInvSucs":[null],"id_inv_suc":"59","vr_venta":"45000.00","costo_promedio":"0.00","seleccionar":"S","detalle":"V COLOR","seleccionado":false,"formula":"var pfinales = [null, null];\\r\\nvar pMaximo = false;\\r\\nelement.parametros.sort((a, b) => b - a);\\r\\nfor (let i = 0; i < element.parametros.length; i++) {\\r\\n    var mulinf = parseInt(element.parametros[i] / 10) * 10;\\r\\n    var diferencia = element.parametros[i] - mulinf;\\r\\n    var adicion = 0;\\r\\n    if (element.parametros[i] <= 97) {\\r\\n        if (diferencia >= 4 && diferencia < 8) {\\r\\n            adicion = 10;\\r\\n        } else if (diferencia >= 8) {\\r\\n            adicion = 15;\\r\\n        } else {\\r\\n            adicion = 5;\\r\\n        }\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[0] - 20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) {\\r\\n        adicion = element.maximos_p[0] - mulinf;\\r\\n        pMaximo = true;\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[1] - 20) && element.parametros[i] <= element.maximos_p[1]) {\\r\\n        adicion = element.maximos_p[1] - mulinf;\\r\\n    } else {\\r\\n        if (diferencia <= 8) {\\r\\n            adicion = 10;\\r\\n        } else {\\r\\n            adicion = 15;\\r\\n        }\\r\\n    }\\r\\n    pfinales[i] = (mulinf + adicion) / 100;\\r\\n}\\r\\nelement.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2));\\r\\nelement.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":0,"cantidad_item":0,"parametros":[140,120],"cantidad":1.95},{"id_formula":1,"id_inventario":"6","maximos_p":[330,220],"InvInvSucs":[null],"id_inv_suc":"4","vr_venta":"24000.00","costo_promedio":"18000.00","seleccionar":"S","detalle":"V 4MM","seleccionado":false,"formula":"var pfinales = [null, null];\\r\\nvar pMaximo = false;\\r\\nelement.parametros.sort((a, b) => b - a);\\r\\nfor (let i = 0; i < element.parametros.length; i++) {\\r\\n    var mulinf = parseInt(element.parametros[i] / 10) * 10;\\r\\n    var diferencia = element.parametros[i] - mulinf;\\r\\n    var adicion = 0;\\r\\n    if (element.parametros[i] <= 97) {\\r\\n        if (diferencia >= 4 && diferencia < 8) {\\r\\n            adicion = 10;\\r\\n        } else if (diferencia >= 8) {\\r\\n            adicion = 15;\\r\\n        } else {\\r\\n            adicion = 5;\\r\\n        }\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[0] - 20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) {\\r\\n        adicion = element.maximos_p[0] - mulinf;\\r\\n        pMaximo = true;\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[1] - 20) && element.parametros[i] <= element.maximos_p[1]) {\\r\\n        adicion = element.maximos_p[1] - mulinf;\\r\\n    } else {\\r\\n        if (diferencia <= 8) {\\r\\n            adicion = 10;\\r\\n        } else {\\r\\n            adicion = 15;\\r\\n        }\\r\\n    }\\r\\n    pfinales[i] = (mulinf + adicion) / 100;\\r\\n}\\r\\nelement.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2));\\r\\nelement.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":0,"cantidad_item":0,"parametros":[140,120],"cantidad":1.95},{"id_formula":1,"id_inventario":"2","maximos_p":[260,180],"InvInvSucs":[null],"id_inv_suc":"1","vr_venta":"18000.00","costo_promedio":"15000.00","seleccionar":"S","detalle":"V 3MM","seleccionado":false,"formula":"var pfinales = [null, null];\\r\\nvar pMaximo = false;\\r\\nelement.parametros.sort((a, b) => b - a);\\r\\nfor (let i = 0; i < element.parametros.length; i++) {\\r\\n    var mulinf = parseInt(element.parametros[i] / 10) * 10;\\r\\n    var diferencia = element.parametros[i] - mulinf;\\r\\n    var adicion = 0;\\r\\n    if (element.parametros[i] <= 97) {\\r\\n        if (diferencia >= 4 && diferencia < 8) {\\r\\n            adicion = 10;\\r\\n        } else if (diferencia >= 8) {\\r\\n            adicion = 15;\\r\\n        } else {\\r\\n            adicion = 5;\\r\\n        }\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[0] - 20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) {\\r\\n        adicion = element.maximos_p[0] - mulinf;\\r\\n        pMaximo = true;\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[1] - 20) && element.parametros[i] <= element.maximos_p[1]) {\\r\\n        adicion = element.maximos_p[1] - mulinf;\\r\\n    } else {\\r\\n        if (diferencia <= 8) {\\r\\n            adicion = 10;\\r\\n        } else {\\r\\n            adicion = 15;\\r\\n        }\\r\\n    }\\r\\n    pfinales[i] = (mulinf + adicion) / 100;\\r\\n}\\r\\nelement.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2));\\r\\nelement.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":0,"cantidad_item":0,"parametros":[140,120],"cantidad":1.95},{"id_formula":1,"id_inventario":"64","maximos_p":[321,214],"InvInvSucs":[null],"id_inv_suc":"55","vr_venta":"30000.00","costo_promedio":"0.00","seleccionar":"S","detalle":"V BRONCE 4MM","seleccionado":false,"formula":"var pfinales = [null, null];\\r\\nvar pMaximo = false;\\r\\nelement.parametros.sort((a, b) => b - a);\\r\\nfor (let i = 0; i < element.parametros.length; i++) {\\r\\n    var mulinf = parseInt(element.parametros[i] / 10) * 10;\\r\\n    var diferencia = element.parametros[i] - mulinf;\\r\\n    var adicion = 0;\\r\\n    if (element.parametros[i] <= 97) {\\r\\n        if (diferencia >= 4 && diferencia < 8) {\\r\\n            adicion = 10;\\r\\n        } else if (diferencia >= 8) {\\r\\n            adicion = 15;\\r\\n        } else {\\r\\n            adicion = 5;\\r\\n        }\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[0] - 20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) {\\r\\n        adicion = element.maximos_p[0] - mulinf;\\r\\n        pMaximo = true;\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[1] - 20) && element.parametros[i] <= element.maximos_p[1]) {\\r\\n        adicion = element.maximos_p[1] - mulinf;\\r\\n    } else {\\r\\n        if (diferencia <= 8) {\\r\\n            adicion = 10;\\r\\n        } else {\\r\\n            adicion = 15;\\r\\n        }\\r\\n    }\\r\\n    pfinales[i] = (mulinf + adicion) / 100;\\r\\n}\\r\\nelement.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2));\\r\\nelement.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":0,"cantidad_item":0,"parametros":[140,120],"cantidad":1.95},{"id_formula":1,"id_inventario":"65","maximos_p":[240,180],"InvInvSucs":[null],"id_inv_suc":"56","vr_venta":"30000.00","costo_promedio":"0.00","seleccionar":"S","detalle":"V GRABA 4MM","seleccionado":true,"formula":"var pfinales = [null, null];\\r\\nvar pMaximo = false;\\r\\nelement.parametros.sort((a, b) => b - a);\\r\\nfor (let i = 0; i < element.parametros.length; i++) {\\r\\n    var mulinf = parseInt(element.parametros[i] / 10) * 10;\\r\\n    var diferencia = element.parametros[i] - mulinf;\\r\\n    var adicion = 0;\\r\\n    if (element.parametros[i] <= 97) {\\r\\n        if (diferencia >= 4 && diferencia < 8) {\\r\\n            adicion = 10;\\r\\n        } else if (diferencia >= 8) {\\r\\n            adicion = 15;\\r\\n        } else {\\r\\n            adicion = 5;\\r\\n        }\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[0] - 20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) {\\r\\n        adicion = element.maximos_p[0] - mulinf;\\r\\n        pMaximo = true;\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[1] - 20) && element.parametros[i] <= element.maximos_p[1]) {\\r\\n        adicion = element.maximos_p[1] - mulinf;\\r\\n    } else {\\r\\n        if (diferencia <= 8) {\\r\\n            adicion = 10;\\r\\n        } else {\\r\\n            adicion = 15;\\r\\n        }\\r\\n    }\\r\\n    pfinales[i] = (mulinf + adicion) / 100;\\r\\n}\\r\\nelement.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2));\\r\\nelement.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":58500,"cantidad_item":1,"parametros":[140,120],"cantidad":1.95},{"id_formula":1,"id_inventario":"66","maximos_p":[330,240],"InvInvSucs":[null],"id_inv_suc":"57","vr_venta":"36000.00","costo_promedio":"0.00","seleccionar":"S","detalle":"V REF BRONCE 4MM","seleccionado":false,"formula":"var pfinales = [null, null];\\r\\nvar pMaximo = false;\\r\\nelement.parametros.sort((a, b) => b - a);\\r\\nfor (let i = 0; i < element.parametros.length; i++) {\\r\\n    var mulinf = parseInt(element.parametros[i] / 10) * 10;\\r\\n    var diferencia = element.parametros[i] - mulinf;\\r\\n    var adicion = 0;\\r\\n    if (element.parametros[i] <= 97) {\\r\\n        if (diferencia >= 4 && diferencia < 8) {\\r\\n            adicion = 10;\\r\\n        } else if (diferencia >= 8) {\\r\\n            adicion = 15;\\r\\n        } else {\\r\\n            adicion = 5;\\r\\n        }\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[0] - 20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) {\\r\\n        adicion = element.maximos_p[0] - mulinf;\\r\\n        pMaximo = true;\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[1] - 20) && element.parametros[i] <= element.maximos_p[1]) {\\r\\n        adicion = element.maximos_p[1] - mulinf;\\r\\n    } else {\\r\\n        if (diferencia <= 8) {\\r\\n            adicion = 10;\\r\\n        } else {\\r\\n            adicion = 15;\\r\\n        }\\r\\n    }\\r\\n    pfinales[i] = (mulinf + adicion) / 100;\\r\\n}\\r\\nelement.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2));\\r\\nelement.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":0,"cantidad_item":0,"parametros":[140,120],"cantidad":1.95},{"id_formula":1,"id_inventario":"67","maximos_p":[330,225],"InvInvSucs":[null],"id_inv_suc":"58","vr_venta":"37000.00","costo_promedio":"0.00","seleccionar":"S","detalle":"V REF AZUL 4MM","seleccionado":false,"formula":"var pfinales = [null, null];\\r\\nvar pMaximo = false;\\r\\nelement.parametros.sort((a, b) => b - a);\\r\\nfor (let i = 0; i < element.parametros.length; i++) {\\r\\n    var mulinf = parseInt(element.parametros[i] / 10) * 10;\\r\\n    var diferencia = element.parametros[i] - mulinf;\\r\\n    var adicion = 0;\\r\\n    if (element.parametros[i] <= 97) {\\r\\n        if (diferencia >= 4 && diferencia < 8) {\\r\\n            adicion = 10;\\r\\n        } else if (diferencia >= 8) {\\r\\n            adicion = 15;\\r\\n        } else {\\r\\n            adicion = 5;\\r\\n        }\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[0] - 20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) {\\r\\n        adicion = element.maximos_p[0] - mulinf;\\r\\n        pMaximo = true;\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[1] - 20) && element.parametros[i] <= element.maximos_p[1]) {\\r\\n        adicion = element.maximos_p[1] - mulinf;\\r\\n    } else {\\r\\n        if (diferencia <= 8) {\\r\\n            adicion = 10;\\r\\n        } else {\\r\\n            adicion = 15;\\r\\n        }\\r\\n    }\\r\\n    pfinales[i] = (mulinf + adicion) / 100;\\r\\n}\\r\\nelement.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2));\\r\\nelement.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));","sub_total":0,"cantidad_item":0,"parametros":[140,120],"cantidad":1.95}],"cambio":"N","esCambio":false,"id_grupo":22,"id_inv_suc":"53","id_inventario":"62","id_sucursal":1,"id_formula":13,"n_parametros":2,"nesecita_p":"S","maximos_p":{},"codigo":"744","descripcion":"VENTANA EN SISTEMA 744 NATURAL","cantidad_item":1,"cantidad":1,"unidad":"M2","vr_venta_domicilio":"0.00","vr_venta_local":"0.00","costo_promedio":"0.00","vr_venta":"0.00","sub_total":203100,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":203100,"iva":0,"vr_iva":0,"total":203100,"parametros":[120,140],"formula":"var parametros = element.parametros;\\r\\nvar subTotal = 0;\\r\\nvar addAccesorio =\\" \\"\\r\\nelement.Componentes.forEach((element) => {\\r\\n  element.sub_total = 0;\\r\\n  element.cantidad_item = 0;\\r\\n  element.parametros = [];\\r\\n  element.parametros.push(parametros[0]);\\r\\n  element.parametros.push(parametros[1]);\\r\\n  /**\\r\\n   * se calcula los metros de sillar y cabezalque que tiene la ventana\\r\\n   */\\r\\n  if (element.id_inventario == 47 || element.id_inventario == 48) {\\r\\n    if(element.parametros[0]<98){\\r\\n      element.cantidad_item = 1\\r\\n    }else if(element.parametros[0]>=98 && element.parametros[0]<148){\\r\\n      element.cantidad_item = 1.5\\r\\n    }else if(element.parametros[0]>=148 && element.parametros[0]<200){\\r\\n      element.cantidad_item = 2\\r\\n    }else if(element.parametros[0]>=200 && element.parametros[0]<295){\\r\\n      element.cantidad_item = 3\\r\\n    }else if(element.parametros[0]>=295 && element.parametros[0]<400){\\r\\n      element.cantidad_item = 4\\r\\n    }else if(element.parametros[0]>=400 && element.parametros[0]<=600){\\r\\n      element.cantidad_item = 6\\r\\n    }        \\r\\n  }\\r\\n  /**\\r\\n   * se calcula los metros de jamba, enganche y traslape que tiene la ventana\\r\\n   */\\r\\n  if (element.id_inventario == 49 || element.id_inventario == 50 || element.id_inventario == 51) {\\r\\n    if(element.parametros[1]<98){\\r\\n      element.cantidad_item = 1\\r\\n    }else if(element.parametros[1]*2>=98 && element.parametros[1]*2<148){\\r\\n      element.cantidad_item = 1.5\\r\\n    }else if(element.parametros[1]*2>=148 && element.parametros[1]*2<200){\\r\\n      element.cantidad_item = 2\\r\\n    }else if(element.parametros[1]*2>=200 && element.parametros[1]*2<295){\\r\\n      element.cantidad_item = 3\\r\\n    }else if(element.parametros[1]*2>=295 && element.parametros[1]*2<400){\\r\\n      element.cantidad_item = 4\\r\\n    }else if(element.parametros[1]*2>=400 && element.parametros[1]*2<=600){\\r\\n      element.cantidad_item = 6\\r\\n    }        \\r\\n  }\\r\\n    /**\\r\\n   * se calcula los metros de horizontal superior e inferior que tiene la ventana\\r\\n   */\\r\\n  if (element.id_inventario == 52 || element.id_inventario == 53) {\\r\\n    if(element.parametros[1]<98){\\r\\n      element.cantidad_item = 1\\r\\n    }else if(element.parametros[1]>=98 && element.parametros[1]<150){\\r\\n      element.cantidad_item = 1.5\\r\\n    }else if(element.parametros[1]>=150 && element.parametros[1]<200){\\r\\n      element.cantidad_item = 2\\r\\n    }else if(element.parametros[1]>=200 && element.parametros[1]<250){\\r\\n      element.cantidad_item = 2.5\\r\\n    }else if(element.parametros[1]>=250 && element.parametros[1]<300){\\r\\n      element.cantidad_item = 3\\r\\n    }else if(element.parametros[1]>=300 && element.parametros[1]<350){\\r\\n      element.cantidad_item = 3.5\\r\\n    }else if(element.parametros[1]>=350 && element.parametros[1]<400){\\r\\n      element.cantidad_item = 4\\r\\n    }else if(element.parametros[1]>=400 && element.parametros[1]<450){\\r\\n      element.cantidad_item = 4.5\\r\\n    }else if(element.parametros[1]>=450 && element.parametros[1]<500){\\r\\n      element.cantidad_item = 5\\r\\n    }else if(element.parametros[1]>=500 && element.parametros[1]<550){\\r\\n      element.cantidad_item = 5.5\\r\\n    }else if(element.parametros[1]>=550 && element.parametros[1]<=600){\\r\\n      element.cantidad_item = 6\\r\\n    }\\r\\n  }\\r\\n  /**\\r\\n   * Se determina la cantidad de seguros\\r\\n   */\\r\\n  if(element.id_inventario == 57){\\r\\n    element.cantidad_item=1\\r\\n  }\\r\\n  /**\\r\\n   * Se determina la cantidad de rodamientos\\r\\n   */\\r\\n  if(element.id_inventario == 56){\\r\\n    element.cantidad_item=2\\r\\n  }\\r\\n  /**\\r\\n   * Se determina la cantidad de m de empaque\\r\\n   * que tiene la ventana\\r\\n   */\\r\\n  if (element.id_inventario == 32) {\\r\\n    element.cantidad_item = \\r\\n    element.cantidad_item = parseFloat(\\r\\n      (\\r\\n        (element.parametros[0] / 100) * 2 +\\r\\n        (element.parametros[1] / 100) * 4 \\r\\n      ).toFixed(2)\\r\\n    );\\r\\n  }\\r\\n   /**\\r\\n   * Se determina la cantidad de \\r\\n   * vidrio o antireflejo, el calculo de su \\r\\n   * area se hace con la respectiva formula\\r\\n   */\\r\\n  if (\\r\\n    element.id_inventario == 2 ||\\r\\n    element.id_inventario == 6 ||\\r\\n    element.id_inventario==64 ||\\r\\n    element.id_inventario==65 ||\\r\\n    element.id_inventario==66 ||\\r\\n    element.id_inventario==67 ||\\r\\n    element.id_inventario==68 \\r\\n  ) {\\r\\n    if(element.seleccionado==true){\\r\\n      element.cantidad_item = 1;\\r\\n      addAccesorio+=element.detalle\\r\\n    }    \\r\\n  }\\r\\n  eval(element.formula);\\r\\n  subTotal += element.sub_total;\\r\\n});\\r\\nelement.accesorio=addAccesorio;\\r\\nsubTotal = parseFloat((Math.ceil(subTotal / 100) * 100).toFixed(2));\\r\\nelement.sub_total = parseFloat(\\r\\n  (\\r\\n    element.cantidad_item * subTotal +\\r\\n    parseFloat(element.vr_venta * element.cantidad_item)\\r\\n  ).toFixed(2)\\r\\n);\\r\\nelement.sub_total = parseFloat(\\r\\n  (Math.ceil(element.sub_total / 100) * 100).toFixed(2)\\r\\n);\\r\\n","accesorio":" V GRABA 4MM"}]	203100.00	93100.00	0.00	0.0	\N	2020-09-04 16:54:58-05	FAC-2020-39
122	2	4	{"sub_total":30800,"vr_descuento":0,"vr_antes_iva":30800,"vr_iva":0,"total":30800,"cantidad_items":2,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"S","esCambio":false,"id_grupo":1,"id_inv_suc":"4","id_inventario":"6","id_sucursal":1,"id_formula":1,"n_parametros":2,"nesecita_p":"S","maximos_p":[330,220],"codigo":"0002","descripcion":"VIDRIO CLARO 4 MM","cantidad_item":2,"cantidad":0.56,"unidad":"M2","vr_venta_domicilio":"34000.00","vr_venta_local":"27500.00","costo_promedio":"18000.00","vr_venta":"27500.00","sub_total":30800,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":30800,"iva":0,"vr_iva":0,"total":30800,"parametros":[70,70],"formula":"var pfinales = [null, null];\\r\\nvar pMaximo = false;\\r\\nelement.parametros.sort((a, b) => b - a);\\r\\nfor (let i = 0; i < element.parametros.length; i++) {\\r\\n    var mulinf = parseInt(element.parametros[i] / 10) * 10;\\r\\n    var diferencia = element.parametros[i] - mulinf;\\r\\n    var adicion = 0;\\r\\n    if (element.parametros[i] <= 97) {\\r\\n        if (diferencia >= 4 && diferencia < 8) {\\r\\n            adicion = 10;\\r\\n        } else if (diferencia >= 8) {\\r\\n            adicion = 15;\\r\\n        } else {\\r\\n            adicion = 5;\\r\\n        }\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[0] - 20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) {\\r\\n        adicion = element.maximos_p[0] - mulinf;\\r\\n        pMaximo = true;\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[1] - 20) && element.parametros[i] <= element.maximos_p[1]) {\\r\\n        adicion = element.maximos_p[1] - mulinf;\\r\\n    } else {\\r\\n        if (diferencia <= 8) {\\r\\n            adicion = 10;\\r\\n        } else {\\r\\n            adicion = 15;\\r\\n        }\\r\\n    }\\r\\n    pfinales[i] = (mulinf + adicion) / 100;\\r\\n}\\r\\nelement.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2));\\r\\nelement.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));"}]	30800.00	30800.00	0.00	0.0	\N	2022-02-21 20:21:27-05	COT-2022-10
123	2	4	{"sub_total":52200,"vr_descuento":0,"vr_antes_iva":52200,"vr_iva":0,"total":52200,"cantidad_items":4,"vr_transporte_item":0,"ajuste_transporte":0,"transporte":0}	[{"Componentes":[],"cambio":"S","esCambio":true,"id_grupo":1,"id_inv_suc":"4","id_inventario":"6","id_sucursal":1,"id_formula":1,"n_parametros":2,"nesecita_p":"S","maximos_p":[330,220],"codigo":"0002","descripcion":"VIDRIO CLARO 4 MM","cantidad_item":2,"cantidad":0.56,"unidad":"M2","vr_venta_domicilio":"34000.00","vr_venta_local":"27500.00","costo_promedio":"18000.00","vr_venta":"34000.00","sub_total":38200,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":38200,"iva":0,"vr_iva":0,"total":38200,"parametros":[70,70],"formula":"var pfinales = [null, null];\\r\\nvar pMaximo = false;\\r\\nelement.parametros.sort((a, b) => b - a);\\r\\nfor (let i = 0; i < element.parametros.length; i++) {\\r\\n    var mulinf = parseInt(element.parametros[i] / 10) * 10;\\r\\n    var diferencia = element.parametros[i] - mulinf;\\r\\n    var adicion = 0;\\r\\n    if (element.parametros[i] <= 97) {\\r\\n        if (diferencia >= 4 && diferencia < 8) {\\r\\n            adicion = 10;\\r\\n        } else if (diferencia >= 8) {\\r\\n            adicion = 15;\\r\\n        } else {\\r\\n            adicion = 5;\\r\\n        }\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[0] - 20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) {\\r\\n        adicion = element.maximos_p[0] - mulinf;\\r\\n        pMaximo = true;\\r\\n    } else if (element.parametros[i] >= (element.maximos_p[1] - 20) && element.parametros[i] <= element.maximos_p[1]) {\\r\\n        adicion = element.maximos_p[1] - mulinf;\\r\\n    } else {\\r\\n        if (diferencia <= 8) {\\r\\n            adicion = 10;\\r\\n        } else {\\r\\n            adicion = 15;\\r\\n        }\\r\\n    }\\r\\n    pfinales[i] = (mulinf + adicion) / 100;\\r\\n}\\r\\nelement.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2));\\r\\nelement.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2));\\r\\nelement.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));"},{"Componentes":[],"cambio":"N","esCambio":false,"id_grupo":18,"id_inv_suc":"30","id_inventario":"22","id_sucursal":1,"id_formula":3,"n_parametros":0,"nesecita_p":"S","maximos_p":[600],"codigo":"0018","descripcion":"NAVE 596 NATURAL M","cantidad_item":2,"cantidad":2,"unidad":"M","vr_venta_domicilio":"7000.00","vr_venta_local":"7000.00","costo_promedio":"6000.00","vr_venta":"7000.00","sub_total":14000,"descuento":0,"vr_descuento":0,"vr_transporte":0,"vr_antes_iva":14000,"iva":0,"vr_iva":0,"total":14000,"parametros":[],"formula":"element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));"}]	52200.00	52200.00	0.00	0.0	\N	2022-02-21 20:23:38-05	COT-2022-11
\.


--
-- TOC entry 3081 (class 0 OID 25539)
-- Dependencies: 237
-- Data for Name: fin_fondo; Type: TABLE DATA; Schema: financiero; Owner: postgres
--

COPY financiero.fin_fondo (fondo, id_fondo) FROM stdin;
VICTOR H	1
NUBIA Q	2
\.


--
-- TOC entry 3061 (class 0 OID 16538)
-- Dependencies: 217
-- Data for Name: fin_movimiento; Type: TABLE DATA; Schema: financiero; Owner: postgres
--

COPY financiero.fin_movimiento (id_movimiento, id_sucursal, id_tipo_movimiento, fecha, observacion, id_estado) FROM stdin;
\.


--
-- TOC entry 3075 (class 0 OID 24842)
-- Dependencies: 231
-- Data for Name: gen_estado; Type: TABLE DATA; Schema: general; Owner: postgres
--

COPY general.gen_estado (id_estado, descripcion, clase) FROM stdin;
2	ELIMINADO(A)	error
1	CANCELADO(A)	succes
3	ABONO	info
4	COTIZACION	info
\.


--
-- TOC entry 3046 (class 0 OID 16397)
-- Dependencies: 202
-- Data for Name: gen_persona; Type: TABLE DATA; Schema: general; Owner: postgres
--

COPY general.gen_persona (id_persona, identificacion, nombre) FROM stdin;
11	\N	bryan
12	\N	bryan
13	\N	bryan
16	1234	cliente new
15	12345	new client
17	123	prueba swal
18	12	pru
19	1235	maxima
14	\N	nombre21
20	127	purea
21	128	nombre
22	1289	nuevo final
3	6253250	Victor H
23	62532	Hugo
24	1086	hola
25	\N	junior
2	1086330632	BRAYAN MICHEL VILLOTA QUINTERO
\.


--
-- TOC entry 3088 (class 0 OID 25641)
-- Dependencies: 244
-- Data for Name: gen_secuencial; Type: TABLE DATA; Schema: general; Owner: postgres
--

COPY general.gen_secuencial (id_secuencial, descripcion, secuencial) FROM stdin;
1	FACTURA	41
2	COTIZACION	11
\.


--
-- TOC entry 3058 (class 0 OID 16506)
-- Dependencies: 214
-- Data for Name: gen_sucursal; Type: TABLE DATA; Schema: general; Owner: postgres
--

COPY general.gen_sucursal (id_sucursal, nombre, telefono, direccion) FROM stdin;
1	VIDRIOS Y ALUMINIOS VICTOR H (CHACHAGUI)	3122415299	B OFICIAL CALLE 3 No 3-13
\.


--
-- TOC entry 3064 (class 0 OID 16566)
-- Dependencies: 220
-- Data for Name: gen_tip_unidad; Type: TABLE DATA; Schema: general; Owner: postgres
--

COPY general.gen_tip_unidad (id_tip_unidad, descripcion) FROM stdin;
1	AREA
2	CANTIDAD
3	LONGITUD
\.


--
-- TOC entry 3062 (class 0 OID 16559)
-- Dependencies: 218
-- Data for Name: gen_uni_medida; Type: TABLE DATA; Schema: general; Owner: postgres
--

COPY general.gen_uni_medida (id_uni_medida, id_tip_unidad, unidad, n_parametros) FROM stdin;
1	1	M2	2
2	2	UNIDAD	0
3	3	M	0
\.


--
-- TOC entry 3078 (class 0 OID 25488)
-- Dependencies: 234
-- Data for Name: par_formula; Type: TABLE DATA; Schema: general; Owner: postgres
--

COPY general.par_formula (id_formula, formula, descripcion) FROM stdin;
5	element.cantidad = parseFloat(((element.parametros[0]/100) * (element.parametros[1]/100)).toFixed(2)); element.sub_total = parseFloat((element.cantidad_item * element.cantidad * element.vr_venta).toFixed(2));	FORMULA GENERAL PARA CALCULAR EL AREA DE UN ITEM
3	element.cantidad=element.cantidad_item;element.sub_total = parseFloat((element.cantidad_item * element.vr_venta).toFixed(2));	FORMULA GENERAL PARA CALCULAR SUBTOTAL DE UN ITEM EN LA FACTURA
1	var pfinales = [null, null];\r\nvar pMaximo = false;\r\nelement.parametros.sort((a, b) => b - a);\r\nfor (let i = 0; i < element.parametros.length; i++) {\r\n    var mulinf = parseInt(element.parametros[i] / 10) * 10;\r\n    var diferencia = element.parametros[i] - mulinf;\r\n    var adicion = 0;\r\n    if (element.parametros[i] <= 97) {\r\n        if (diferencia >= 4 && diferencia < 8) {\r\n            adicion = 10;\r\n        } else if (diferencia >= 8) {\r\n            adicion = 15;\r\n        } else {\r\n            adicion = 5;\r\n        }\r\n    } else if (element.parametros[i] >= (element.maximos_p[0] - 20) && element.parametros[i] <= element.maximos_p[0] && !pMaximo) {\r\n        adicion = element.maximos_p[0] - mulinf;\r\n        pMaximo = true;\r\n    } else if (element.parametros[i] >= (element.maximos_p[1] - 20) && element.parametros[i] <= element.maximos_p[1]) {\r\n        adicion = element.maximos_p[1] - mulinf;\r\n    } else {\r\n        if (diferencia <= 8) {\r\n            adicion = 10;\r\n        } else {\r\n            adicion = 15;\r\n        }\r\n    }\r\n    pfinales[i] = (mulinf + adicion) / 100;\r\n}\r\nelement.cantidad = parseFloat((pfinales[0] * pfinales[1]).toFixed(2));\r\nelement.sub_total = parseFloat((element.cantidad * element.vr_venta).toFixed(2));\r\nelement.sub_total = parseFloat(((Math.ceil(element.sub_total / 100) * 100)).toFixed(2));\r\nelement.sub_total = parseFloat((element.cantidad_item * element.sub_total).toFixed(2));	FORMULA PARA CALCULAR EL AREA DE UN VIDRIO 3 MM
6	var pCuadro = element.parametros;\r\nvar sub_total = 0;\r\nvar cadena = false;\r\nvar espejo = false;\r\nvar accesorio = null;\r\n/**\r\n * determinar si es un espejo con cadena\r\n */\r\nif (element.id_inventario == 34) {\r\n  cadena = true;\r\n}\r\nif (element.id_inventario == 20) {\r\n  espejo = true;\r\n}\r\n/**\r\n * determinar si es un cuadro de ploliuretano\r\n */\r\n/* if (\r\n  element.id_inventario == 27 ||\r\n  element.id_inventario == 28 ||\r\n  element.id_inventario == 29 ||\r\n  element.id_inventario == 30 ||\r\n  element.id_inventario == 39 ||\r\n  element.id_inventario == 40 ||\r\n  element.id_inventario == 41 ||\r\n  element.id_inventario == 42\r\n) {\r\n  poliuretanog = true;\r\n} */\r\n/**\r\n * determinar si es poliuretano gruego\r\n */\r\nconst poliuretano = element.Componentes.find((componente) =>\r\n  parseInt(componente.id_inventario) === 25 || parseInt(componente.id_inventario) === 26 ? true : false\r\n);\r\nconst poliuretanog = element.Componentes.find((componente) =>\r\n  parseInt(componente.id_inventario) === 25 ? true : false\r\n);\r\n/**\r\n * determinar si es tiene fondo\r\n */\r\nconst fondo = element.Componentes.find((componente) =>\r\n  parseInt(componente.id_inventario) === 15 ? true : false\r\n);\r\nelement.Componentes.forEach((element) => {\r\n  element.sub_total = 0;\r\n  element.cantidad_item = 0;\r\n  element.parametros = [];\r\n  /**\r\n   * si tiene fondo se suma 8 cm a cada uno de los lados del  cuadro\r\n   * de lo contrario no se hace nada y se asignan los parametros\r\n   * al componente en ambos casos.\r\n   */\r\n  if (fondo) {\r\n    element.parametros.push(pCuadro[0] + 8);\r\n    element.parametros.push(pCuadro[1] + 8);\r\n  } else {\r\n    element.parametros.push(pCuadro[0]);\r\n    element.parametros.push(pCuadro[1]);\r\n  }\r\n  \r\n  /**\r\n   * Se determina la cantidad de espejo\r\n   * vidrio o antireflejo, el calculo de su \r\n   * area se hace con la respectiva formula\r\n   */\r\n  if (\r\n    element.id_inventario == 2 ||\r\n    element.id_inventario == 19 ||\r\n    element.id_inventario == 18\r\n  ) {\r\n    element.cantidad_item = 1;\r\n  }\r\n  /**\r\n   * se calcula los metros de moldura en aluminio\r\n   * que tiene el cuadro teniendo en cuenta el mejor\r\n   * corte, con 30 cm como parametro de perdida y \r\n   * 10 cm como parametro de desperdicio\r\n   */\r\n  if (element.id_inventario == 9 || element.id_inventario == 22) {\r\n    let p = [\r\n      element.parametros[0],\r\n      element.parametros[0],\r\n      element.parametros[1],\r\n      element.parametros[1],\r\n    ];\r\n    element.cantidad_item = combinatoria.mejorCorteLineal(\r\n      p,\r\n      true,\r\n      element.maximos_p,\r\n      30,\r\n      10\r\n    ).mejorOpcion.suma_final;\r\n    element.cantidad_item = parseFloat(\r\n      (element.cantidad_item / 100).toFixed(2)\r\n    );\r\n  }\r\n  /**\r\n   * se calcula los metros de moldura en poliuretano\r\n   * que tiene el cuadro teniendo en cuenta el mejor\r\n   * corte, con 40 cm como parametro de perdida y \r\n   * 18 cm como parametro de desperdicio\r\n   */\r\n  if (element.id_inventario == 26 || element.id_inventario == 25) {\r\n    let p = [\r\n      element.parametros[0],\r\n      element.parametros[0],\r\n      element.parametros[1],\r\n      element.parametros[1],\r\n    ];\r\n    element.cantidad_item = combinatoria.mejorCorteLineal(\r\n      p,\r\n      true,\r\n      element.maximos_p,\r\n      40,\r\n      18\r\n    ).mejorOpcion.suma_final;\r\n    element.cantidad_item = parseFloat(\r\n      (element.cantidad_item / 100).toFixed(2)\r\n    );\r\n  }\r\n\r\n  if(element.id_inventario == 59){\r\n    element.cantidad_item=(element.parametros[0]+6)*2+(element.parametros[1]+6)*2\r\n    element.cantidad_item = parseFloat(\r\n      (element.cantidad_item / 100).toFixed(2)\r\n    );\r\n  }\r\n  /**\r\n   * Se determina la cantidad de escuadras\r\n   * que lleva el cuadro\r\n   */\r\n  if (element.id_inventario == 10 || element.id_inventario == 33) {\r\n    element.cantidad_item = 4;\r\n  }\r\n  /**\r\n   * Se determina la cantidad de  m de empaque\r\n   * que tiene el espejo enmarcado en nave\r\n   */\r\n  if (element.id_inventario == 32) {\r\n    element.cantidad_item = parseFloat(\r\n      (\r\n        (element.parametros[0] / 100) * 2 +\r\n        (element.parametros[1] / 100) * 2\r\n      ).toFixed(2)\r\n    );\r\n  }\r\n  /**\r\n   * Se determina la cantidad de cerruchos que lleva el cuadro\r\n   */\r\n  if(element.id_inventario == 14) {\r\n    let p=((100-(element.parametros[0]))/element.parametros[1])*100;\r\n    if(p>75){\r\n      element.cantidad_item=1;\r\n      accesorio="U"\r\n    }else if(p>60 && p<=75){\r\n      element.cantidad_item=2;\r\n      accesorio="D"\r\n\r\n    }else{\r\n      if(poliuretanog){\r\n        element.cantidad_item=2;\r\n        accesorio="D"\r\n      }      \r\n    }        \r\n  }\r\n/*   if (element.id_inventario == 14) {\r\n    if (\r\n      ((element.parametros[0] >= 40 &&\r\n        element.parametros[0] < 50 &&\r\n        element.parametros[1] >= 90 &&\r\n        element.parametros[1] < 100) ||\r\n        (element.parametros[0] >= 50 &&\r\n          element.parametros[0] < 100 &&\r\n          element.parametros[1] >= 70)) || (element.parametros[0] >= 70 && element.parametros[1] < 100) &&\r\n      element.id_inventario == 14\r\n    ) {\r\n      element.cantidad_item = 2;\r\n    } else if (element.parametros[0] >= 40 && element.parametros[1] >= 100) {\r\n      element.cantidad_item = 0;\r\n      if (poliuretano) {\r\n        element.cantidad_item = 2;\r\n      }\r\n    } else {\r\n      element.cantidad_item = 1;\r\n    }\r\n  } */\r\n  /**\r\n   * Se determina la cantidad de cadena en metros que lleva el cuadro\r\n   */\r\n  if (element.id_inventario == 13) {\r\n    let p=((100-(element.parametros[0]))/element.parametros[1])*100;\r\n    if(p<=60 || cadena){\r\n      element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2);\r\n      accesorio="C"\r\n    }\r\n    /* if (element.parametros[0] >= 40 && element.parametros[1] >= 100) {\r\n      element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2);\r\n    } else if (cadena) {\r\n      element.cantidad_item = ((element.parametros[0] + 10) / 100).toFixed(2);\r\n    } */\r\n  }\r\n  /**\r\n   * se determina la cantidad de carton blanco que lleva el cuadro\r\n   * el calculo de su area se hace con la respectiva formula del\r\n   * componente\r\n   */\r\n  if(element.id_inventario == 12){\r\n    let p=((100-(element.parametros[0]))/element.parametros[1])*100;\r\n    if(p<=60){\r\n      element.cantidad_item = 1;\r\n      \r\n    }\r\n  }\r\n  /* if (\r\n    element.id_inventario == 12 &&\r\n    element.parametros[0] >= 40 &&\r\n    element.parametros[1] >= 100\r\n  ) {\r\n    element.cantidad_item = (\r\n      element.cantidad_item = 1 \r\n    ).toFixed(2);\r\n  } */\r\n  /**\r\n   * se determina la cantidad de carton craft que lleva el cuadro\r\n   * el calculo de su area se hace con la respectiva formula del\r\n   * componente\r\n   */\r\n  if(element.id_inventario == 11){\r\n    let p=((100-(element.parametros[0]))/element.parametros[1])*100;\r\n    if(p>60 || espejo){\r\n      element.cantidad_item = 1;\r\n    }\r\n  }\r\n  /* if (\r\n    (element.id_inventario == 11 &&\r\n    !(element.parametros[0] >= 40 && element.parametros[1] >= 100)) || (element.id_inventario == 11 && espejo)\r\n  ) {\r\n    element.cantidad_item = (\r\n      element.cantidad_item = 1 \r\n    ).toFixed(2);\r\n  } */\r\n  /**\r\n   * se determina la cantidad de fondo que lleva el cuadro\r\n   * el calculo de su area se hace con la respectiva formula del\r\n   * componente\r\n   */\r\n  if (element.id_inventario == 15) {    \r\n      element.cantidad_item = 1    \r\n  }\r\n  /**\r\n   * Se determina la cantidad de colgaderas\r\n   * que lleva el cuadro\r\n   */\r\n  if(element.id_inventario == 17){\r\n    let p=((100-(element.parametros[0]))/element.parametros[1])*100;\r\n    if(p<=60){\r\n      element.cantidad_item = 2;\r\n    }\r\n  }\r\n  /* if (\r\n    element.id_inventario == 17 &&\r\n    element.parametros[0] >= 40 &&\r\n    element.parametros[1] >= 100 &&\r\n    !poliuretano\r\n  ) {\r\n    element.cantidad_item = 2;\r\n  } */\r\n  /**\r\n   * Se determina la cantidad de botones \r\n   * que lleva el cuadro\r\n   */\r\n  if (element.id_inventario == 36) {\r\n    element.cantidad_item = 2;\r\n  }\r\n  /**\r\n   * Se determina la cantidad de cinta papel que\r\n   * tiene el cuadro \r\n   */\r\n  if (element.id_inventario == 58) {\r\n    element.cantidad_item = ((element.parametros[0] / 100)*2+(element.parametros[1] / 100)*2).toFixed(2);    \r\n  }  \r\n  eval(element.formula);\r\n  sub_total += element.sub_total;\r\n});\r\nelement.accesorio=accesorio;\r\nsub_total = parseFloat((Math.ceil(sub_total / 100) * 100).toFixed(2));\r\nif(poliuretano && accesorio=='D' || accesorio=='C'){\r\n  element.sub_total = parseFloat(\r\n    (\r\n      element.cantidad_item * sub_total +\r\n      parseFloat(element.vr_venta*2*element.cantidad_item)\r\n    ).toFixed(2)\r\n  );\r\n}else{\r\n  element.sub_total = parseFloat(\r\n    (\r\n      element.cantidad_item * sub_total +\r\n      parseFloat(element.vr_venta * element.cantidad_item)\r\n    ).toFixed(2)\r\n  );\r\n}\r\n\r\n\r\nelement.sub_total = parseFloat(\r\n  (Math.ceil(element.sub_total / 100) * 100).toFixed(2)\r\n);\r\n	FORMULA PARA CALCULAR EL PRECIO DE UN CUADRO CON FONDO
13	var parametros = element.parametros;\r\nvar subTotal = 0;\r\nvar addAccesorio =" "\r\nelement.Componentes.forEach((element) => {\r\n  element.sub_total = 0;\r\n  element.cantidad_item = 0;\r\n  element.parametros = [];\r\n  element.parametros.push(parametros[0]);\r\n  element.parametros.push(parametros[1]);\r\n  /**\r\n   * se calcula los metros de sillar y cabezalque que tiene la ventana\r\n   */\r\n  if (element.id_inventario == 47 || element.id_inventario == 48) {\r\n    if(element.parametros[0]<98){\r\n      element.cantidad_item = 1\r\n    }else if(element.parametros[0]>=98 && element.parametros[0]<148){\r\n      element.cantidad_item = 1.5\r\n    }else if(element.parametros[0]>=148 && element.parametros[0]<200){\r\n      element.cantidad_item = 2\r\n    }else if(element.parametros[0]>=200 && element.parametros[0]<295){\r\n      element.cantidad_item = 3\r\n    }else if(element.parametros[0]>=295 && element.parametros[0]<400){\r\n      element.cantidad_item = 4\r\n    }else if(element.parametros[0]>=400 && element.parametros[0]<=600){\r\n      element.cantidad_item = 6\r\n    }        \r\n  }\r\n  /**\r\n   * se calcula los metros de jamba, enganche y traslape que tiene la ventana\r\n   */\r\n  if (element.id_inventario == 49 || element.id_inventario == 50 || element.id_inventario == 51) {\r\n    if(element.parametros[1]<98){\r\n      element.cantidad_item = 1\r\n    }else if(element.parametros[1]*2>=98 && element.parametros[1]*2<148){\r\n      element.cantidad_item = 1.5\r\n    }else if(element.parametros[1]*2>=148 && element.parametros[1]*2<200){\r\n      element.cantidad_item = 2\r\n    }else if(element.parametros[1]*2>=200 && element.parametros[1]*2<295){\r\n      element.cantidad_item = 3\r\n    }else if(element.parametros[1]*2>=295 && element.parametros[1]*2<400){\r\n      element.cantidad_item = 4\r\n    }else if(element.parametros[1]*2>=400 && element.parametros[1]*2<=600){\r\n      element.cantidad_item = 6\r\n    }        \r\n  }\r\n    /**\r\n   * se calcula los metros de horizontal superior e inferior que tiene la ventana\r\n   */\r\n  if (element.id_inventario == 52 || element.id_inventario == 53) {\r\n    if(element.parametros[1]<98){\r\n      element.cantidad_item = 1\r\n    }else if(element.parametros[1]>=98 && element.parametros[1]<150){\r\n      element.cantidad_item = 1.5\r\n    }else if(element.parametros[1]>=150 && element.parametros[1]<200){\r\n      element.cantidad_item = 2\r\n    }else if(element.parametros[1]>=200 && element.parametros[1]<250){\r\n      element.cantidad_item = 2.5\r\n    }else if(element.parametros[1]>=250 && element.parametros[1]<300){\r\n      element.cantidad_item = 3\r\n    }else if(element.parametros[1]>=300 && element.parametros[1]<350){\r\n      element.cantidad_item = 3.5\r\n    }else if(element.parametros[1]>=350 && element.parametros[1]<400){\r\n      element.cantidad_item = 4\r\n    }else if(element.parametros[1]>=400 && element.parametros[1]<450){\r\n      element.cantidad_item = 4.5\r\n    }else if(element.parametros[1]>=450 && element.parametros[1]<500){\r\n      element.cantidad_item = 5\r\n    }else if(element.parametros[1]>=500 && element.parametros[1]<550){\r\n      element.cantidad_item = 5.5\r\n    }else if(element.parametros[1]>=550 && element.parametros[1]<=600){\r\n      element.cantidad_item = 6\r\n    }\r\n  }\r\n  /**\r\n   * Se determina la cantidad de seguros\r\n   */\r\n  if(element.id_inventario == 57){\r\n    element.cantidad_item=1\r\n  }\r\n  /**\r\n   * Se determina la cantidad de rodamientos\r\n   */\r\n  if(element.id_inventario == 56){\r\n    element.cantidad_item=2\r\n  }\r\n  /**\r\n   * Se determina la cantidad de m de empaque\r\n   * que tiene la ventana\r\n   */\r\n  if (element.id_inventario == 32) {\r\n    element.cantidad_item = \r\n    element.cantidad_item = parseFloat(\r\n      (\r\n        (element.parametros[0] / 100) * 2 +\r\n        (element.parametros[1] / 100) * 4 \r\n      ).toFixed(2)\r\n    );\r\n  }\r\n   /**\r\n   * Se determina la cantidad de \r\n   * vidrio o antireflejo, el calculo de su \r\n   * area se hace con la respectiva formula\r\n   */\r\n  if (\r\n    element.id_inventario == 2 ||\r\n    element.id_inventario == 6 ||\r\n    element.id_inventario==64 ||\r\n    element.id_inventario==65 ||\r\n    element.id_inventario==66 ||\r\n    element.id_inventario==67 ||\r\n    element.id_inventario==68 \r\n  ) {\r\n    if(element.seleccionado==true){\r\n      element.cantidad_item = 1;\r\n      addAccesorio+=element.detalle\r\n    }    \r\n  }\r\n  eval(element.formula);\r\n  subTotal += element.sub_total;\r\n});\r\nelement.accesorio=addAccesorio;\r\nsubTotal = parseFloat((Math.ceil(subTotal / 100) * 100).toFixed(2));\r\nelement.sub_total = parseFloat(\r\n  (\r\n    element.cantidad_item * subTotal +\r\n    parseFloat(element.vr_venta * element.cantidad_item)\r\n  ).toFixed(2)\r\n);\r\nelement.sub_total = parseFloat(\r\n  (Math.ceil(element.sub_total / 100) * 100).toFixed(2)\r\n);\r\n	FORMULA PARA CALCULAR PRECIOS DE VENTANAS
\.


--
-- TOC entry 3080 (class 0 OID 25525)
-- Dependencies: 236
-- Data for Name: inv_grupo; Type: TABLE DATA; Schema: inventario; Owner: postgres
--

COPY inventario.inv_grupo (id_grupo, grupo, cambio) FROM stdin;
4	MOLDURAS M	N
5	MOLDURAS	N
6	ESPEJOS ENMARCADOS	N
7	CINTAS	N
8	GARRAS	N
12	EMPAQUE	N
13	ESCUADRAS	N
9	CADENA M	N
10	CARTON M2	N
11	FONDOS M2	N
15	FONDOS LAMINA	N
14	CARTON LAMINA	N
16	CERRUCHO	N
17	BOTONES	N
18	NAVE	N
19	COLGADERAS	N
1	VIDRIOS ESPEJO Y ACRILICO M2	S
2	CUADROS	S
3	VIDRIOS ESPEJOS Y ACRILICO LAMINAS	S
20	SIN REGISTRAR	N
21	ALUMINIO SISTEMA 7-44	N
22	VENTANAS	N
\.


--
-- TOC entry 3084 (class 0 OID 25584)
-- Dependencies: 240
-- Data for Name: inv_inv_com; Type: TABLE DATA; Schema: inventario; Owner: postgres
--

COPY inventario.inv_inv_com (id_inv_com, id_inventario, id_componente, seleccionar, detalle, seleccionado) FROM stdin;
1	8	9	N	detalle	t
2	8	10	N	detalle	t
3	8	2	N	detalle	t
4	8	11	N	detalle	t
5	8	12	N	detalle	t
6	8	13	N	detalle	t
7	8	14	N	detalle	t
55	28	2	N	detalle	t
56	28	15	N	detalle	t
53	28	25	N	detalle	t
8	16	14	N	detalle	t
9	16	13	N	detalle	t
10	16	12	N	detalle	t
11	16	11	N	detalle	t
12	16	9	N	detalle	t
13	16	10	N	detalle	t
14	16	2	N	detalle	t
15	16	15	N	detalle	t
16	8	17	N	detalle	t
17	16	17	N	detalle	t
18	20	17	N	detalle	t
19	20	9	N	detalle	t
20	20	10	N	detalle	t
22	20	11	N	detalle	t
24	20	13	N	detalle	t
25	20	14	N	detalle	t
21	20	19	N	detalle	t
57	29	25	N	detalle	t
26	23	14	N	detalle	t
27	23	13	N	detalle	t
28	23	12	N	detalle	t
29	23	11	N	detalle	t
30	23	9	N	detalle	t
31	23	10	N	detalle	t
33	23	15	N	detalle	t
32	23	18	N	detalle	t
35	24	9	N	detalle	t
36	24	10	N	detalle	t
38	24	11	N	detalle	t
39	24	12	N	detalle	t
40	24	13	N	detalle	t
41	24	14	N	detalle	t
37	24	18	N	detalle	t
60	29	11	N	detalle	t
44	27	2	N	detalle	t
45	27	11	N	detalle	t
46	27	12	N	detalle	t
48	27	14	N	detalle	t
42	27	25	N	detalle	t
49	28	14	N	detalle	t
51	28	12	N	detalle	t
52	28	11	N	detalle	t
61	29	12	N	detalle	t
63	29	14	N	detalle	t
59	29	18	N	detalle	t
64	30	14	N	detalle	t
66	30	12	N	detalle	t
67	30	11	N	detalle	t
68	30	25	N	detalle	t
71	30	15	N	detalle	t
70	30	18	N	detalle	t
72	21	19	N	detalle	t
73	21	32	N	detalle	t
74	21	33	N	detalle	t
75	21	22	N	detalle	t
76	34	19	N	detalle	t
77	34	36	N	detalle	t
80	39	2	N	detalle	t
81	39	11	N	detalle	t
82	39	12	N	detalle	t
84	39	14	N	detalle	t
79	39	26	N	detalle	t
85	40	14	N	detalle	t
87	40	12	N	detalle	t
88	40	11	N	detalle	t
90	40	2	N	detalle	t
91	40	15	N	detalle	t
89	40	26	N	detalle	t
92	41	26	N	detalle	t
93	41	18	N	detalle	t
94	41	11	N	detalle	t
95	41	12	N	detalle	t
97	41	14	N	detalle	t
98	42	14	N	detalle	t
100	42	12	N	detalle	t
101	42	11	N	detalle	t
103	42	18	N	detalle	t
104	42	15	N	detalle	t
105	27	58	N	detalle	t
106	28	58	N	detalle	t
107	29	58	N	detalle	t
108	30	58	N	detalle	t
109	39	58	N	detalle	t
110	40	58	N	detalle	t
111	41	58	N	detalle	t
112	42	58	N	detalle	t
113	43	58	N	detalle	t
114	44	58	N	detalle	t
115	39	13	N	detalle	t
116	40	13	N	detalle	t
117	41	13	N	detalle	t
102	42	26	N	detalle	t
118	42	13	N	detalle	t
119	39	17	N	detalle	t
120	40	17	N	detalle	t
121	41	17	N	detalle	t
122	42	17	N	detalle	t
123	60	2	N	detalle	t
124	60	59	N	detalle	t
125	60	11	N	detalle	t
126	60	12	N	detalle	t
127	61	12	N	detalle	t
128	61	11	N	detalle	t
129	61	59	N	detalle	t
130	61	2	N	detalle	t
131	61	15	N	detalle	t
132	62	47	N	detalle	t
133	62	48	N	detalle	t
134	62	49	N	detalle	t
135	62	50	N	detalle	t
136	62	51	N	detalle	t
137	62	52	N	detalle	t
138	62	53	N	detalle	t
139	62	57	N	detalle	t
140	62	56	N	detalle	t
141	62	32	N	detalle	t
148	62	68	S	V COLOR	f
143	62	6	S	V 4MM	t
142	62	2	S	V 3MM	f
144	62	64	S	V BRONCE 4MM	f
145	62	65	S	V GRABA 4MM	f
146	62	66	S	V REF BRONCE 4MM	f
147	62	67	S	V REF AZUL 4MM	f
\.


--
-- TOC entry 3060 (class 0 OID 16514)
-- Dependencies: 216
-- Data for Name: inv_inv_suc; Type: TABLE DATA; Schema: inventario; Owner: postgres
--

COPY inventario.inv_inv_suc (id_inv_suc, id_inventario, id_sucursal, cantidad, costo_promedio, vr_venta_local, vr_venta_domicilio) FROM stdin;
2	3	1	0.00	20.00	100.00	100.00
18	23	1	0.00	0.00	2000.00	2000.00
19	24	1	0.00	0.00	2000.00	2000.00
29	21	1	0.00	0.00	2000.00	2000.00
24	29	1	0.00	0.00	5000.00	5000.00
25	30	1	0.00	0.00	5000.00	5000.00
31	34	1	0.00	0.00	3000.00	3000.00
22	27	1	0.00	0.00	5000.00	5000.00
23	28	1	0.00	0.00	5000.00	5000.00
33	39	1	0.00	0.00	5000.00	5000.00
34	40	1	0.00	0.00	5000.00	5000.00
35	41	1	0.00	0.00	5000.00	5000.00
36	42	1	0.00	0.00	5000.00	5000.00
57	66	1	0.00	0.00	80000.00	90000.00
32	36	1	0.00	250.00	400.00	400.00
6	9	1	0.00	2834.00	4000.00	4000.00
5	8	1	0.00	0.00	2000.00	2000.00
13	16	1	0.00	0.00	2000.00	2000.00
17	20	1	0.00	0.00	3000.00	3000.00
10	13	1	19.00	2000.00	3000.00	3000.00
21	26	1	0.00	6300.00	8000.00	8000.00
4	6	1	0.00	18000.00	27500.00	34000.00
54	63	1	0.00	0.00	45000.00	51500.00
55	64	1	0.00	0.00	44000.00	50500.00
56	65	1	0.00	0.00	36000.00	42500.00
37	46	1	0.00	0.00	0.00	0.00
58	67	1	0.00	0.00	41000.00	47500.00
45	54	1	0.00	0.00	6200.00	6200.00
46	55	1	0.00	0.00	6700.00	6700.00
3	4	1	0.00	0.00	1500.00	1500.00
49	58	1	0.00	190.00	300.00	300.00
20	25	1	0.00	0.00	7100.00	7100.00
51	60	1	0.00	0.00	5500.00	5500.00
52	61	1	0.00	0.00	5500.00	5500.00
50	59	1	0.00	0.00	19700.00	19700.00
1	2	1	0.00	23119.00	35000.00	35000.00
53	62	1	0.00	0.00	0.00	0.00
59	68	1	0.00	0.00	45000.00	51000.00
38	47	1	0.00	0.00	8500.00	8500.00
39	48	1	0.00	0.00	8100.00	8100.00
40	49	1	0.00	0.00	8200.00	8200.00
41	50	1	0.00	0.00	8300.00	8300.00
42	51	1	0.00	0.00	8700.00	8700.00
43	52	1	0.00	0.00	6000.00	6000.00
44	53	1	0.00	0.00	8500.00	8500.00
48	57	1	0.00	0.00	4500.00	4500.00
47	56	1	0.00	0.00	4500.00	4500.00
15	18	1	0.09	45500.00	63000.00	63000.00
9	12	1	0.00	5833.00	6700.00	6700.00
8	11	1	0.00	5000.00	5900.00	5900.00
12	15	1	0.00	5714.00	7200.00	7200.00
16	19	1	0.00	50239.00	70000.00	80000.00
11	14	1	0.00	150.00	250.00	250.00
7	10	1	0.00	250.00	350.00	350.00
14	17	1	0.00	200.00	350.00	350.00
27	32	1	0.00	0.00	2000.00	2000.00
28	33	1	0.00	0.00	500.00	500.00
30	22	1	0.00	6000.00	7000.00	7000.00
\.


--
-- TOC entry 3056 (class 0 OID 16498)
-- Dependencies: 212
-- Data for Name: inv_inventario; Type: TABLE DATA; Schema: inventario; Owner: postgres
--

COPY inventario.inv_inventario (id_inventario, id_referencia, descripcion, id_uni_medida, id_formula, nesecita_p, codigo, maximos_p, id_grupo, id_fondo, iva, descuento) FROM stdin;
2	\N	VIDRIO CLARO 3 MM	1	1	S	0001	[260,180]	1	1	0.0	0.0
6	\N	VIDRIO CLARO 4 MM	1	1	S	0002	[330,220]	1	1	0.0	0.0
18	\N	VIDRIO ANTIREFLEJO	1	1	S	0013	[260,160]	1	2	0.0	0.0
23	\N	CUADRO CON FONDO ANTIREFLEJO	1	6	S	0019	{}	2	1	0.0	0.0
24	\N	CUADRO SIN FONDO ANTIREFLEJO	1	6	S	0021	{}	2	1	0.0	0.0
9	\N	MOLDURA M	3	3	N	0005	[300]	4	2	0.0	0.0
25	\N	POLIURETANO ANCHO M2	3	3	N	0022	[290]	4	2	0.0	0.0
26	\N	POLIURETANO DELGADO M2 	3	3	N	0024	[290]	4	2	0.0	0.0
44	\N	ESPEJO POLIURETANO ANCHO	1	6	S	0025	{}	2	2	0.0	0.0
19	\N	ESPEJO 3MM	1	1	S	0015	[260,180]	1	1	0.0	0.0
21	\N	ESPEJO ALUMINIO NATURAL	1	6	S	0017	{}	6	1	0.0	0.0
34	\N	ESPEJO CON CADENA	1	6	S	0034	{}	6	1	0.0	0.0
4	\N	CINTA DOBLE FAS	3	3	N	0002	{}	7	1	0.0	0.0
3	\N	GARRAS PLASTICAS	2	3	N	0004	{}	8	2	0.0	0.0
13	\N	CADENA	3	3	N	0009	{}	9	2	0.0	0.0
11	\N	CARTON CRACT M2	1	5	S	0007	{}	10	2	0.0	0.0
12	\N	CARTON BLANCO M2	1	5	S	0008	{}	10	2	0.0	0.0
15	\N	FONDO	1	5	N	0011	{}	11	2	0.0	0.0
32	\N	EMPAQUE DIVICION	3	3	N	0033	{}	12	1	0.0	0.0
10	\N	ESCUADRAS	3	3	N	0006	{}	13	2	0.0	0.0
14	\N	CERRUCHO	3	3	N	0010	{}	16	2	0.0	0.0
36	\N	BOTONES	3	3	N	0036	{}	17	2	0.0	0.0
17	\N	COLGADERAS	2	3	N	0012	{}	19	2	0.0	0.0
16	\N	CUADRO CON FONDO	1	6	N	0012	{}	2	2	0.0	0.0
33	\N	ESCUADRAS ALUMINIO	3	3	N	0006	{}	13	1	0.0	0.0
28	\N	POLIURETANO ANCHO CON FONDO	1	6	S	0026	{}	2	2	0.0	0.0
27	\N	POLIURETANO ANCHO SIN FONDO	1	6	S	0025	{}	2	2	0.0	0.0
29	\N	POLIURETANO ANTIREFLEJO ANCHO SIN FONDO 	1	6	S	0026	{}	2	2	0.0	0.0
30	\N	POLIURETANO ANTIREFLEJO ANCHO CON FONDO	1	6	S	0025	{}	2	2	0.0	0.0
46	\N	NO REGISTRADO	2	3	N	999	{}	20	1	0.0	0.0
54	\N	ADAPTADOR METRO NAT 744 403	3	3	N	403	[300,600]	21	1	0.0	0.0
55	\N	DIVISOR METRO NAT 744 1855	3	3	N	1855	[300,600]	21	1	0.0	0.0
56	\N	RODAMIENTO NYLON 744	2	3	N	0025	[300,600]	21	1	0.0	0.0
57	\N	SEGURO 1/2 LUNA 744	2	3	N	0025	[300,600]	21	1	0.0	0.0
58	\N	CINTA PAPEL METRO	3	3	N	0025	[2000]	7	1	0.0	0.0
22	\N	NAVE 596 NATURAL M	3	3	S	0018	[600]	18	1	0.0	0.0
8	\N	CUADRO SIN FONDO	1	6	S	0003	[300,300]	2	2	0.0	0.0
20	\N	ESPEJO ENMARCADO	1	6	S	0016	[300,300]	6	2	0.0	0.0
41	\N	POLIURETANO ANTIREFLEJO ANGOSTO SIN FONDO	1	6	S	0026	{}	2	2	0.0	0.0
42	\N	POLIURETANO ANTIREFLEJO ANGOSTO CON FONDO	1	6	S	0025	{}	2	2	0.0	0.0
39	\N	POLIURETANO ANGOSTO SIN FONDO	1	6	S	0025	{}	2	2	0.0	0.0
40	\N	POLIURETANO ANGOSTO CON FONDO	1	6	S	0026	{}	2	2	0.0	0.0
43	\N	ESPEJO POLIURETANO ANGOSTO	1	6	S	0025	{}	2	2	0.0	0.0
59	\N	MOLDURA MADERA M	3	3	N	0025	{}	4	2	0.0	0.0
60	\N	MADERA SIN FONDO	1	6	S	0025	{}	2	2	0.0	0.0
62	\N	VENTANA EN SISTEMA 744 NATURAL	1	13	S	744	{}	22	1	0.0	0.0
61	\N	MADERA CON FONDO	1	6	S	0025	{}	2	2	0.0	0.0
47	\N	SILLAR METRO NAT 744 387	3	3	N	387	[300,600]	21	1	0.0	0.0
48	\N	CABEZAL METRO NAT 744 392	3	3	N	392	[300,600]	21	1	0.0	0.0
49	\N	JAMBA METRO NAT 744 393	3	3	N	393	[300,600]	21	1	0.0	0.0
50	\N	TRASLAPE METRO NAT 744 388	3	3	N	388	[300,600]	21	1	0.0	0.0
51	\N	ENGANCHE METRO NAT 744 391	3	3	N	391	[300,600]	21	1	0.0	0.0
52	\N	HORIZONTAL SUPERIOR  METRO NAT 744 389	3	3	N	389	[300,600]	21	1	0.0	0.0
53	\N	HORIZONTAL INFERIOR METRO NAT 744 390	3	3	N	390	[300,600]	21	1	0.0	0.0
63	\N	VIDRIO CLARO 5 MM	1	1	S	1	[330,220]	1	1	0.0	0.0
64	\N	VIDRIO BRONCE 4 MM	1	1	S	1	[321,214]	1	1	0.0	0.0
65	\N	VIDRIO GRABADO 4 MM	1	1	S	1	[240,180]	1	1	0.0	0.0
66	\N	VIDRIO REFLE BRONCE 4 MM	1	1	S	1	[330,240]	1	1	0.0	0.0
67	\N	VIDRIO REFLE AZUL 4 MM	1	1	S	1	[330,225]	1	1	0.0	0.0
68	\N	VIDRIO COLOR	1	1	S	1	[321,214]	1	1	0.0	0.0
\.


--
-- TOC entry 3050 (class 0 OID 16423)
-- Dependencies: 206
-- Data for Name: seg_role; Type: TABLE DATA; Schema: seguridad; Owner: postgres
--

COPY seguridad.seg_role (id_role, descripcion) FROM stdin;
1	ADMINISTRATIVO
2	FACTURACION
\.


--
-- TOC entry 3052 (class 0 OID 16431)
-- Dependencies: 208
-- Data for Name: seg_role_usuario; Type: TABLE DATA; Schema: seguridad; Owner: postgres
--

COPY seguridad.seg_role_usuario (id_role_usuario, id_role, id_usuario) FROM stdin;
1	1	3
2	2	1
3	2	5
4	2	6
\.


--
-- TOC entry 3048 (class 0 OID 16411)
-- Dependencies: 204
-- Data for Name: seg_usuario; Type: TABLE DATA; Schema: seguridad; Owner: postgres
--

COPY seguridad.seg_usuario (id_usuario, id_persona, email, password, img, google, estado, id_sucursal) FROM stdin;
1	2	preba@gmail.com	12345	1-62.png	f	I	1
3	11	brayanmichel46@gmail.com	=)	3-788.png	t	A	1
6	14	preba8@gmail.com	$2a$10$Xx.Veo/rqohV3nUBaL3Y8uWSgIcB8KOCTyUekPj9Cns1oF4nc8Zgi	6-675.jpeg	f	I	1
5	13	prueba2@gmail.com	$2a$10$hsII0P1Ei48bDhDKbtLQ1u.sd1sKr.QHPix7xpaguuaH5K7gv90v2	5-328.png	f	A	1
7	25	junior@hotmail.com	$2a$10$25AEti6XkfpOo4hmpTAfFuAPpExjiuoteR8qeDkr8FoUlAeaE4i5a	no-img	f	A	1
\.


--
-- TOC entry 3054 (class 0 OID 16463)
-- Dependencies: 210
-- Data for Name: cli_cliente; Type: TABLE DATA; Schema: ventas; Owner: postgres
--

COPY ventas.cli_cliente (id_cliente, id_persona, direccion, email, celular, telefono, img) FROM stdin;
4	16	\N	jaja@gmail.com	\N	\N	\N
3	15	\N	new@gmail.com	\N	333	\N
5	17	\N		\N	\N	\N
6	18	\N	asdf@g	\N	\N	\N
7	19	\N	max@gmail.com	314567	\N	\N
8	20	\N	pure@gmail.com	32	\N	\N
9	21	\N	jajaj@gmail	3	7	\N
10	22	driii	3@gmail	234	\N	\N
2	3	Direccion 2	email12@prueba.com	3122415291	7328436	\N
11	23	\N	\N	312	\N	\N
12	24	\N	\N	\N	\N	\N
1	2	Direccion 2	email13@prueba.com	3122415291	7324	\N
\.


--
-- TOC entry 3246 (class 0 OID 0)
-- Dependencies: 221
-- Name: detalle_movimiento_id_detalle_movimiento_seq; Type: SEQUENCE SET; Schema: financiero; Owner: postgres
--

SELECT pg_catalog.setval('financiero.detalle_movimiento_id_detalle_movimiento_seq', 388, true);


--
-- TOC entry 3247 (class 0 OID 0)
-- Dependencies: 223
-- Name: detalle_movimiento_id_inventario_seq; Type: SEQUENCE SET; Schema: financiero; Owner: postgres
--

SELECT pg_catalog.setval('financiero.detalle_movimiento_id_inventario_seq', 1, false);


--
-- TOC entry 3248 (class 0 OID 0)
-- Dependencies: 241
-- Name: fin_abo_fac_id_abo_fac_seq; Type: SEQUENCE SET; Schema: financiero; Owner: postgres
--

SELECT pg_catalog.setval('financiero.fin_abo_fac_id_abo_fac_seq', 103, true);


--
-- TOC entry 3249 (class 0 OID 0)
-- Dependencies: 224
-- Name: fin_fac_item_id_fac_item_seq; Type: SEQUENCE SET; Schema: financiero; Owner: postgres
--

SELECT pg_catalog.setval('financiero.fin_fac_item_id_fac_item_seq', 1, false);


--
-- TOC entry 3250 (class 0 OID 0)
-- Dependencies: 225
-- Name: fin_fac_item_id_factura_seq; Type: SEQUENCE SET; Schema: financiero; Owner: postgres
--

SELECT pg_catalog.setval('financiero.fin_fac_item_id_factura_seq', 1, false);


--
-- TOC entry 3251 (class 0 OID 0)
-- Dependencies: 228
-- Name: fin_factura_id_cliente_seq; Type: SEQUENCE SET; Schema: financiero; Owner: postgres
--

SELECT pg_catalog.setval('financiero.fin_factura_id_cliente_seq', 1, false);


--
-- TOC entry 3252 (class 0 OID 0)
-- Dependencies: 227
-- Name: fin_factura_id_factura_seq; Type: SEQUENCE SET; Schema: financiero; Owner: postgres
--

SELECT pg_catalog.setval('financiero.fin_factura_id_factura_seq', 123, true);


--
-- TOC entry 3253 (class 0 OID 0)
-- Dependencies: 238
-- Name: fin_fondo_id_fondo_seq; Type: SEQUENCE SET; Schema: financiero; Owner: postgres
--

SELECT pg_catalog.setval('financiero.fin_fondo_id_fondo_seq', 3, true);


--
-- TOC entry 3254 (class 0 OID 0)
-- Dependencies: 230
-- Name: gen_estado_id_estado_seq; Type: SEQUENCE SET; Schema: general; Owner: postgres
--

SELECT pg_catalog.setval('general.gen_estado_id_estado_seq', 4, true);


--
-- TOC entry 3255 (class 0 OID 0)
-- Dependencies: 201
-- Name: gen_persona_id_persona_seq; Type: SEQUENCE SET; Schema: general; Owner: postgres
--

SELECT pg_catalog.setval('general.gen_persona_id_persona_seq', 25, true);


--
-- TOC entry 3256 (class 0 OID 0)
-- Dependencies: 243
-- Name: gen_secuencial_id_secuencial_seq; Type: SEQUENCE SET; Schema: general; Owner: postgres
--

SELECT pg_catalog.setval('general.gen_secuencial_id_secuencial_seq', 2, true);


--
-- TOC entry 3257 (class 0 OID 0)
-- Dependencies: 213
-- Name: gen_sucursal_id_sucursal_seq; Type: SEQUENCE SET; Schema: general; Owner: postgres
--

SELECT pg_catalog.setval('general.gen_sucursal_id_sucursal_seq', 1, true);


--
-- TOC entry 3258 (class 0 OID 0)
-- Dependencies: 219
-- Name: gen_tipo_unidad_id_tipo_unidad_seq; Type: SEQUENCE SET; Schema: general; Owner: postgres
--

SELECT pg_catalog.setval('general.gen_tipo_unidad_id_tipo_unidad_seq', 3, true);


--
-- TOC entry 3259 (class 0 OID 0)
-- Dependencies: 232
-- Name: gen_uni_medida_id_uni_medida_seq; Type: SEQUENCE SET; Schema: general; Owner: postgres
--

SELECT pg_catalog.setval('general.gen_uni_medida_id_uni_medida_seq', 4, true);


--
-- TOC entry 3260 (class 0 OID 0)
-- Dependencies: 233
-- Name: par_formula_id_formula_seq; Type: SEQUENCE SET; Schema: general; Owner: postgres
--

SELECT pg_catalog.setval('general.par_formula_id_formula_seq', 13, true);


--
-- TOC entry 3261 (class 0 OID 0)
-- Dependencies: 235
-- Name: inv_grupo_id_grupo_seq; Type: SEQUENCE SET; Schema: inventario; Owner: postgres
--

SELECT pg_catalog.setval('inventario.inv_grupo_id_grupo_seq', 22, true);


--
-- TOC entry 3262 (class 0 OID 0)
-- Dependencies: 239
-- Name: inv_inv_com_id_com_inv_seq; Type: SEQUENCE SET; Schema: inventario; Owner: postgres
--

SELECT pg_catalog.setval('inventario.inv_inv_com_id_com_inv_seq', 148, true);


--
-- TOC entry 3263 (class 0 OID 0)
-- Dependencies: 215
-- Name: inv_inv_sur_id_inv_suc_seq; Type: SEQUENCE SET; Schema: inventario; Owner: postgres
--

SELECT pg_catalog.setval('inventario.inv_inv_sur_id_inv_suc_seq', 59, true);


--
-- TOC entry 3264 (class 0 OID 0)
-- Dependencies: 211
-- Name: inventario_id_inventario_seq; Type: SEQUENCE SET; Schema: inventario; Owner: postgres
--

SELECT pg_catalog.setval('inventario.inventario_id_inventario_seq', 68, true);


--
-- TOC entry 3265 (class 0 OID 0)
-- Dependencies: 205
-- Name: seg_role_id_role_seq; Type: SEQUENCE SET; Schema: seguridad; Owner: postgres
--

SELECT pg_catalog.setval('seguridad.seg_role_id_role_seq', 2, true);


--
-- TOC entry 3266 (class 0 OID 0)
-- Dependencies: 207
-- Name: seg_role_usuario_id_role_usuario_seq; Type: SEQUENCE SET; Schema: seguridad; Owner: postgres
--

SELECT pg_catalog.setval('seguridad.seg_role_usuario_id_role_usuario_seq', 4, true);


--
-- TOC entry 3267 (class 0 OID 0)
-- Dependencies: 203
-- Name: seg_usuario_id_usuario_seq; Type: SEQUENCE SET; Schema: seguridad; Owner: postgres
--

SELECT pg_catalog.setval('seguridad.seg_usuario_id_usuario_seq', 7, true);


--
-- TOC entry 3268 (class 0 OID 0)
-- Dependencies: 209
-- Name: cli_cliente_cli_cliente_seq; Type: SEQUENCE SET; Schema: ventas; Owner: postgres
--

SELECT pg_catalog.setval('ventas.cli_cliente_cli_cliente_seq', 12, true);


--
-- TOC entry 2884 (class 2606 OID 24796)
-- Name: fin_det_factura detalle_movimiento_pkey; Type: CONSTRAINT; Schema: financiero; Owner: postgres
--

ALTER TABLE ONLY financiero.fin_det_factura
    ADD CONSTRAINT detalle_movimiento_pkey PRIMARY KEY (id_det_factura);


--
-- TOC entry 2902 (class 2606 OID 25602)
-- Name: fin_abo_fac fin_abo_fac_pkey; Type: CONSTRAINT; Schema: financiero; Owner: postgres
--

ALTER TABLE ONLY financiero.fin_abo_fac
    ADD CONSTRAINT fin_abo_fac_pkey PRIMARY KEY (id_abo_fac);


--
-- TOC entry 2886 (class 2606 OID 24825)
-- Name: fin_fac_par fin_fac_item_id_factura_key; Type: CONSTRAINT; Schema: financiero; Owner: postgres
--

ALTER TABLE ONLY financiero.fin_fac_par
    ADD CONSTRAINT fin_fac_item_id_factura_key UNIQUE (id_det_factura);


--
-- TOC entry 2888 (class 2606 OID 24823)
-- Name: fin_fac_par fin_fac_item_pkey; Type: CONSTRAINT; Schema: financiero; Owner: postgres
--

ALTER TABLE ONLY financiero.fin_fac_par
    ADD CONSTRAINT fin_fac_item_pkey PRIMARY KEY (id_fac_par);


--
-- TOC entry 2890 (class 2606 OID 24839)
-- Name: fin_factura fin_factura_pkey; Type: CONSTRAINT; Schema: financiero; Owner: postgres
--

ALTER TABLE ONLY financiero.fin_factura
    ADD CONSTRAINT fin_factura_pkey PRIMARY KEY (id_factura);


--
-- TOC entry 2898 (class 2606 OID 25550)
-- Name: fin_fondo fin_fondo_pkey; Type: CONSTRAINT; Schema: financiero; Owner: postgres
--

ALTER TABLE ONLY financiero.fin_fondo
    ADD CONSTRAINT fin_fondo_pkey PRIMARY KEY (id_fondo);


--
-- TOC entry 2878 (class 2606 OID 16547)
-- Name: fin_movimiento ven_factura_pkey; Type: CONSTRAINT; Schema: financiero; Owner: postgres
--

ALTER TABLE ONLY financiero.fin_movimiento
    ADD CONSTRAINT ven_factura_pkey PRIMARY KEY (id_movimiento);


--
-- TOC entry 2892 (class 2606 OID 24847)
-- Name: gen_estado gen_estado_pkey; Type: CONSTRAINT; Schema: general; Owner: postgres
--

ALTER TABLE ONLY general.gen_estado
    ADD CONSTRAINT gen_estado_pkey PRIMARY KEY (id_estado);


--
-- TOC entry 2856 (class 2606 OID 16407)
-- Name: gen_persona gen_persona_identificacion_key; Type: CONSTRAINT; Schema: general; Owner: postgres
--

ALTER TABLE ONLY general.gen_persona
    ADD CONSTRAINT gen_persona_identificacion_key UNIQUE (identificacion);


--
-- TOC entry 2858 (class 2606 OID 16405)
-- Name: gen_persona gen_persona_pkey; Type: CONSTRAINT; Schema: general; Owner: postgres
--

ALTER TABLE ONLY general.gen_persona
    ADD CONSTRAINT gen_persona_pkey PRIMARY KEY (id_persona);


--
-- TOC entry 2904 (class 2606 OID 25646)
-- Name: gen_secuencial gen_secuencial_pkey; Type: CONSTRAINT; Schema: general; Owner: postgres
--

ALTER TABLE ONLY general.gen_secuencial
    ADD CONSTRAINT gen_secuencial_pkey PRIMARY KEY (id_secuencial);


--
-- TOC entry 2874 (class 2606 OID 16511)
-- Name: gen_sucursal gen_sucursal_pkey; Type: CONSTRAINT; Schema: general; Owner: postgres
--

ALTER TABLE ONLY general.gen_sucursal
    ADD CONSTRAINT gen_sucursal_pkey PRIMARY KEY (id_sucursal);


--
-- TOC entry 2882 (class 2606 OID 16571)
-- Name: gen_tip_unidad gen_tipo_unidad_pkey; Type: CONSTRAINT; Schema: general; Owner: postgres
--

ALTER TABLE ONLY general.gen_tip_unidad
    ADD CONSTRAINT gen_tipo_unidad_pkey PRIMARY KEY (id_tip_unidad);


--
-- TOC entry 2880 (class 2606 OID 25479)
-- Name: gen_uni_medida gen_unidad_medida_pkey; Type: CONSTRAINT; Schema: general; Owner: postgres
--

ALTER TABLE ONLY general.gen_uni_medida
    ADD CONSTRAINT gen_unidad_medida_pkey PRIMARY KEY (id_uni_medida);


--
-- TOC entry 2894 (class 2606 OID 25496)
-- Name: par_formula par_formula_pkey; Type: CONSTRAINT; Schema: general; Owner: postgres
--

ALTER TABLE ONLY general.par_formula
    ADD CONSTRAINT par_formula_pkey PRIMARY KEY (id_formula);


--
-- TOC entry 2896 (class 2606 OID 25530)
-- Name: inv_grupo inv_grupo_pkey; Type: CONSTRAINT; Schema: inventario; Owner: postgres
--

ALTER TABLE ONLY inventario.inv_grupo
    ADD CONSTRAINT inv_grupo_pkey PRIMARY KEY (id_grupo);


--
-- TOC entry 2900 (class 2606 OID 25589)
-- Name: inv_inv_com inv_inv_com_pkey; Type: CONSTRAINT; Schema: inventario; Owner: postgres
--

ALTER TABLE ONLY inventario.inv_inv_com
    ADD CONSTRAINT inv_inv_com_pkey PRIMARY KEY (id_inv_com);


--
-- TOC entry 2876 (class 2606 OID 16522)
-- Name: inv_inv_suc inv_inv_sur_pkey; Type: CONSTRAINT; Schema: inventario; Owner: postgres
--

ALTER TABLE ONLY inventario.inv_inv_suc
    ADD CONSTRAINT inv_inv_sur_pkey PRIMARY KEY (id_inv_suc);


--
-- TOC entry 2872 (class 2606 OID 16503)
-- Name: inv_inventario inventario_pkey; Type: CONSTRAINT; Schema: inventario; Owner: postgres
--

ALTER TABLE ONLY inventario.inv_inventario
    ADD CONSTRAINT inventario_pkey PRIMARY KEY (id_inventario);


--
-- TOC entry 2862 (class 2606 OID 16428)
-- Name: seg_role seg_role_pkey; Type: CONSTRAINT; Schema: seguridad; Owner: postgres
--

ALTER TABLE ONLY seguridad.seg_role
    ADD CONSTRAINT seg_role_pkey PRIMARY KEY (id_role);


--
-- TOC entry 2864 (class 2606 OID 16443)
-- Name: seg_role_usuario seg_role_usuario_idx; Type: CONSTRAINT; Schema: seguridad; Owner: postgres
--

ALTER TABLE ONLY seguridad.seg_role_usuario
    ADD CONSTRAINT seg_role_usuario_idx UNIQUE (id_usuario, id_role);


--
-- TOC entry 2866 (class 2606 OID 16436)
-- Name: seg_role_usuario seg_role_usuario_pkey; Type: CONSTRAINT; Schema: seguridad; Owner: postgres
--

ALTER TABLE ONLY seguridad.seg_role_usuario
    ADD CONSTRAINT seg_role_usuario_pkey PRIMARY KEY (id_role_usuario);


--
-- TOC entry 2860 (class 2606 OID 16420)
-- Name: seg_usuario seg_usuario_pkey; Type: CONSTRAINT; Schema: seguridad; Owner: postgres
--

ALTER TABLE ONLY seguridad.seg_usuario
    ADD CONSTRAINT seg_usuario_pkey PRIMARY KEY (id_usuario);


--
-- TOC entry 2868 (class 2606 OID 16471)
-- Name: cli_cliente cli_cliente_id_persona_key; Type: CONSTRAINT; Schema: ventas; Owner: postgres
--

ALTER TABLE ONLY ventas.cli_cliente
    ADD CONSTRAINT cli_cliente_id_persona_key UNIQUE (id_persona);


--
-- TOC entry 2870 (class 2606 OID 16469)
-- Name: cli_cliente cli_cliente_pkey; Type: CONSTRAINT; Schema: ventas; Owner: postgres
--

ALTER TABLE ONLY ventas.cli_cliente
    ADD CONSTRAINT cli_cliente_pkey PRIMARY KEY (id_cliente);


--
-- TOC entry 2919 (class 2606 OID 24858)
-- Name: fin_det_factura fin_det_factura_fk; Type: FK CONSTRAINT; Schema: financiero; Owner: postgres
--

ALTER TABLE ONLY financiero.fin_det_factura
    ADD CONSTRAINT fin_det_factura_fk FOREIGN KEY (id_factura) REFERENCES financiero.fin_factura(id_factura);


--
-- TOC entry 2920 (class 2606 OID 24863)
-- Name: fin_det_factura fin_det_factura_fk1; Type: FK CONSTRAINT; Schema: financiero; Owner: postgres
--

ALTER TABLE ONLY financiero.fin_det_factura
    ADD CONSTRAINT fin_det_factura_fk1 FOREIGN KEY (id_inventario) REFERENCES inventario.inv_inventario(id_inventario);


--
-- TOC entry 2921 (class 2606 OID 24883)
-- Name: fin_fac_par fin_fac_item_fk; Type: FK CONSTRAINT; Schema: financiero; Owner: postgres
--

ALTER TABLE ONLY financiero.fin_fac_par
    ADD CONSTRAINT fin_fac_item_fk FOREIGN KEY (id_det_factura) REFERENCES financiero.fin_fac_par(id_det_factura);


--
-- TOC entry 2922 (class 2606 OID 24873)
-- Name: fin_factura fin_factura_fk1; Type: FK CONSTRAINT; Schema: financiero; Owner: postgres
--

ALTER TABLE ONLY financiero.fin_factura
    ADD CONSTRAINT fin_factura_fk1 FOREIGN KEY (id_cliente) REFERENCES ventas.cli_cliente(id_cliente);


--
-- TOC entry 2923 (class 2606 OID 24878)
-- Name: fin_factura fin_factura_fk2; Type: FK CONSTRAINT; Schema: financiero; Owner: postgres
--

ALTER TABLE ONLY financiero.fin_factura
    ADD CONSTRAINT fin_factura_fk2 FOREIGN KEY (id_estado) REFERENCES general.gen_estado(id_estado);


--
-- TOC entry 2916 (class 2606 OID 24848)
-- Name: fin_movimiento fin_movimiento_fk; Type: FK CONSTRAINT; Schema: financiero; Owner: postgres
--

ALTER TABLE ONLY financiero.fin_movimiento
    ADD CONSTRAINT fin_movimiento_fk FOREIGN KEY (id_estado) REFERENCES general.gen_estado(id_estado);


--
-- TOC entry 2917 (class 2606 OID 24853)
-- Name: fin_movimiento fin_movimiento_fk1; Type: FK CONSTRAINT; Schema: financiero; Owner: postgres
--

ALTER TABLE ONLY financiero.fin_movimiento
    ADD CONSTRAINT fin_movimiento_fk1 FOREIGN KEY (id_sucursal) REFERENCES general.gen_sucursal(id_sucursal);


--
-- TOC entry 2918 (class 2606 OID 16572)
-- Name: gen_uni_medida gen_unidad_medida_fk; Type: FK CONSTRAINT; Schema: general; Owner: postgres
--

ALTER TABLE ONLY general.gen_uni_medida
    ADD CONSTRAINT gen_unidad_medida_fk FOREIGN KEY (id_tip_unidad) REFERENCES general.gen_tip_unidad(id_tip_unidad);


--
-- TOC entry 2914 (class 2606 OID 24898)
-- Name: inv_inv_suc inv_inv_suc_fk; Type: FK CONSTRAINT; Schema: inventario; Owner: postgres
--

ALTER TABLE ONLY inventario.inv_inv_suc
    ADD CONSTRAINT inv_inv_suc_fk FOREIGN KEY (id_inventario) REFERENCES inventario.inv_inventario(id_inventario);


--
-- TOC entry 2915 (class 2606 OID 24903)
-- Name: inv_inv_suc inv_inv_suc_fk1; Type: FK CONSTRAINT; Schema: inventario; Owner: postgres
--

ALTER TABLE ONLY inventario.inv_inv_suc
    ADD CONSTRAINT inv_inv_suc_fk1 FOREIGN KEY (id_sucursal) REFERENCES general.gen_sucursal(id_sucursal);


--
-- TOC entry 2910 (class 2606 OID 25497)
-- Name: inv_inventario inv_inventario_fk; Type: FK CONSTRAINT; Schema: inventario; Owner: postgres
--

ALTER TABLE ONLY inventario.inv_inventario
    ADD CONSTRAINT inv_inventario_fk FOREIGN KEY (id_uni_medida) REFERENCES general.gen_uni_medida(id_uni_medida);


--
-- TOC entry 2911 (class 2606 OID 25502)
-- Name: inv_inventario inv_inventario_fk1; Type: FK CONSTRAINT; Schema: inventario; Owner: postgres
--

ALTER TABLE ONLY inventario.inv_inventario
    ADD CONSTRAINT inv_inventario_fk1 FOREIGN KEY (id_formula) REFERENCES general.par_formula(id_formula);


--
-- TOC entry 2912 (class 2606 OID 25563)
-- Name: inv_inventario inv_inventario_fk2; Type: FK CONSTRAINT; Schema: inventario; Owner: postgres
--

ALTER TABLE ONLY inventario.inv_inventario
    ADD CONSTRAINT inv_inventario_fk2 FOREIGN KEY (id_grupo) REFERENCES inventario.inv_grupo(id_grupo);


--
-- TOC entry 2913 (class 2606 OID 25568)
-- Name: inv_inventario inv_inventario_fk3; Type: FK CONSTRAINT; Schema: inventario; Owner: postgres
--

ALTER TABLE ONLY inventario.inv_inventario
    ADD CONSTRAINT inv_inventario_fk3 FOREIGN KEY (id_fondo) REFERENCES financiero.fin_fondo(id_fondo);


--
-- TOC entry 2907 (class 2606 OID 16437)
-- Name: seg_role_usuario seg_role_usuario_fk; Type: FK CONSTRAINT; Schema: seguridad; Owner: postgres
--

ALTER TABLE ONLY seguridad.seg_role_usuario
    ADD CONSTRAINT seg_role_usuario_fk FOREIGN KEY (id_role) REFERENCES seguridad.seg_role(id_role);


--
-- TOC entry 2908 (class 2606 OID 16490)
-- Name: seg_role_usuario seg_role_usuario_fk2; Type: FK CONSTRAINT; Schema: seguridad; Owner: postgres
--

ALTER TABLE ONLY seguridad.seg_role_usuario
    ADD CONSTRAINT seg_role_usuario_fk2 FOREIGN KEY (id_usuario) REFERENCES seguridad.seg_usuario(id_usuario);


--
-- TOC entry 2905 (class 2606 OID 16444)
-- Name: seg_usuario seg_usuario_fk; Type: FK CONSTRAINT; Schema: seguridad; Owner: postgres
--

ALTER TABLE ONLY seguridad.seg_usuario
    ADD CONSTRAINT seg_usuario_fk FOREIGN KEY (id_persona) REFERENCES general.gen_persona(id_persona);


--
-- TOC entry 2906 (class 2606 OID 24888)
-- Name: seg_usuario seg_usuario_fk1; Type: FK CONSTRAINT; Schema: seguridad; Owner: postgres
--

ALTER TABLE ONLY seguridad.seg_usuario
    ADD CONSTRAINT seg_usuario_fk1 FOREIGN KEY (id_sucursal) REFERENCES general.gen_sucursal(id_sucursal);


--
-- TOC entry 2909 (class 2606 OID 16475)
-- Name: cli_cliente cli_cliente_fk; Type: FK CONSTRAINT; Schema: ventas; Owner: postgres
--

ALTER TABLE ONLY ventas.cli_cliente
    ADD CONSTRAINT cli_cliente_fk FOREIGN KEY (id_persona) REFERENCES general.gen_persona(id_persona);


-- Completed on 2022-10-04 21:40:41

--
-- PostgreSQL database dump complete
--

